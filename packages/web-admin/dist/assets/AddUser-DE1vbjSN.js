import{V as R,r as n,x as B,w as L,v as e,B as O,T as U,y as b,K as N,Q as T,R as z,U as q,z as _}from"./index-BFPSIpCx.js";import{u as M,f as Q}from"./index-CexvglWR.js";import{h as K,u as G,F as r,f as l}from"./index.esm-Cjy54hoM.js";import{I as H}from"./IsdModal-4LOZauw6.js";import{t as W}from"./today-D_vLUvRX.js";import{u as $}from"./HasPermission-Dz1RX8IC.js";import{N as J}from"./Dashboard-CmmBgoMl.js";import{F as c,d as i,I as m}from"./utils-DGMmCGlW.js";import{C as w,a as P}from"./card-body-DS4aeq0P.js";import{I as X}from"./input-group-BMKEi_kL.js";import{I as Y}from"./input-addon-BqQivygC.js";import{S as Z}from"./select-OppVOMPE.js";import{D as ee}from"./createLucideIcon-C1VZi4Qy.js";import{T as se}from"./index-C7DuEf2v.js";import{V as ae}from"./v-stack-BIlgOTDa.js";import"./SettingData-DvTyOSTZ.js";import"./tr-BasSmpYP.js";import"./image-4nR63Jb_.js";import"./visually-hidden.style-BGGO2DOy.js";import"./split-CzYrjwZo.js";function Pe(){const{register:a,handleSubmit:v,reset:D}=K(),f=R(),[k,u]=n.useState(),A=B(),t=G(),[o,p]=n.useState(null),[g,E]=n.useState("+998"),{isOpen:V,onOpen:y,onClose:C}=M(),x=n.useRef(),{t:s}=L(),S=d=>{const h=d.target.files[0];p(h)},I=async d=>{if(d.password!=d.cnfPassword)return l(t,"error","password does not match");let h={image:o,isd_code:g,...d};try{u(!0);const j=await q(_.token,"add_user",h);u(!1),j.response===200?(l(t,"success",s("users.add.messages.success")),A.invalidateQueries({queryKey:["users"]}),D(),f("/users")):l(t,"error",s("users.add.messages.error"))}catch{u(!1),l(t,"error",s("users.add.messages.error"))}},{hasPermission:F}=$();return F("USER_UPDATE")?e.jsxDEV(O,{children:[e.jsxDEV(c,{justify:"space-between",alignItems:"center",children:[e.jsxDEV(U,{fontSize:20,fontWeight:500,children:s("users.add.title")},void 0,!1,{fileName:"/home/chan/medicare-samite/medicare-samite/packages/web-admin/src/Pages/Users/AddUser.jsx",lineNumber:75,columnNumber:9},this),e.jsxDEV(b,{w:120,size:"sm",variant:N("blackButton","gray"),onClick:()=>{f(-1)},children:s("users.add.back")},void 0,!1,{fileName:"/home/chan/medicare-samite/medicare-samite/packages/web-admin/src/Pages/Users/AddUser.jsx",lineNumber:80,columnNumber:9},this)]},void 0,!0,{fileName:"/home/chan/medicare-samite/medicare-samite/packages/web-admin/src/Pages/Users/AddUser.jsx",lineNumber:72,columnNumber:7},this),e.jsxDEV(c,{gap:10,children:[e.jsxDEV(w,{mt:5,bg:N("white","gray.700"),w:"70%",children:e.jsxDEV(P,{p:3,as:"form",onSubmit:v(I),children:[e.jsxDEV(c,{gap:10,children:[e.jsxDEV(i,{children:[e.jsxDEV(r,{children:s("users.add.form.email.label")},void 0,!1,{fileName:"/home/chan/medicare-samite/medicare-samite/packages/web-admin/src/Pages/Users/AddUser.jsx",lineNumber:102,columnNumber:17},this),e.jsxDEV(m,{w:250,type:"email",placeholder:s("users.add.form.email.placeholder"),...a("email")},void 0,!1,{fileName:"/home/chan/medicare-samite/medicare-samite/packages/web-admin/src/Pages/Users/AddUser.jsx",lineNumber:103,columnNumber:17},this)]},void 0,!0,{fileName:"/home/chan/medicare-samite/medicare-samite/packages/web-admin/src/Pages/Users/AddUser.jsx",lineNumber:101,columnNumber:15},this),e.jsxDEV(i,{children:[e.jsxDEV(r,{children:s("users.add.form.password.label")},void 0,!1,{fileName:"/home/chan/medicare-samite/medicare-samite/packages/web-admin/src/Pages/Users/AddUser.jsx",lineNumber:112,columnNumber:17},this),e.jsxDEV(m,{type:"password",placeholder:s("users.add.form.password.placeholder"),...a("password")},void 0,!1,{fileName:"/home/chan/medicare-samite/medicare-samite/packages/web-admin/src/Pages/Users/AddUser.jsx",lineNumber:113,columnNumber:17},this)]},void 0,!0,{fileName:"/home/chan/medicare-samite/medicare-samite/packages/web-admin/src/Pages/Users/AddUser.jsx",lineNumber:111,columnNumber:15},this),e.jsxDEV(i,{children:[e.jsxDEV(r,{children:s("users.add.form.confirmPassword.label")},void 0,!1,{fileName:"/home/chan/medicare-samite/medicare-samite/packages/web-admin/src/Pages/Users/AddUser.jsx",lineNumber:120,columnNumber:17},this),e.jsxDEV(m,{type:"password",placeholder:s("users.add.form.confirmPassword.placeholder"),...a("cnfPassword")},void 0,!1,{fileName:"/home/chan/medicare-samite/medicare-samite/packages/web-admin/src/Pages/Users/AddUser.jsx",lineNumber:121,columnNumber:17},this)]},void 0,!0,{fileName:"/home/chan/medicare-samite/medicare-samite/packages/web-admin/src/Pages/Users/AddUser.jsx",lineNumber:119,columnNumber:15},this)]},void 0,!0,{fileName:"/home/chan/medicare-samite/medicare-samite/packages/web-admin/src/Pages/Users/AddUser.jsx",lineNumber:100,columnNumber:13},this),e.jsxDEV(c,{gap:10,mt:5,children:[e.jsxDEV(i,{isRequired:!0,children:[e.jsxDEV(r,{children:s("users.add.form.firstName.label")},void 0,!1,{fileName:"/home/chan/medicare-samite/medicare-samite/packages/web-admin/src/Pages/Users/AddUser.jsx",lineNumber:132,columnNumber:17},this),e.jsxDEV(m,{placeholder:s("users.add.form.firstName.placeholder"),...a("f_name",{required:!0})},void 0,!1,{fileName:"/home/chan/medicare-samite/medicare-samite/packages/web-admin/src/Pages/Users/AddUser.jsx",lineNumber:133,columnNumber:17},this)]},void 0,!0,{fileName:"/home/chan/medicare-samite/medicare-samite/packages/web-admin/src/Pages/Users/AddUser.jsx",lineNumber:131,columnNumber:15},this),e.jsxDEV(i,{isRequired:!0,children:[e.jsxDEV(r,{children:s("users.add.form.lastName.label")},void 0,!1,{fileName:"/home/chan/medicare-samite/medicare-samite/packages/web-admin/src/Pages/Users/AddUser.jsx",lineNumber:140,columnNumber:17},this),e.jsxDEV(m,{placeholder:s("users.add.form.lastName.placeholder"),...a("l_name",{required:!0})},void 0,!1,{fileName:"/home/chan/medicare-samite/medicare-samite/packages/web-admin/src/Pages/Users/AddUser.jsx",lineNumber:141,columnNumber:17},this)]},void 0,!0,{fileName:"/home/chan/medicare-samite/medicare-samite/packages/web-admin/src/Pages/Users/AddUser.jsx",lineNumber:139,columnNumber:15},this)]},void 0,!0,{fileName:"/home/chan/medicare-samite/medicare-samite/packages/web-admin/src/Pages/Users/AddUser.jsx",lineNumber:128,columnNumber:13},this),e.jsxDEV(c,{gap:10,mt:5,children:[e.jsxDEV(i,{children:[e.jsxDEV(r,{children:s("users.add.form.phone.label")},void 0,!1,{fileName:"/home/chan/medicare-samite/medicare-samite/packages/web-admin/src/Pages/Users/AddUser.jsx",lineNumber:152,columnNumber:17},this),e.jsxDEV(X,{children:[e.jsxDEV(Y,{cursor:"pointer",onClick:d=>{d.stopPropagation(),y()},children:[g," ",e.jsxDEV(Q,{style:{marginLeft:"10px"}},void 0,!1,{fileName:"/home/chan/medicare-samite/medicare-samite/packages/web-admin/src/Pages/Users/AddUser.jsx",lineNumber:160,columnNumber:32},this)]},void 0,!0,{fileName:"/home/chan/medicare-samite/medicare-samite/packages/web-admin/src/Pages/Users/AddUser.jsx",lineNumber:154,columnNumber:19},this),e.jsxDEV(m,{type:"tel",placeholder:s("users.add.form.phone.placeholder"),...a("phone",{pattern:/^[+]*[(]{0,1}[0-9]{1,3}[)]{0,1}[-\s\\./0-9]*$/g})},void 0,!1,{fileName:"/home/chan/medicare-samite/medicare-samite/packages/web-admin/src/Pages/Users/AddUser.jsx",lineNumber:162,columnNumber:19},this)]},void 0,!0,{fileName:"/home/chan/medicare-samite/medicare-samite/packages/web-admin/src/Pages/Users/AddUser.jsx",lineNumber:153,columnNumber:17},this)]},void 0,!0,{fileName:"/home/chan/medicare-samite/medicare-samite/packages/web-admin/src/Pages/Users/AddUser.jsx",lineNumber:151,columnNumber:15},this),e.jsxDEV(i,{children:[e.jsxDEV(r,{children:s("users.add.form.dateOfBirth.label")},void 0,!1,{fileName:"/home/chan/medicare-samite/medicare-samite/packages/web-admin/src/Pages/Users/AddUser.jsx",lineNumber:172,columnNumber:17},this),e.jsxDEV(m,{max:W(),placeholder:s("users.add.form.dateOfBirth.placeholder"),size:"md",type:"date",...a("dob")},void 0,!1,{fileName:"/home/chan/medicare-samite/medicare-samite/packages/web-admin/src/Pages/Users/AddUser.jsx",lineNumber:173,columnNumber:17},this)]},void 0,!0,{fileName:"/home/chan/medicare-samite/medicare-samite/packages/web-admin/src/Pages/Users/AddUser.jsx",lineNumber:171,columnNumber:15},this),e.jsxDEV(i,{children:[e.jsxDEV(r,{children:s("users.add.form.gender.label")},void 0,!1,{fileName:"/home/chan/medicare-samite/medicare-samite/packages/web-admin/src/Pages/Users/AddUser.jsx",lineNumber:182,columnNumber:17},this),e.jsxDEV(Z,{placeholder:s("users.add.form.gender.placeholder"),...a("gender"),children:[e.jsxDEV("option",{value:"Female",children:s("users.add.form.gender.options.female")},void 0,!1,{fileName:"/home/chan/medicare-samite/medicare-samite/packages/web-admin/src/Pages/Users/AddUser.jsx",lineNumber:186,columnNumber:19},this)," ",e.jsxDEV("option",{value:"Male",children:s("users.add.form.gender.options.male")},void 0,!1,{fileName:"/home/chan/medicare-samite/medicare-samite/packages/web-admin/src/Pages/Users/AddUser.jsx",lineNumber:187,columnNumber:19},this)]},void 0,!0,{fileName:"/home/chan/medicare-samite/medicare-samite/packages/web-admin/src/Pages/Users/AddUser.jsx",lineNumber:183,columnNumber:17},this)]},void 0,!0,{fileName:"/home/chan/medicare-samite/medicare-samite/packages/web-admin/src/Pages/Users/AddUser.jsx",lineNumber:181,columnNumber:15},this)]},void 0,!0,{fileName:"/home/chan/medicare-samite/medicare-samite/packages/web-admin/src/Pages/Users/AddUser.jsx",lineNumber:148,columnNumber:13},this),e.jsxDEV(b,{w:"100%",mt:10,type:"submit",colorScheme:"green",size:"sm",isLoading:k,children:s("users.add.buttons.add")},void 0,!1,{fileName:"/home/chan/medicare-samite/medicare-samite/packages/web-admin/src/Pages/Users/AddUser.jsx",lineNumber:192,columnNumber:13},this)]},void 0,!0,{fileName:"/home/chan/medicare-samite/medicare-samite/packages/web-admin/src/Pages/Users/AddUser.jsx",lineNumber:96,columnNumber:11},this)},void 0,!1,{fileName:"/home/chan/medicare-samite/medicare-samite/packages/web-admin/src/Pages/Users/AddUser.jsx",lineNumber:92,columnNumber:9},this),e.jsxDEV(w,{mt:5,bg:N("white","gray.700"),w:"25%",h:"fit-content",pb:10,children:e.jsxDEV(P,{p:2,children:[e.jsxDEV(U,{textAlign:"center",children:s("users.add.form.profilePicture.label")},void 0,!1,{fileName:"/home/chan/medicare-samite/medicare-samite/packages/web-admin/src/Pages/Users/AddUser.jsx",lineNumber:210,columnNumber:13},this),e.jsxDEV(ee,{},void 0,!1,{fileName:"/home/chan/medicare-samite/medicare-samite/packages/web-admin/src/Pages/Users/AddUser.jsx",lineNumber:211,columnNumber:13},this),e.jsxDEV(c,{p:2,justify:"center",mt:5,position:"relative",children:[e.jsxDEV(T,{borderRadius:"50%",h:200,objectFit:"cover",w:200,src:o?URL.createObjectURL(o):"/admin/profilePicturePlaceholder.png"},void 0,!1,{fileName:"/home/chan/medicare-samite/medicare-samite/packages/web-admin/src/Pages/Users/AddUser.jsx",lineNumber:217,columnNumber:15},this),o&&e.jsxDEV(se,{label:s("users.add.form.profilePicture.clear"),fontSize:"md",children:e.jsxDEV(z,{colorScheme:"red",variant:"solid",position:"absolute",right:2,onClick:()=>{p(null)}},void 0,!1,{fileName:"/home/chan/medicare-samite/medicare-samite/packages/web-admin/src/Pages/Users/AddUser.jsx",lineNumber:232,columnNumber:19},this)},void 0,!1,{fileName:"/home/chan/medicare-samite/medicare-samite/packages/web-admin/src/Pages/Users/AddUser.jsx",lineNumber:229,columnNumber:17},this)]},void 0,!0,{fileName:"/home/chan/medicare-samite/medicare-samite/packages/web-admin/src/Pages/Users/AddUser.jsx",lineNumber:212,columnNumber:13},this),e.jsxDEV(ae,{spacing:4,align:"stretch",mt:10,children:[e.jsxDEV(m,{type:"file",display:"none",ref:x,onChange:S,accept:".jpeg, .svg, .png , .jpg"},void 0,!1,{fileName:"/home/chan/medicare-samite/medicare-samite/packages/web-admin/src/Pages/Users/AddUser.jsx",lineNumber:248,columnNumber:15},this),e.jsxDEV(b,{size:"sm",onClick:()=>{x.current.click()},colorScheme:"blue",children:s("users.add.form.profilePicture.upload")},void 0,!1,{fileName:"/home/chan/medicare-samite/medicare-samite/packages/web-admin/src/Pages/Users/AddUser.jsx",lineNumber:256,columnNumber:15},this)]},void 0,!0,{fileName:"/home/chan/medicare-samite/medicare-samite/packages/web-admin/src/Pages/Users/AddUser.jsx",lineNumber:244,columnNumber:13},this)]},void 0,!0,{fileName:"/home/chan/medicare-samite/medicare-samite/packages/web-admin/src/Pages/Users/AddUser.jsx",lineNumber:209,columnNumber:11},this)},void 0,!1,{fileName:"/home/chan/medicare-samite/medicare-samite/packages/web-admin/src/Pages/Users/AddUser.jsx",lineNumber:203,columnNumber:9},this)]},void 0,!0,{fileName:"/home/chan/medicare-samite/medicare-samite/packages/web-admin/src/Pages/Users/AddUser.jsx",lineNumber:91,columnNumber:7},this),e.jsxDEV(H,{isOpen:V,onClose:C,setisd_code:E},void 0,!1,{fileName:"/home/chan/medicare-samite/medicare-samite/packages/web-admin/src/Pages/Users/AddUser.jsx",lineNumber:270,columnNumber:7},this)]},void 0,!0,{fileName:"/home/chan/medicare-samite/medicare-samite/packages/web-admin/src/Pages/Users/AddUser.jsx",lineNumber:71,columnNumber:5},this):e.jsxDEV(J,{},void 0,!1,{fileName:"/home/chan/medicare-samite/medicare-samite/packages/web-admin/src/Pages/Users/AddUser.jsx",lineNumber:68,columnNumber:45},this)}export{Pe as default};
