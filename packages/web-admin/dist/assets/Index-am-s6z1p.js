import{r as d,w,V as $,v as e,B as y,y as Q,J as P,L as F,O as q,z as G}from"./index-DPnYdkUz.js";import{e as W}from"./index-Bm_h8oZt.js";import{u as H}from"./SettingData-o9nA5JFe.js";import{F as J}from"./index-DJio6C7j.js";import{u as K,N as U,D as X,P as Z,S as g}from"./Dashboard-yaE9KkgM.js";import{u as V}from"./HasPermission-B2qlt3qD.js";import{A as ee,D as ae,E as se}from"./Add-Bgami-gY.js";import{u as ne}from"./index.esm-7HBFntiH.js";import{F as u,I as me}from"./utils-CbOPTj9R.js";import{u as j,I as k}from"./index-DKSfyVZ9.js";import"./createLucideIcon-cf9l0Mkm.js";import"./tr-B7dii5kF.js";import"./image-CECpK_E2.js";import"./visually-hidden.style-CjB5JpNG.js";import"./today-D_vLUvRX.js";import"./select-DPafIhJF.js";import"./split-CzYrjwZo.js";import"./UsersComboBox-C1IpT6-x.js";import"./popover-Cm6ek3zh.js";import"./Users-B0UqFu_G.js";import"./IsdModal-CDLqM4QY.js";import"./input-group-DWmv1S0J.js";import"./input-addon-CU1dmJBi.js";const v=50,ie=(s,a)=>{const m=(s-1)*a,n=m+a-1;return{startIndex:m,endIndex:n}},re=s=>s==null?void 0:s.map(a=>{const{id:m,user_id:n,f_name:t,l_name:r,phone:b,gender:f,dob:c,created_at:h,user_f_name:x,user_l_name:l,user_phone:p}=a;return{id:m,user_id:n,"Member name":`${t} ${r}`,"Member Phone":b,"parent Name":`${x} ${l}`,"parent Phone":p,gender:f,dateOfBirth:c?P(c).format("DD MMM YYYY"):"N/A",createdAt:P(h).format("DD MMM YYYY hh:mm a")}}),_e=()=>{const{hasPermission:s}=V(),[a,m]=d.useState(null),[n,t]=d.useState(1),[r,b]=d.useState(""),f=K(r,1e3),{t:c}=w(),{startIndex:h,endIndex:x}=ie(n,v),{isOpen:l,onOpen:p,onClose:_}=j(),{isOpen:D,onOpen:A,onClose:C}=j(),{isOpen:E,onOpen:O,onClose:S}=j(),N=ne(),Y=$(),M=d.useRef(null),{isLoading:L,data:o,error:I}=H({queryKey:["family-members",n,f],queryFn:async()=>{const i=await q(G.token,`get_family_member/page?start=${h}&end=${x}`);return{data:i.data,totalRecord:i.total_record}}}),T=i=>t(i);d.useEffect(()=>{M.current&&M.current.scrollIntoView({behavior:"smooth",block:"start"})},[n]),d.useEffect(()=>{I&&!N.isActive("Errortoast")&&N({id:"Errortoast",title:c("familyMembers.index.messages.error"),description:c("familyMembers.index.messages.error"),status:"error",duration:2e3,isClosable:!0,position:"top"})},[I,N]);const z=re(o==null?void 0:o.data),B=Math.ceil((o==null?void 0:o.totalRecord)/v),R=i=>m(i);return s("FAMILY_VIEW")?e.jsxDEV(y,{children:[L||!o?e.jsxDEV(oe,{},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Family-Members/Index.jsx",lineNumber:114,columnNumber:9},void 0):e.jsxDEV(y,{children:[e.jsxDEV(u,{mb:5,justify:"space-between",align:"center",children:[e.jsxDEV(me,{size:"md",placeholder:"Search",w:400,maxW:"50vw",onChange:i=>b(i.target.value),value:r},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Family-Members/Index.jsx",lineNumber:121,columnNumber:13},void 0),e.jsxDEV(Q,{size:"sm",colorScheme:"blue",onClick:p,isDisabled:!s("FAMILY_ADD"),children:c("familyMembers.index.buttons.add")},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Family-Members/Index.jsx",lineNumber:130,columnNumber:13},void 0)]},void 0,!0,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Family-Members/Index.jsx",lineNumber:117,columnNumber:11},void 0),e.jsxDEV(X,{minPad:"1px 20px",data:z,onActionClick:e.jsxDEV(te,{onClick:R,navigate:Y,rowData:a,DeleteonOpen:A,EditonOpen:O},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Family-Members/Index.jsx",lineNumber:142,columnNumber:15},void 0)},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Family-Members/Index.jsx",lineNumber:138,columnNumber:11},void 0)]},void 0,!0,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Family-Members/Index.jsx",lineNumber:116,columnNumber:9},void 0),e.jsxDEV(u,{justify:"center",mt:4,children:e.jsxDEV(Z,{currentPage:n,onPageChange:T,totalPages:B},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Family-Members/Index.jsx",lineNumber:156,columnNumber:9},void 0)},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Family-Members/Index.jsx",lineNumber:153,columnNumber:7},void 0),l&&e.jsxDEV(ee,{isOpen:l,onClose:_},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Family-Members/Index.jsx",lineNumber:164,columnNumber:9},void 0),D&&e.jsxDEV(ae,{isOpen:D,onClose:C,data:a},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Family-Members/Index.jsx",lineNumber:171,columnNumber:9},void 0),E&&e.jsxDEV(se,{isOpen:E,onClose:S,data:a},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Family-Members/Index.jsx",lineNumber:178,columnNumber:9},void 0)]},void 0,!0,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Family-Members/Index.jsx",lineNumber:112,columnNumber:5},void 0):e.jsxDEV(U,{},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Family-Members/Index.jsx",lineNumber:109,columnNumber:45},void 0)},oe=()=>e.jsxDEV(y,{children:[e.jsxDEV(u,{mb:5,justify:"space-between",children:[e.jsxDEV(g,{w:400,h:8},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Family-Members/Index.jsx",lineNumber:191,columnNumber:7},void 0),e.jsxDEV(g,{w:200,h:8},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Family-Members/Index.jsx",lineNumber:192,columnNumber:7},void 0)]},void 0,!0,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Family-Members/Index.jsx",lineNumber:190,columnNumber:5},void 0),Array.from({length:10}).map((s,a)=>e.jsxDEV(g,{h:10,w:"100%",mt:2},a,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Family-Members/Index.jsx",lineNumber:195,columnNumber:7},void 0))]},void 0,!0,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Family-Members/Index.jsx",lineNumber:189,columnNumber:3},void 0),te=({onClick:s,rowData:a,DeleteonOpen:m,EditonOpen:n})=>{const{hasPermission:t}=V(),{t:r}=w();return e.jsxDEV(u,{justify:"center",children:[e.jsxDEV(k,{"aria-label":r("familyMembers.index.buttons.edit"),isDisabled:!t("FAMILY_UPDATE"),size:"sm",variant:"ghost",_hover:{background:"none"},onClick:()=>{s(a),n()},icon:e.jsxDEV(W,{fontSize:18,color:F.colors.blue[500]},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Family-Members/Index.jsx",lineNumber:216,columnNumber:11},void 0)},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Family-Members/Index.jsx",lineNumber:205,columnNumber:7},void 0),e.jsxDEV(k,{"aria-label":r("familyMembers.index.buttons.delete"),isDisabled:!t("FAMILY_DELETE"),size:"sm",variant:"ghost",_hover:{background:"none"},onClick:()=>{s(a),m()},icon:e.jsxDEV(J,{fontSize:18,color:F.colors.red[500]},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Family-Members/Index.jsx",lineNumber:236,columnNumber:11},void 0)},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Family-Members/Index.jsx",lineNumber:223,columnNumber:7},void 0)]},void 0,!0,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Family-Members/Index.jsx",lineNumber:204,columnNumber:5},void 0)};export{_e as default};
