import{w as j,r as h,x as I,v as e,y as P,D as K,z as y,U as G,B as k,K as v,aE as S,N as Y}from"./index-BqRQ5zR-.js";import{F as X}from"./index-CS1DgOx7.js";import{e as Z}from"./index-D6RHo-Rw.js";import{u as ee}from"./SettingData-CxfeWvqW.js";import{u as A}from"./useMutation-9OMn6k9Q.js";import{u as w,b as se,c as re,d as ie,e as ae,f as u}from"./index.esm-CDWxJwJY.js";import{A as ne,a as te,N as oe,S as d,D as me}from"./Dashboard-DfQ9GR_Q.js";import{u as _}from"./HasPermission-BxGNMDGA.js";import{F as U,I as ce,d as T}from"./utils-BcOZwoxx.js";import{u as de,I as C}from"./index-CdSaDTFS.js";import{S as O}from"./switch-CNJGp76f.js";import"./createLucideIcon-Ha6tAQX1.js";import"./tr-IqXuou1v.js";import"./image-CynZshwF.js";import"./visually-hidden.style-BiwU0iRL.js";function le({isOpen:i,onClose:t,data:r}){const{t:m}=j(),o=w(),n=h.useRef(),x=I(),[D,s]=h.useState(!1),c=async()=>{let f={id:r.id};try{s(!0);const a=await K(y.token,"delete_specialization",f);s(!1),a.response===200?(u(o,"success",m("doctors.delete.success")),x.invalidateQueries({queryKey:["doctors"]}),t()):u(o,"error",a.message)}catch(a){s(!1),u(o,"error",JSON.stringify(a))}};return e.jsxDEV(ne,{isOpen:i,onClose:t,leastDestructiveRef:n,isCentered:!0,children:e.jsxDEV(se,{children:e.jsxDEV(te,{children:[e.jsxDEV(re,{fontSize:"lg",fontWeight:"semi-bold",children:m("doctors.delete.titleWithName",{id:r==null?void 0:r.id,firstName:r==null?void 0:r.f_name,lastName:r==null?void 0:r.l_name})},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Doctors/Delete.jsx",lineNumber:55,columnNumber:11},this),e.jsxDEV(ie,{children:m("doctors.delete.confirmMessage")},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Doctors/Delete.jsx",lineNumber:63,columnNumber:11},this),e.jsxDEV(ae,{children:[e.jsxDEV(P,{ref:n,onClick:t,colorScheme:"gray",size:"sm",children:m("doctors.delete.cancel")},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Doctors/Delete.jsx",lineNumber:68,columnNumber:13},this),e.jsxDEV(P,{colorScheme:"red",onClick:c,ml:3,size:"sm",isLoading:D,children:m("doctors.delete.confirm")},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Doctors/Delete.jsx",lineNumber:75,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Doctors/Delete.jsx",lineNumber:67,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Doctors/Delete.jsx",lineNumber:54,columnNumber:9},this)},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Doctors/Delete.jsx",lineNumber:53,columnNumber:7},this)},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Doctors/Delete.jsx",lineNumber:48,columnNumber:5},this)}function Ve(){const{t:i}=j(),{hasPermission:t}=_(),[r,m]=h.useState(),[o,n]=h.useState(),{isOpen:x,onClose:D}=de(),s=G(),c=w(),f="Errortoast",a=async()=>{await i();const l=await Y(y.token,"get_doctor");return l==null?void 0:l.data.map(N=>{const{id:p,user_id:b,image:g,f_name:B,l_name:q,phone:L,email:M,specialization:W,department_name:H,active:J,stop_booking:$}=N;return{id:p,UserID:b,image:g,Name:`${B} ${q}`,phone:L,email:M,specialization:W,dept:H,active:e.jsxDEV(fe,{id:b,isActive:J},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Doctors/Index.jsx",lineNumber:60,columnNumber:11},this),"Stop Booking":e.jsxDEV(xe,{id:b,isStop_booking:$},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Doctors/Index.jsx",lineNumber:66,columnNumber:11},this)}})},z=l=>{m(l)},{isLoading:F,data:V,error:R}=ee({queryKey:["doctors"],queryFn:a});R&&(c.isActive(f)||c({id:f,title:i("doctors.index.errors.title"),description:i("doctors.index.errors.description"),status:"error",duration:2e3,isClosable:!0,position:"top"}));function Q(l,E=""){return E?l.filter(N=>{var p;for(const b in N){const g=(p=N[b])==null?void 0:p.toString().toLowerCase();if(g&&g.includes(E.toLowerCase()))return!0}return!1}):l}return t("DOCTOR_VIEW")?e.jsxDEV(k,{children:[F||!V?e.jsxDEV(k,{children:[e.jsxDEV(U,{mb:5,justify:"space-between",children:[e.jsxDEV(d,{w:400,h:8},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Doctors/Index.jsx",lineNumber:126,columnNumber:13},this),e.jsxDEV(d,{w:200,h:8},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Doctors/Index.jsx",lineNumber:130,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Doctors/Index.jsx",lineNumber:123,columnNumber:11},this),e.jsxDEV(d,{h:10,w:"100%",mt:2},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Doctors/Index.jsx",lineNumber:135,columnNumber:11},this),e.jsxDEV(d,{h:10,w:"100%",mt:2},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Doctors/Index.jsx",lineNumber:140,columnNumber:11},this),e.jsxDEV(d,{h:10,w:"100%",mt:2},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Doctors/Index.jsx",lineNumber:145,columnNumber:11},this),e.jsxDEV(d,{h:10,w:"100%",mt:2},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Doctors/Index.jsx",lineNumber:150,columnNumber:11},this),e.jsxDEV(d,{h:10,w:"100%",mt:2},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Doctors/Index.jsx",lineNumber:155,columnNumber:11},this),e.jsxDEV(d,{h:10,w:"100%",mt:2},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Doctors/Index.jsx",lineNumber:160,columnNumber:11},this),e.jsxDEV(d,{h:10,w:"100%",mt:2},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Doctors/Index.jsx",lineNumber:165,columnNumber:11},this),e.jsxDEV(d,{h:10,w:"100%",mt:2},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Doctors/Index.jsx",lineNumber:170,columnNumber:11},this),e.jsxDEV(d,{h:10,w:"100%",mt:2},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Doctors/Index.jsx",lineNumber:175,columnNumber:11},this),e.jsxDEV(d,{h:10,w:"100%",mt:2},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Doctors/Index.jsx",lineNumber:180,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Doctors/Index.jsx",lineNumber:122,columnNumber:9},this):e.jsxDEV(k,{children:[e.jsxDEV(U,{mb:5,justify:"space-between",align:"center",children:[e.jsxDEV(ce,{size:"md",placeholder:i("doctors.index.search"),w:400,maxW:"50vw",onChange:l=>{n(l.target.value)}},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Doctors/Index.jsx",lineNumber:192,columnNumber:13},this),e.jsxDEV(k,{children:e.jsxDEV(P,{isDisabled:!t("DOCTOR_ADD"),size:"sm",colorScheme:"blue",onClick:()=>{s("/doctors/add")},children:i("doctors.index.addNew")},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Doctors/Index.jsx",lineNumber:202,columnNumber:15},this)},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Doctors/Index.jsx",lineNumber:201,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Doctors/Index.jsx",lineNumber:188,columnNumber:11},this),e.jsxDEV(me,{data:Q(V,o),onActionClick:e.jsxDEV(ue,{onClick:z,navigate:s,t:i},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Doctors/Index.jsx",lineNumber:216,columnNumber:15},this)},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Doctors/Index.jsx",lineNumber:213,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Doctors/Index.jsx",lineNumber:187,columnNumber:9},this),e.jsxDEV(le,{isOpen:x,onClose:D,data:r},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Doctors/Index.jsx",lineNumber:226,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Doctors/Index.jsx",lineNumber:120,columnNumber:5},this):e.jsxDEV(oe,{message:i("doctors.index.noPermission")},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Doctors/Index.jsx",lineNumber:117,columnNumber:45},this)}const ue=({onClick:i,rowData:t,DeleteonOpen:r,navigate:m,t:o})=>{const{hasPermission:n}=_();return e.jsxDEV(U,{justify:"center",children:[e.jsxDEV(C,{isDisabled:!n("DOCTOR_UPDATE"),size:"sm",variant:"ghost",_hover:{background:"none"},onClick:()=>{i(t),m(`/doctor/update/${t.UserID}`)},icon:e.jsxDEV(Z,{fontSize:18,color:v.colors.blue[500]},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Doctors/Index.jsx",lineNumber:251,columnNumber:11},void 0)},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Doctors/Index.jsx",lineNumber:239,columnNumber:7},void 0),e.jsxDEV(C,{isDisabled:!n("DOCTOR_UPDATE"),size:"sm",variant:"ghost",_hover:{background:"none"},onClick:()=>{i(t),r()},icon:e.jsxDEV(X,{fontSize:18,color:v.colors.red[500]},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Doctors/Index.jsx",lineNumber:269,columnNumber:11},void 0)},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Doctors/Index.jsx",lineNumber:257,columnNumber:7},void 0)]},void 0,!0,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Doctors/Index.jsx",lineNumber:238,columnNumber:5},void 0)},fe=({id:i,isActive:t})=>{const{t:r}=j(),{hasPermission:m}=_(),o=w(),n=I(),x=async(s,c)=>{let f={id:s,active:c};try{const a=await S(y.token,"update_doctor",f);a.response===200?(u(o,"success",r("doctors.index.success.updated")),n.invalidateQueries("doctors"),n.invalidateQueries(["doctors","dashboard"]),n.invalidateQueries(["doctor",s])):u(o,"error",a.message)}catch(a){u(o,"error",JSON.stringify(a))}},D=A({mutationFn:async s=>{await x(s.id,s.active)}});return e.jsxDEV(T,{display:"flex",alignItems:"center",children:e.jsxDEV(O,{isDisabled:!m("DOCTOR_UPDATE"),defaultChecked:t===1,size:"sm",onChange:s=>{let c=s.target.checked?1:0;D.mutate({id:i,active:c})}},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Doctors/Index.jsx",lineNumber:311,columnNumber:7},void 0)},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Doctors/Index.jsx",lineNumber:308,columnNumber:5},void 0)},xe=({id:i,isStop_booking:t})=>{const{t:r}=j(),{hasPermission:m}=_(),o=w(),n=I(),x=async(s,c)=>{let f={id:s,stop_booking:c};try{const a=await S(y.token,"update_doctor",f);a.response===200?(u(o,"success",r("doctors.index.success.updated")),n.invalidateQueries("doctors"),n.invalidateQueries(["doctors","dashboard"]),n.invalidateQueries(["doctor",s])):u(o,"error",a.message)}catch(a){u(o,"error",JSON.stringify(a))}},D=A({mutationFn:async s=>{await x(s.id,s.stop_booking)}});return e.jsxDEV(T,{display:"flex",alignItems:"center",children:e.jsxDEV(O,{isDisabled:!m("DOCTOR_UPDATE"),defaultChecked:t===1,size:"sm",onChange:s=>{let c=s.target.checked?1:0;D.mutate({id:i,stop_booking:c})}},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Doctors/Index.jsx",lineNumber:356,columnNumber:7},void 0)},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Doctors/Index.jsx",lineNumber:353,columnNumber:5},void 0)};export{fe as IsActive,xe as StopBooking,Ve as default};
