import{x as w,r as _,w as A,v as e,y as x,S as E,z as V,G as U}from"./index-BqRQ5zR-.js";import{u as C}from"./useMutation-9OMn6k9Q.js";import{u as v,h as S,f,M as z,b as I,a as M,c as O,g as q,d as R,F as t,e as F}from"./index.esm-CDWxJwJY.js";import{u as L,f as B}from"./index-CdSaDTFS.js";import{I as G}from"./IsdModal-DYnTCngq.js";import{t as T}from"./today-D_vLUvRX.js";import{D as Y}from"./createLucideIcon-Ha6tAQX1.js";import{G as Q}from"./grid-DgSVtHSd.js";import{d as n,I as r}from"./utils-BcOZwoxx.js";import{I as K}from"./input-group-D9TmQQ8n.js";import{I as H}from"./input-addon-Cb0INng4.js";import{S as J}from"./select-BdYZ_n_k.js";const $=async d=>{const m=await E(V.token,"add_patient",d);if(m.response!==200)throw new Error(m.message);return m};function le({nextFn:d,isOpen:m,onClose:l}){const p=w(),o=v(),{register:i,handleSubmit:N,reset:P,watch:u}=S(),[c,g]=_.useState("+998"),{isOpen:h,onOpen:D,onClose:k}=L(),{t:s}=A(),b=C({mutationFn:async a=>{await $(a)},onError:a=>{f(o,"error",JSON.stringify(a))},onSuccess:()=>{d&&d({f_name:u("f_name"),l_name:u("l_name"),phone:u("phone")}),f(o,"success",s("patients.add.messages.success")),p.invalidateQueries({queryKey:["users"]}),p.invalidateQueries({queryKey:["patients"]}),l(),P()}}),j=a=>{if(!c)return f(o,"error",s("patients.add.messages.errors.selectIsd"));const y={...a,isd_code:c,dob:a.dob?U(a.dob).format("YYYY-MM-DD"):""};b.mutate(y)};return e.jsxDEV(z,{isOpen:m,onClose:l,isCentered:!0,size:"xl",scrollBehavior:"inside",children:[e.jsxDEV(I,{},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Patients/AddPatients.jsx",lineNumber:68,columnNumber:7},this),e.jsxDEV("form",{onSubmit:N(j),children:e.jsxDEV(M,{borderRadius:8,overflow:"hidden",zIndex:99999999,children:[e.jsxDEV(O,{py:4,fontSize:"md",bg:"blue.700",color:"#fff",children:s("patients.add.title")},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Patients/AddPatients.jsx",lineNumber:71,columnNumber:11},this),e.jsxDEV(q,{top:0,color:"#fff"},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Patients/AddPatients.jsx",lineNumber:74,columnNumber:11},this),e.jsxDEV(Y,{},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Patients/AddPatients.jsx",lineNumber:75,columnNumber:11},this),e.jsxDEV(R,{children:e.jsxDEV(Q,{templateColumns:"repeat(3, 1fr)",gap:6,mt:3,children:[e.jsxDEV(n,{isRequired:!0,gridColumn:"span 3",children:[e.jsxDEV(t,{mb:-1,children:s("patients.add.form.firstName.label")},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Patients/AddPatients.jsx",lineNumber:80,columnNumber:17},this),e.jsxDEV(r,{size:"sm",variant:"flushed",...i("f_name"),placeholder:s("patients.add.form.firstName.placeholder")},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Patients/AddPatients.jsx",lineNumber:81,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Patients/AddPatients.jsx",lineNumber:79,columnNumber:15},this),e.jsxDEV(n,{isRequired:!0,gridColumn:"span 3",children:[e.jsxDEV(t,{mb:-1,children:s("patients.add.form.lastName.label")},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Patients/AddPatients.jsx",lineNumber:90,columnNumber:17},this),e.jsxDEV(r,{size:"sm",variant:"flushed",...i("l_name"),placeholder:s("patients.add.form.lastName.placeholder")},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Patients/AddPatients.jsx",lineNumber:91,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Patients/AddPatients.jsx",lineNumber:89,columnNumber:15},this),e.jsxDEV(n,{isRequired:!0,gridColumn:"span 3",children:[e.jsxDEV(t,{mb:-1,children:s("patients.add.form.phone.label")},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Patients/AddPatients.jsx",lineNumber:100,columnNumber:17},this),e.jsxDEV(K,{children:[e.jsxDEV(H,{h:8,bg:"none",borderTop:0,borderLeft:0,p:0,pr:2,borderRadius:0,cursor:"pointer",onClick:a=>{a.stopPropagation(),D()},fontSize:"sm",children:[c," ",e.jsxDEV(B,{style:{marginLeft:"10px"}},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Patients/AddPatients.jsx",lineNumber:116,columnNumber:32},this)]},void 0,!0,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Patients/AddPatients.jsx",lineNumber:102,columnNumber:19},this),e.jsxDEV(r,{size:"sm",variant:"flushed",type:"tel",placeholder:s("patients.add.form.phone.placeholder"),...i("phone",{required:!0,pattern:/^[+]*[(]{0,1}[0-9]{1,3}[)]{0,1}[-\s\\./0-9]*$/g})},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Patients/AddPatients.jsx",lineNumber:118,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Patients/AddPatients.jsx",lineNumber:101,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Patients/AddPatients.jsx",lineNumber:99,columnNumber:15},this),e.jsxDEV(n,{isRequired:!0,gridColumn:"span 3",children:[e.jsxDEV(t,{mb:-1,children:s("patients.add.form.gender.label")},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Patients/AddPatients.jsx",lineNumber:132,columnNumber:17},this),e.jsxDEV(J,{size:"sm",variant:"flushed",defaultValue:s("patients.add.form.gender.options.male"),...i("gender"),placeholder:s("patients.add.form.gender.placeholder"),children:[e.jsxDEV("option",{value:"Male",children:s("patients.add.form.gender.options.male")},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Patients/AddPatients.jsx",lineNumber:139,columnNumber:19},this),e.jsxDEV("option",{value:"Female",children:s("patients.add.form.gender.options.female")},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Patients/AddPatients.jsx",lineNumber:140,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Patients/AddPatients.jsx",lineNumber:133,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Patients/AddPatients.jsx",lineNumber:131,columnNumber:15},this),e.jsxDEV(n,{isRequired:!0,gridColumn:"span 3",children:[e.jsxDEV(t,{mb:-1,children:s("patients.add.form.dob.label")},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Patients/AddPatients.jsx",lineNumber:145,columnNumber:17},this),e.jsxDEV(r,{max:T(),size:"sm",variant:"flushed",type:"date",...i("dob")},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Patients/AddPatients.jsx",lineNumber:146,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Patients/AddPatients.jsx",lineNumber:144,columnNumber:15},this),e.jsxDEV(n,{gridColumn:"span 3",children:[e.jsxDEV(t,{mb:-1,children:s("patients.add.form.city.label")},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Patients/AddPatients.jsx",lineNumber:156,columnNumber:17},this),e.jsxDEV(r,{size:"sm",variant:"flushed",...i("city")},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Patients/AddPatients.jsx",lineNumber:157,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Patients/AddPatients.jsx",lineNumber:155,columnNumber:15},this),e.jsxDEV(n,{gridColumn:"span 3",children:[e.jsxDEV(t,{mb:-1,children:s("patients.add.form.state.label")},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Patients/AddPatients.jsx",lineNumber:165,columnNumber:17},this),e.jsxDEV(r,{size:"sm",variant:"flushed",...i("state")},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Patients/AddPatients.jsx",lineNumber:166,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Patients/AddPatients.jsx",lineNumber:164,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Patients/AddPatients.jsx",lineNumber:78,columnNumber:13},this)},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Patients/AddPatients.jsx",lineNumber:77,columnNumber:11},this),e.jsxDEV(F,{children:[e.jsxDEV(x,{colorScheme:"gray",mr:3,onClick:l,size:"sm",children:s("patients.add.buttons.close")},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Patients/AddPatients.jsx",lineNumber:176,columnNumber:13},this),e.jsxDEV(x,{colorScheme:"blue",size:"sm",type:"submit",isLoading:b.isPending,children:s("patients.add.buttons.add")},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Patients/AddPatients.jsx",lineNumber:179,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Patients/AddPatients.jsx",lineNumber:175,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Patients/AddPatients.jsx",lineNumber:70,columnNumber:9},this)},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Patients/AddPatients.jsx",lineNumber:69,columnNumber:7},this),e.jsxDEV(G,{isOpen:h,onClose:k,setisd_code:g},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Patients/AddPatients.jsx",lineNumber:185,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Patients/AddPatients.jsx",lineNumber:67,columnNumber:5},this)}export{le as A};
