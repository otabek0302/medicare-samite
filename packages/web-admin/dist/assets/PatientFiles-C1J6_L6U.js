import{w as C,r as g,x as z,v as e,B as l,T as _,Q as L,R as I,y as E,S as M,z as O,_ as v,H as B,G as T,N as H}from"./index-BqRQ5zR-.js";import{j as R,F as q}from"./index-CS1DgOx7.js";import{u as Q}from"./SettingData-CxfeWvqW.js";import{i as $}from"./image-CynZshwF.js";import{a as G,u as y,I as U}from"./index-CdSaDTFS.js";import{u as W,h as Y,M as J,b as K,a as X,c as Z,g as ee,d as se,F as ie,e as ae,f as p,L as te}from"./index.esm-CDWxJwJY.js";import{D as w}from"./createLucideIcon-Ha6tAQX1.js";import{d as ne,I as V,F as A}from"./utils-BcOZwoxx.js";import{V as re}from"./Dashboard-DfQ9GR_Q.js";import{U as me,D as le}from"./DeletePatientFile-5C8qvgG4.js";import{O as de,a as ce}from"./list-ALK3mONr.js";function oe({isOpen:d,onClose:i,id:c}){const{t:s}=C(),o=g.useRef(),m=W(),b=5*1024*1024,x=z(),{register:D,handleSubmit:k,reset:P}=Y(),[h,u]=g.useState(),[f,t]=g.useState(null),j=r=>{r.preventDefault();const a=r.dataTransfer.files[0];a&&a.size>b?p(m,"error",s("patients.patientFiles.add.messages.error")):t(a)},n=r=>{r.preventDefault()},F=r=>{const a=r.target.files[0];a&&a.size>b?p(m,"error",s("patients.patientFiles.add.messages.error")):t(a)},S=async r=>{const a={...r,patient_id:c,file:f};try{u(!0);const N=await M(O.token,"add_patient_file",a);u(!1),N.response===200?(p(m,"success",s("patients.patientFiles.add.messages.success")),x.invalidateQueries(["patient-files",c]),t(null),P(),i()):p(m,"error",N.message)}catch(N){u(!1),p(m,"error",JSON.stringify(N))}};return e.jsxDEV(J,{isOpen:d,onClose:i,isCentered:!0,size:"lg",children:[e.jsxDEV(K,{},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Patients/AddPatientFiles.jsx",lineNumber:86,columnNumber:7},this),e.jsxDEV(X,{as:"form",onSubmit:k(S),children:[e.jsxDEV(Z,{fontSize:18,py:2,children:s("patients.patientFiles.add.title")},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Patients/AddPatientFiles.jsx",lineNumber:90,columnNumber:9},this),e.jsxDEV(ee,{},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Patients/AddPatientFiles.jsx",lineNumber:95,columnNumber:9},this),e.jsxDEV(w,{},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Patients/AddPatientFiles.jsx",lineNumber:96,columnNumber:9},this),e.jsxDEV(se,{children:e.jsxDEV(l,{pb:3,children:[e.jsxDEV(ne,{isRequired:!0,children:[e.jsxDEV(ie,{children:s("patients.patientFiles.add.form.name.label")},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Patients/AddPatientFiles.jsx",lineNumber:100,columnNumber:15},this),e.jsxDEV(V,{placeholder:s("patients.patientFiles.add.form.name.placeholder"),...D("file_name",{required:!0})},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Patients/AddPatientFiles.jsx",lineNumber:101,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Patients/AddPatientFiles.jsx",lineNumber:99,columnNumber:13},this),e.jsxDEV(l,{mt:5,p:4,border:"2px dashed",borderColor:"gray.300",borderRadius:"md",onDrop:j,onDragOver:n,onClick:()=>{o.current&&o.current.click()},cursor:"pointer",children:f?e.jsxDEV(l,{position:"relative",children:[e.jsxDEV(_,{children:[s("patients.patientFiles.add.form.file.selectedFile")," ",f.name]},void 0,!0,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Patients/AddPatientFiles.jsx",lineNumber:125,columnNumber:19},this),e.jsxDEV(L,{position:"absolute",right:-2,top:-2,size:"sm",onClick:()=>{t(null)}},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Patients/AddPatientFiles.jsx",lineNumber:126,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Patients/AddPatientFiles.jsx",lineNumber:123,columnNumber:17},this):e.jsxDEV(l,{children:[e.jsxDEV(re,{children:[" ",e.jsxDEV(V,{ref:o,type:"file",onChange:F,accept:"*",mb:4},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Patients/AddPatientFiles.jsx",lineNumber:140,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Patients/AddPatientFiles.jsx",lineNumber:138,columnNumber:19},this),e.jsxDEV(I,{children:[" ",e.jsxDEV(G,{fontSize:32},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Patients/AddPatientFiles.jsx",lineNumber:152,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Patients/AddPatientFiles.jsx",lineNumber:150,columnNumber:19},this),e.jsxDEV(_,{textAlign:"center",mt:3,children:[e.jsxDEV("b",{children:s("patients.patientFiles.add.form.file.choose")},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Patients/AddPatientFiles.jsx",lineNumber:157,columnNumber:21},this)," ",s("patients.patientFiles.add.form.file.dragHere"),e.jsxDEV("br",{},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Patients/AddPatientFiles.jsx",lineNumber:158,columnNumber:21},this),s("patients.patientFiles.add.form.file.maxSize")]},void 0,!0,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Patients/AddPatientFiles.jsx",lineNumber:154,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Patients/AddPatientFiles.jsx",lineNumber:137,columnNumber:17},this)},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Patients/AddPatientFiles.jsx",lineNumber:107,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Patients/AddPatientFiles.jsx",lineNumber:98,columnNumber:11},this)},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Patients/AddPatientFiles.jsx",lineNumber:97,columnNumber:9},this),e.jsxDEV(w,{},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Patients/AddPatientFiles.jsx",lineNumber:166,columnNumber:9},this),e.jsxDEV(ae,{py:3,children:[e.jsxDEV(E,{colorScheme:"gray",mr:3,onClick:i,size:"sm",children:s("patients.patientFiles.add.buttons.close")},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Patients/AddPatientFiles.jsx",lineNumber:168,columnNumber:11},this),e.jsxDEV(E,{variant:"solid",size:"sm",colorScheme:"blue",type:"submit",isLoading:h,children:s("patients.patientFiles.add.buttons.add")},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Patients/AddPatientFiles.jsx",lineNumber:175,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Patients/AddPatientFiles.jsx",lineNumber:167,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Patients/AddPatientFiles.jsx",lineNumber:87,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Patients/AddPatientFiles.jsx",lineNumber:81,columnNumber:5},this)}function je({id:d}){const{t:i}=C(),[c,s]=g.useState(),{isOpen:o,onOpen:m,onClose:b}=y(),{isOpen:x,onOpen:D,onClose:k}=y(),{isOpen:P,onOpen:h,onClose:u}=y(),f=async()=>(await H(O.token,`get_patient_file/patient/${d}`)).data,{data:t,isLoading:j}=Q({queryKey:["patient-files",d],queryFn:f});return j?e.jsxDEV(v,{},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Patients/PatientFiles.jsx",lineNumber:36,columnNumber:35},this):e.jsxDEV(l,{children:[e.jsxDEV(A,{alignItems:"center",justify:"space-between",children:[" ",e.jsxDEV(B,{as:"h3",size:"sm",children:i("patients.patientFiles.title")},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Patients/PatientFiles.jsx",lineNumber:44,columnNumber:9},this),e.jsxDEV(E,{size:"xs",colorScheme:"blue",onClick:m,children:i("patients.patientFiles.actions.addNew")},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Patients/PatientFiles.jsx",lineNumber:47,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Patients/PatientFiles.jsx",lineNumber:40,columnNumber:7},this),e.jsxDEV(w,{mt:2,mb:5},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Patients/PatientFiles.jsx",lineNumber:52,columnNumber:7},this),e.jsxDEV(l,{children:e.jsxDEV(de,{spacing:3,children:t==null?void 0:t.map((n,F)=>e.jsxDEV(ce,{children:[e.jsxDEV(A,{alignItems:"center",gap:5,children:[e.jsxDEV(te,{fontWeight:600,href:`${$}/${n.file}`,isExternal:!0,children:n.file_name},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Patients/PatientFiles.jsx",lineNumber:59,columnNumber:17},this),e.jsxDEV(U,{"aria-label":i("patients.patientFiles.actions.edit"),size:"xs",icon:e.jsxDEV(R,{},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Patients/PatientFiles.jsx",lineNumber:65,columnNumber:25},this),colorScheme:"blue",onClick:()=>{s(n),D()}},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Patients/PatientFiles.jsx",lineNumber:62,columnNumber:17},this)," ",e.jsxDEV(U,{"aria-label":i("patients.patientFiles.actions.delete"),size:"xs",icon:e.jsxDEV(q,{},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Patients/PatientFiles.jsx",lineNumber:75,columnNumber:25},this),colorScheme:"red",onClick:()=>{s(n),h()}},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Patients/PatientFiles.jsx",lineNumber:72,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Patients/PatientFiles.jsx",lineNumber:58,columnNumber:15},this),e.jsxDEV(_,{fontSize:"xs",fontWeight:600,children:[i("patients.patientFiles.updatedOn")," -"," ",T(n.updated_at).format("DD-MM-YY HH:mm A")]},void 0,!0,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Patients/PatientFiles.jsx",lineNumber:83,columnNumber:15},this)]},F,!0,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Patients/PatientFiles.jsx",lineNumber:57,columnNumber:13},this))},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Patients/PatientFiles.jsx",lineNumber:54,columnNumber:9},this)},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Patients/PatientFiles.jsx",lineNumber:53,columnNumber:7},this),e.jsxDEV(oe,{isOpen:o,onClose:b,id:d},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Patients/PatientFiles.jsx",lineNumber:94,columnNumber:7},this),x?e.jsxDEV(me,{isOpen:x,onClose:k,data:c},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Patients/PatientFiles.jsx",lineNumber:100,columnNumber:9},this):null,P?e.jsxDEV(le,{isOpen:P,onClose:u,data:c},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Patients/PatientFiles.jsx",lineNumber:107,columnNumber:9},this):null]},void 0,!0,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Patients/PatientFiles.jsx",lineNumber:39,columnNumber:5},this)}export{je as P};
