import{O as L,z as k,w as E,r as p,v as e,B as j,T as se,x as I,$ as ge,y as f,aG as G,U as Ne,D as re,L as J}from"./index-DPnYdkUz.js";import{F as ne}from"./index-DJio6C7j.js";import{e as fe}from"./index-Bm_h8oZt.js";import{u as O}from"./SettingData-o9nA5JFe.js";import{C as ae,A as oe,a as le,N as ce,S as y,D as te,b as xe,c as pe,d as ie,e as je,f as me}from"./Dashboard-yaE9KkgM.js";import{h as H,u as A,f as h,M as Y,b as q,a as X,c as T,g as Z,d as F,F as _,e as Q}from"./index.esm-7HBFntiH.js";import{u as Re}from"./useMutation-VqWrDSyY.js";import{I as B,F as v,d as z}from"./utils-CbOPTj9R.js";import{G as De}from"./grid-BRKQYmn5.js";import{D as U}from"./createLucideIcon-cf9l0Mkm.js";import{u as de}from"./UseSearchFilter-BNmhWZYu.js";import{u as M}from"./HasPermission-B2qlt3qD.js";import{U as ke}from"./UsersComboBox-C1IpT6-x.js";import{u as Ee}from"./Users-B0UqFu_G.js";import{S as ve}from"./select-DPafIhJF.js";import{u as V,I as K}from"./index-DKSfyVZ9.js";import"./tr-B7dii5kF.js";import"./image-CECpK_E2.js";import"./visually-hidden.style-CjB5JpNG.js";import"./popover-Cm6ek3zh.js";import"./split-CzYrjwZo.js";const Pe=async()=>(await L(k.token,"get_permisssion")).data,we=()=>{const{isLoading:i,data:a,error:m}=O({queryKey:["all-permissions"],queryFn:Pe});return{allPermissionsData:a,allPermissionsLoading:i,allPermissionsError:m}},Ve=({selectedPermissions:i,setSelectedPermissions:a})=>{const{t:m}=E(),{allPermissionsData:s}=we(),[n,l]=p.useState(""),u=r=>{a(c=>c.includes(r)?c.filter(d=>d!==r):[...c,r])},t=s==null?void 0:s.filter(r=>r.name.toLowerCase().includes(n.toLowerCase()));return e.jsxDEV(j,{children:[e.jsxDEV(B,{placeholder:m("roles.permissions.search.placeholder"),value:n,onChange:r=>l(r.target.value),mb:4},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Roles/RolePermissions.jsx",lineNumber:34,columnNumber:7},void 0),e.jsxDEV(De,{templateColumns:"repeat(3, 1fr)",gap:6,children:[e.jsxDEV(ae,{size:"md",fontSize:"sm",isChecked:(i==null?void 0:i.length)===(s==null?void 0:s.length),onChange:()=>{let r=s.map(c=>c.id);i.length===s.length?a([]):a(r)},children:e.jsxDEV(se,{fontSize:"xs",fontWeight:600,children:m("roles.permissions.all")},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Roles/RolePermissions.jsx",lineNumber:47,columnNumber:11},void 0)},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Roles/RolePermissions.jsx",lineNumber:37,columnNumber:9},void 0),t==null?void 0:t.map(r=>e.jsxDEV(ae,{size:"md",fontSize:"sm",isChecked:i.includes(r.id),onChange:()=>u(r.id),children:e.jsxDEV(se,{fontSize:"xs",fontWeight:600,children:r.name},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Roles/RolePermissions.jsx",lineNumber:61,columnNumber:13},void 0)},r.id,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Roles/RolePermissions.jsx",lineNumber:55,columnNumber:11},void 0))]},void 0,!0,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Roles/RolePermissions.jsx",lineNumber:36,columnNumber:7},void 0)]},void 0,!0,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Roles/RolePermissions.jsx",lineNumber:32,columnNumber:5},void 0)},Ae=i=>i!=null&&i.length?i==null?void 0:i.map(m=>m.permission_id):[],ye=async i=>{const a=await Ne(k.token,"assign_permission_to_tole",i);if(a.response!==200)throw new Error(a.message);return a};function Ue({isOpen:i,onClose:a,data:m}){const{t:s}=E(),[n,l]=p.useState(),{register:u,handleSubmit:t,reset:r}=H(),c=I(),[d,o]=p.useState(),b=A(),R=async()=>(await L(k.token,`get_role_permisssion/role/${m.id}`)).data,{data:x,isLoading:P}=O({queryKey:["permissions",m.id],queryFn:R});p.useEffect(()=>{o(Ae(x)),r({role_name:m==null?void 0:m.name})},[x,m.name,r]);const g=async N=>{let S={...N,id:m.id};try{l(!0);const D=await G(k.token,"update_role",S);l(!1),D.response===200?(h(b,"success",s("roles.update.messages.success.role")),c.invalidateQueries("roles"),r(),a()):h(b,"error",D.message)}catch(D){l(!1),h(b,"error",JSON.stringify(D))}},w=Re({mutationFn:async()=>{let N={role_id:m.id,permission_ids:(d==null?void 0:d.join(","))||""};await ye(N)},onError:N=>{h(b,"error",N.message)},onSuccess:()=>{h(b,"success",s("roles.update.messages.success.permissions")),c.invalidateQueries("roles"),c.invalidateQueries(["permissions",m.id]),a()}});return P?e.jsxDEV(ge,{},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Roles/Update.jsx",lineNumber:111,columnNumber:36},this):e.jsxDEV(Y,{isOpen:i,onClose:a,isCentered:!0,size:"3xl",scrollBehavior:"inside",children:[e.jsxDEV(q,{},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Roles/Update.jsx",lineNumber:120,columnNumber:7},this),e.jsxDEV(X,{children:[e.jsxDEV(T,{fontSize:18,py:2,children:s("roles.update.title")},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Roles/Update.jsx",lineNumber:122,columnNumber:9},this),e.jsxDEV(Z,{},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Roles/Update.jsx",lineNumber:127,columnNumber:9},this),e.jsxDEV(U,{},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Roles/Update.jsx",lineNumber:128,columnNumber:9},this),e.jsxDEV(F,{children:e.jsxDEV(j,{pb:3,children:[e.jsxDEV(v,{as:"form",onSubmit:t(g),align:"flex-end",gap:5,children:[" ",e.jsxDEV(z,{isRequired:!0,children:[e.jsxDEV(_,{children:s("roles.update.form.title.label")},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Roles/Update.jsx",lineNumber:138,columnNumber:17},this),e.jsxDEV(B,{size:"sm",borderRadius:6,defaultValue:m==null?void 0:m.name,placeholder:s("roles.update.form.title.placeholder"),...u("role_name",{required:!0})},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Roles/Update.jsx",lineNumber:139,columnNumber:17},this)]},void 0,!0,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Roles/Update.jsx",lineNumber:137,columnNumber:15},this),e.jsxDEV(f,{w:48,variant:"solid",size:"sm",colorScheme:"blue",type:"submit",isLoading:n,children:s("roles.update.buttons.updateTitle")},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Roles/Update.jsx",lineNumber:147,columnNumber:15},this)]},void 0,!0,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Roles/Update.jsx",lineNumber:131,columnNumber:13},this),e.jsxDEV(z,{mt:5,children:[e.jsxDEV(_,{children:s("roles.update.form.permissions.label")},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Roles/Update.jsx",lineNumber:159,columnNumber:15},this),e.jsxDEV(Ve,{selectedPermissions:d,setSelectedPermissions:o,onClose:a,role_id:m.id},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Roles/Update.jsx",lineNumber:161,columnNumber:15},this)]},void 0,!0,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Roles/Update.jsx",lineNumber:158,columnNumber:13},this)]},void 0,!0,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Roles/Update.jsx",lineNumber:130,columnNumber:11},this)},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Roles/Update.jsx",lineNumber:129,columnNumber:9},this),e.jsxDEV(U,{},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Roles/Update.jsx",lineNumber:171,columnNumber:9},this),e.jsxDEV(Q,{py:3,children:[e.jsxDEV(f,{w:"50",variant:"solid",size:"sm",colorScheme:"blue",mr:5,isLoading:w.isPending,onClick:()=>{w.mutate()},children:s("roles.update.buttons.updatePermissions")},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Roles/Update.jsx",lineNumber:173,columnNumber:11},this),e.jsxDEV(f,{colorScheme:"gray",mr:3,onClick:a,size:"sm",children:s("roles.update.buttons.close")},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Roles/Update.jsx",lineNumber:183,columnNumber:11},this)]},void 0,!0,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Roles/Update.jsx",lineNumber:172,columnNumber:9},this)]},void 0,!0,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Roles/Update.jsx",lineNumber:121,columnNumber:7},this)]},void 0,!0,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Roles/Update.jsx",lineNumber:114,columnNumber:5},this)}function ue({isOpen:i,onClose:a,data:m}){const{t:s}=E(),[n,l]=p.useState(!1),{register:u,handleSubmit:t,reset:r}=H(),c=I(),d=A(),o=async b=>{let R={...b};try{l(!0);const x=await G(k.token,"add_role",R);l(!1),x.response===200?(h(d,"success",s("roles.add.messages.success")),c.invalidateQueries("roles"),r(),a()):h(d,"error",x.message)}catch(x){l(!1),h(d,"error",JSON.stringify(x))}};return e.jsxDEV(Y,{isOpen:i,onClose:a,isCentered:!0,size:"xl",scrollBehavior:"inside",children:[e.jsxDEV(q,{},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Roles/Add.jsx",lineNumber:55,columnNumber:7},this),e.jsxDEV(X,{as:"form",onSubmit:t(o),children:[e.jsxDEV(T,{fontSize:18,py:2,children:s("roles.add.title")},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Roles/Add.jsx",lineNumber:59,columnNumber:9},this),e.jsxDEV(Z,{},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Roles/Add.jsx",lineNumber:64,columnNumber:9},this),e.jsxDEV(U,{},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Roles/Add.jsx",lineNumber:65,columnNumber:9},this),e.jsxDEV(F,{children:e.jsxDEV(j,{pb:3,children:e.jsxDEV(z,{isRequired:!0,children:[e.jsxDEV(_,{children:s("roles.add.form.title")},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Roles/Add.jsx",lineNumber:69,columnNumber:15},this),e.jsxDEV(B,{defaultValue:m==null?void 0:m.name,placeholder:s("roles.add.form.placeholder"),...u("role_name",{required:!0})},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Roles/Add.jsx",lineNumber:70,columnNumber:15},this)]},void 0,!0,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Roles/Add.jsx",lineNumber:68,columnNumber:13},this)},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Roles/Add.jsx",lineNumber:67,columnNumber:11},this)},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Roles/Add.jsx",lineNumber:66,columnNumber:9},this),e.jsxDEV(U,{},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Roles/Add.jsx",lineNumber:78,columnNumber:9},this),e.jsxDEV(Q,{py:3,children:[e.jsxDEV(f,{colorScheme:"gray",mr:3,onClick:a,size:"sm",children:s("roles.add.buttons.close")},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Roles/Add.jsx",lineNumber:80,columnNumber:11},this),e.jsxDEV(f,{variant:"solid",size:"sm",colorScheme:"blue",type:"submit",isLoading:n,children:s("roles.add.buttons.submit")},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Roles/Add.jsx",lineNumber:87,columnNumber:11},this)]},void 0,!0,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Roles/Add.jsx",lineNumber:79,columnNumber:9},this)]},void 0,!0,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Roles/Add.jsx",lineNumber:56,columnNumber:7},this)]},void 0,!0,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Roles/Add.jsx",lineNumber:49,columnNumber:5},this)}function Se({isOpen:i,onClose:a,data:m}){const{t:s}=E(),n=A(),l=p.useRef(),u=I(),[t,r]=p.useState(),c=async()=>{if(m.name==="Doctor"||m.name==="Admin"||m.name==="Front Desk")return h(n,"error",s("roles.delete.messages.cannotDelete"));let d={id:m.id};try{r(!0);const o=await re(k.token,"delete_role",d);r(!1),o.response===200?(h(n,"success",s("roles.delete.messages.success")),u.invalidateQueries("roles"),a()):h(n,"error",o.message)}catch(o){r(!1),h(n,"error",JSON.stringify(o))}};return e.jsxDEV(oe,{isOpen:i,onClose:a,leastDestructiveRef:l.current,isCentered:!0,children:e.jsxDEV(q,{children:e.jsxDEV(le,{children:[e.jsxDEV(T,{fontSize:"lg",fontWeight:"semi-bold",children:[s("roles.delete.title")," ( ",e.jsxDEV("b",{children:m==null?void 0:m.name},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Roles/Delete.jsx",lineNumber:61,columnNumber:41},this)," )"]},void 0,!0,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Roles/Delete.jsx",lineNumber:58,columnNumber:11},this),e.jsxDEV(F,{children:s("roles.delete.messages.confirm")},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Roles/Delete.jsx",lineNumber:64,columnNumber:11},this),e.jsxDEV(Q,{children:[e.jsxDEV(f,{ref:l.current,onClick:a,colorScheme:"gray",size:"sm",children:s("roles.delete.buttons.cancel")},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Roles/Delete.jsx",lineNumber:69,columnNumber:13},this),e.jsxDEV(f,{colorScheme:"red",onClick:c,ml:3,size:"sm",isLoading:t,children:s("roles.delete.buttons.delete")},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Roles/Delete.jsx",lineNumber:76,columnNumber:13},this)]},void 0,!0,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Roles/Delete.jsx",lineNumber:68,columnNumber:11},this)]},void 0,!0,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Roles/Delete.jsx",lineNumber:57,columnNumber:9},this)},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Roles/Delete.jsx",lineNumber:56,columnNumber:7},this)},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Roles/Delete.jsx",lineNumber:50,columnNumber:5},this)}function he({isOpen:i,onClose:a,Roles:m}){const{t:s}=E(),[n,l]=p.useState(!1),{hasPermission:u}=M(),{register:t,handleSubmit:r,reset:c}=H(),d=I(),o=A(),{usersData:b}=Ee(),[R,x]=p.useState(),P=async g=>{if(!R)return h(o,"error","Please Select User");let w={...g,user_id:R.id};try{l(!0);const N=await G(k.token,"assign_role",w);l(!1),N.response===200?(h(o,"success",s("roles.assign.messages.success")),d.invalidateQueries("roles"),c(),a()):h(o,"error",N.message)}catch(N){l(!1),h(o,"error",JSON.stringify(N))}};return u?e.jsxDEV(Y,{isOpen:i,onClose:a,isCentered:!0,size:"xl",scrollBehavior:"inside",children:[e.jsxDEV(q,{},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Roles/AssignRole.jsx",lineNumber:73,columnNumber:7},this),e.jsxDEV(X,{as:"form",onSubmit:r(P),children:[e.jsxDEV(T,{fontSize:18,py:2,children:s("roles.assign.title")},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Roles/AssignRole.jsx",lineNumber:77,columnNumber:9},this),e.jsxDEV(Z,{},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Roles/AssignRole.jsx",lineNumber:82,columnNumber:9},this),e.jsxDEV(U,{},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Roles/AssignRole.jsx",lineNumber:83,columnNumber:9},this),e.jsxDEV(F,{children:e.jsxDEV(j,{pb:3,children:[e.jsxDEV(z,{isRequired:!0,children:[e.jsxDEV(_,{children:s("roles.assign.form.user")},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Roles/AssignRole.jsx",lineNumber:87,columnNumber:15},this),e.jsxDEV(ke,{name:"user",data:b,setState:x},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Roles/AssignRole.jsx",lineNumber:89,columnNumber:15},this)]},void 0,!0,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Roles/AssignRole.jsx",lineNumber:86,columnNumber:13},this),e.jsxDEV(z,{isRequired:!0,mt:5,children:[e.jsxDEV(_,{children:s("roles.assign.form.role")},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Roles/AssignRole.jsx",lineNumber:98,columnNumber:15},this),e.jsxDEV(ve,{placeholder:s("roles.assign.form.placeholder"),...t("role_id",{required:!0}),children:m==null?void 0:m.map(g=>e.jsxDEV("option",{value:g.id,children:g.name},g.id,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Roles/AssignRole.jsx",lineNumber:103,columnNumber:19},this))},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Roles/AssignRole.jsx",lineNumber:99,columnNumber:15},this)]},void 0,!0,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Roles/AssignRole.jsx",lineNumber:95,columnNumber:13},this)]},void 0,!0,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Roles/AssignRole.jsx",lineNumber:85,columnNumber:11},this)},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Roles/AssignRole.jsx",lineNumber:84,columnNumber:9},this),e.jsxDEV(U,{},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Roles/AssignRole.jsx",lineNumber:113,columnNumber:9},this),e.jsxDEV(Q,{py:3,children:[e.jsxDEV(f,{colorScheme:"gray",mr:3,onClick:a,size:"sm",children:s("roles.assign.buttons.close")},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Roles/AssignRole.jsx",lineNumber:115,columnNumber:11},this),e.jsxDEV(f,{variant:"solid",size:"sm",colorScheme:"blue",type:"submit",isLoading:n,children:s("roles.assign.buttons.submit")},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Roles/AssignRole.jsx",lineNumber:122,columnNumber:11},this)]},void 0,!0,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Roles/AssignRole.jsx",lineNumber:114,columnNumber:9},this)]},void 0,!0,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Roles/AssignRole.jsx",lineNumber:74,columnNumber:7},this)]},void 0,!0,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Roles/AssignRole.jsx",lineNumber:67,columnNumber:5},this):o({title:s("roles.assign.messages.error"),description:s("roles.assign.messages.errorDescription"),status:"error",duration:2e3,isClosable:!0,position:"top"})}function Ce(){const{isOpen:i,onOpen:a,onClose:m}=V(),[s,n]=p.useState(),{isOpen:l,onOpen:u,onClose:t}=V(),{isOpen:r,onOpen:c,onClose:d}=V(),{isOpen:o,onOpen:b,onClose:R}=V(),x=A(),P="Errortoast",{t:g}=E(),w=async()=>(await L(k.token,"get_roles")).data,N=$=>{n($)},{isLoading:S,data:D,error:W}=O({queryKey:["roles"],queryFn:w}),{handleSearchChange:C,filteredData:be}=de(D);W&&(x.isActive(P)||x({id:P,title:g("roles.error.title"),description:g("roles.error.description"),status:"error",duration:2e3,isClosable:!0,position:"top"}));const{hasPermission:ee}=M();return ee("ROLE_VIEW")?e.jsxDEV(j,{children:[S||!D?e.jsxDEV(j,{children:[e.jsxDEV(v,{mb:5,justify:"space-between",children:[e.jsxDEV(y,{w:400,h:8},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Roles/Role.jsx",lineNumber:68,columnNumber:13},this),e.jsxDEV(y,{w:50,h:8},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Roles/Role.jsx",lineNumber:69,columnNumber:13},this)]},void 0,!0,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Roles/Role.jsx",lineNumber:67,columnNumber:11},this),e.jsxDEV(y,{h:300,w:"100%"},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Roles/Role.jsx",lineNumber:71,columnNumber:11},this)]},void 0,!0,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Roles/Role.jsx",lineNumber:66,columnNumber:9},this):e.jsxDEV(j,{children:[e.jsxDEV(v,{mb:5,justify:"space-between",align:"center",children:[e.jsxDEV(B,{size:"md",placeholder:g("roles.search.placeholder"),w:400,maxW:"50vw",onChange:$=>C($.target.value)},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Roles/Role.jsx",lineNumber:76,columnNumber:13},this),ee("ROLE_ADD")&&e.jsxDEV(v,{align:"center",gap:5,children:[e.jsxDEV(f,{size:"sm",colorScheme:"teal",onClick:b,children:g("roles.buttons.assignRoleToUser")},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Roles/Role.jsx",lineNumber:79,columnNumber:17},this),e.jsxDEV(f,{size:"sm",colorScheme:"blue",onClick:a,children:g("roles.buttons.addNew")},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Roles/Role.jsx",lineNumber:82,columnNumber:17},this)]},void 0,!0,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Roles/Role.jsx",lineNumber:78,columnNumber:15},this)]},void 0,!0,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Roles/Role.jsx",lineNumber:75,columnNumber:11},this),e.jsxDEV(te,{data:be,onActionClick:e.jsxDEV(Oe,{onClick:N,DeleteonOpen:u,EditionOpen:c},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Roles/Role.jsx",lineNumber:93,columnNumber:15},this)},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Roles/Role.jsx",lineNumber:89,columnNumber:11},this)]},void 0,!0,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Roles/Role.jsx",lineNumber:74,columnNumber:9},this),e.jsxDEV(ue,{isOpen:i,onClose:m,data:D},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Roles/Role.jsx",lineNumber:106,columnNumber:7},this),e.jsxDEV(Se,{isOpen:l,onClose:t,data:s},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Roles/Role.jsx",lineNumber:107,columnNumber:7},this),r&&e.jsxDEV(Ue,{isOpen:r,onClose:d,data:s},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Roles/Role.jsx",lineNumber:109,columnNumber:9},this),o&&e.jsxDEV(he,{isOpen:o,onClose:R,Roles:D},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Roles/Role.jsx",lineNumber:112,columnNumber:9},this)]},void 0,!0,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Roles/Role.jsx",lineNumber:64,columnNumber:5},this):e.jsxDEV(ce,{},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Roles/Role.jsx",lineNumber:61,columnNumber:43},this)}const Oe=({onClick:i,rowData:a,DeleteonOpen:m,EditionOpen:s})=>{const{hasPermission:n}=M();return e.jsxDEV(v,{justify:"center",children:[n("ROLE_UPDATE")&&e.jsxDEV(K,{"aria-label":"Edit",isDisabled:(a==null?void 0:a.name)==="Admin"||(a==null?void 0:a.name)==="admin",size:"sm",variant:"ghost",_hover:{background:"none"},onClick:()=>{i(a),s()},icon:e.jsxDEV(fe,{fontSize:18,color:J.colors.blue[500]},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Roles/Role.jsx",lineNumber:137,columnNumber:13},void 0)},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Roles/Role.jsx",lineNumber:124,columnNumber:9},void 0),n("ROLE_DELETE")&&e.jsxDEV(K,{"aria-label":"Delete",isDisabled:(a==null?void 0:a.name)==="Admin"||(a==null?void 0:a.name)==="admin",size:"sm",variant:"ghost",_hover:{background:"none"},onClick:()=>{i(a),m()},icon:e.jsxDEV(ne,{fontSize:18,color:J.colors.red[500]},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Roles/Role.jsx",lineNumber:158,columnNumber:13},void 0)},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Roles/Role.jsx",lineNumber:145,columnNumber:9},void 0)]},void 0,!0,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Roles/Role.jsx",lineNumber:122,columnNumber:5},void 0)},_e=async()=>(await L(k.token,"get_roles")).data,ze=async()=>{const i=await L(k.token,"get_assign_roles");return i==null?void 0:i.data.map(m=>{const{id:s,user_id:n,role_id:l,role_name:u,f_name:t,l_name:r,phone:c,isd_code:d,updated_at:o,created_at:b}=m;return{id:s,user_id:n,role_id:l,role_name:u,name:`${t} ${r}`,phone:`${c}`,created_at:b,updated_at:o,searchQuery:s+n+l+u+t+r+c+d+o+b}})};function Le(){const{t:i}=E(),{isOpen:a,onOpen:m,onClose:s}=V(),[n,l]=p.useState(),{isOpen:u,onOpen:t,onClose:r}=V(),{isOpen:c,onOpen:d,onClose:o}=V(),b=A(),R="Errortoast",x=C=>{l(C)},{isLoading:P,data:g,error:w}=O({queryKey:["assigned-roles"],queryFn:ze}),{data:N}=O({queryKey:["roles"],queryFn:_e}),{handleSearchChange:S,filteredData:D}=de(g);w&&(b.isActive(R)||b({id:R,title:i("roles.error.title"),description:i("roles.error.description"),status:"error",duration:2e3,isClosable:!0,position:"top"}));const{hasPermission:W}=M();return W("ROLE_VIEW")?e.jsxDEV(j,{children:[P||!g?e.jsxDEV(j,{children:[e.jsxDEV(v,{mb:5,justify:"space-between",children:[e.jsxDEV(y,{w:400,h:8},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Roles/AssignedUsers.jsx",lineNumber:86,columnNumber:13},this),e.jsxDEV(y,{w:50,h:8},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Roles/AssignedUsers.jsx",lineNumber:87,columnNumber:13},this)]},void 0,!0,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Roles/AssignedUsers.jsx",lineNumber:85,columnNumber:11},this),e.jsxDEV(y,{h:300,w:"100%"},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Roles/AssignedUsers.jsx",lineNumber:89,columnNumber:11},this)]},void 0,!0,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Roles/AssignedUsers.jsx",lineNumber:84,columnNumber:9},this):e.jsxDEV(j,{children:[e.jsxDEV(v,{mb:5,justify:"space-between",align:"center",children:[e.jsxDEV(B,{size:"md",placeholder:i("roles.search.placeholder"),w:400,maxW:"50vw",onChange:C=>S(C.target.value)},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Roles/AssignedUsers.jsx",lineNumber:94,columnNumber:13},this),W("ROLE_ADD")&&e.jsxDEV(v,{align:"center",gap:5,children:[e.jsxDEV(f,{size:"sm",colorScheme:"teal",onClick:d,children:i("roles.assign.buttons.assign")},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Roles/AssignedUsers.jsx",lineNumber:97,columnNumber:17},this),e.jsxDEV(f,{size:"sm",colorScheme:"blue",onClick:m,children:i("roles.buttons.add")},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Roles/AssignedUsers.jsx",lineNumber:103,columnNumber:17},this)]},void 0,!0,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Roles/AssignedUsers.jsx",lineNumber:96,columnNumber:15},this)]},void 0,!0,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Roles/AssignedUsers.jsx",lineNumber:93,columnNumber:11},this),e.jsxDEV(te,{data:D,onActionClick:e.jsxDEV(Ie,{onClick:x,DeleteonOpen:t},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Roles/AssignedUsers.jsx",lineNumber:117,columnNumber:15},this)},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Roles/AssignedUsers.jsx",lineNumber:113,columnNumber:11},this)]},void 0,!0,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Roles/AssignedUsers.jsx",lineNumber:92,columnNumber:9},this),e.jsxDEV(ue,{isOpen:a,onClose:s,data:n},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Roles/AssignedUsers.jsx",lineNumber:126,columnNumber:7},this),u&&e.jsxDEV(qe,{isOpen:u,onClose:r,data:n},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Roles/AssignedUsers.jsx",lineNumber:132,columnNumber:9},this),c&&e.jsxDEV(he,{isOpen:c,onClose:o,Roles:N},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Roles/AssignedUsers.jsx",lineNumber:140,columnNumber:9},this)]},void 0,!0,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Roles/AssignedUsers.jsx",lineNumber:82,columnNumber:5},this):e.jsxDEV(ce,{},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Roles/AssignedUsers.jsx",lineNumber:79,columnNumber:43},this)}const Ie=({onClick:i,rowData:a,DeleteonOpen:m})=>{const{hasPermission:s}=M(),{t:n}=E();return e.jsxDEV(v,{justify:"center",children:s("ROLE_DELETE")&&e.jsxDEV(K,{"aria-label":n("roles.buttons.delete"),size:"sm",variant:"ghost",_hover:{background:"none"},onClick:()=>{i(a),m()},icon:e.jsxDEV(ne,{fontSize:18,color:J.colors.red[500]},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Roles/AssignedUsers.jsx",lineNumber:169,columnNumber:13},void 0)},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Roles/AssignedUsers.jsx",lineNumber:157,columnNumber:9},void 0)},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Roles/AssignedUsers.jsx",lineNumber:155,columnNumber:5},void 0)};function qe({isOpen:i,onClose:a,data:m}){const s=A(),n=p.useRef(),l=I(),[u,t]=p.useState(),{t:r}=E(),c=async()=>{let d={id:m.id};try{t(!0);const o=await re(k.token,"de_assign_role",d);t(!1),o.response===200?(h(s,"success",r("roles.delete.messages.success")),l.invalidateQueries("roles"),a()):h(s,"error",o.message)}catch(o){t(!1),h(s,"error",JSON.stringify(o))}};return e.jsxDEV(oe,{isOpen:i,onClose:a,leastDestructiveRef:n,isCentered:!0,children:e.jsxDEV(q,{children:e.jsxDEV(le,{children:[e.jsxDEV(T,{fontSize:"lg",fontWeight:"semi-bold",children:r("roles.delete.messages.confirm")},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Roles/AssignedUsers.jsx",lineNumber:222,columnNumber:11},this),e.jsxDEV(F,{children:r("roles.delete.messages.confirm")},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Roles/AssignedUsers.jsx",lineNumber:228,columnNumber:11},this),e.jsxDEV(Q,{children:[e.jsxDEV(f,{ref:n,onClick:a,colorScheme:"gray",size:"sm",children:r("roles.delete.buttons.cancel")},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Roles/AssignedUsers.jsx",lineNumber:233,columnNumber:13},this),e.jsxDEV(f,{colorScheme:"red",onClick:c,ml:3,size:"sm",isLoading:u,children:r("roles.delete.buttons.delete")},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Roles/AssignedUsers.jsx",lineNumber:241,columnNumber:13},this)]},void 0,!0,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Roles/AssignedUsers.jsx",lineNumber:232,columnNumber:11},this)]},void 0,!0,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Roles/AssignedUsers.jsx",lineNumber:221,columnNumber:9},this)},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Roles/AssignedUsers.jsx",lineNumber:220,columnNumber:7},this)},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Roles/AssignedUsers.jsx",lineNumber:214,columnNumber:5},this)}function os(){const{t:i}=E();return e.jsxDEV(j,{children:e.jsxDEV(xe,{children:[e.jsxDEV(pe,{children:[e.jsxDEV(ie,{children:i("roles.tabs.roles")},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Roles/Index.jsx",lineNumber:13,columnNumber:11},this),e.jsxDEV(ie,{children:i("roles.tabs.assignedUsers")},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Roles/Index.jsx",lineNumber:14,columnNumber:11},this)]},void 0,!0,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Roles/Index.jsx",lineNumber:12,columnNumber:9},this),e.jsxDEV(je,{children:[e.jsxDEV(me,{p:0,children:e.jsxDEV(j,{mt:5,children:e.jsxDEV(Ce,{},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Roles/Index.jsx",lineNumber:20,columnNumber:15},this)},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Roles/Index.jsx",lineNumber:19,columnNumber:13},this)},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Roles/Index.jsx",lineNumber:18,columnNumber:11},this),e.jsxDEV(me,{p:0,children:e.jsxDEV(j,{mt:5,children:e.jsxDEV(Le,{},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Roles/Index.jsx",lineNumber:25,columnNumber:15},this)},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Roles/Index.jsx",lineNumber:24,columnNumber:13},this)},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Roles/Index.jsx",lineNumber:23,columnNumber:11},this)]},void 0,!0,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Roles/Index.jsx",lineNumber:17,columnNumber:9},this)]},void 0,!0,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Roles/Index.jsx",lineNumber:11,columnNumber:7},this)},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Roles/Index.jsx",lineNumber:10,columnNumber:5},this)}export{os as default};
