import{r as C,v as e,B as g,L as pe,M as ue,O as R,z as _,J as I,N as T,w as K,x as ae,$ as ie,T as Q,y as A,aG as $,K as j,aH as ze,V as We,H as ne}from"./index-DPnYdkUz.js";import{d as Qe}from"./index-DLA8CM9n.js";import{u as Te,B as Le,i as Ke,j as Pe}from"./HasPermission-B2qlt3qD.js";import{u as M}from"./SettingData-o9nA5JFe.js";import{u as O}from"./useMutation-VqWrDSyY.js";import{g as He,h as Ge,i as Je}from"./index-DJio6C7j.js";import{u as F,M as Ce,b as he,a as Be,c as be,g as Re,d as Ne,e as ge,f as E,L as X,h as Xe,F as V}from"./index.esm-7HBFntiH.js";import{S as d,D as fe,k as Ze,l as ea,j as te,b as Ve,c as ye,d as Y,e as Ue,f as q,A as Me,a as Oe}from"./Dashboard-yaE9KkgM.js";import{g as we}from"./CancellationReqBadge-BL_VhOTR.js";import{T as ke,p as aa}from"./printPDF-0TTNNz98.js";import{u as xe}from"./UseSearchFilter-BNmhWZYu.js";import{F as N,I as U,d as y}from"./utils-CbOPTj9R.js";import{I as ee,u as me,A as ia}from"./index-DKSfyVZ9.js";import{B as L}from"./visually-hidden.style-CjB5JpNG.js";import{S as sa,a as na,b as ma}from"./swiper-react-CGhKIvz9.js";import{D as Z}from"./createLucideIcon-cf9l0Mkm.js";import{H as ta}from"./index-B_79cYAH.js";import{d as _e}from"./index-YDqXSGdJ.js";import{M as oe,a as de,C as le,b as Ae,c as Ee}from"./chevron-down-Bq0qV0jN.js";import{T as ra,a as ca,b as ve,c as J,d as oa,e as W}from"./tr-B7dii5kF.js";import{P as da}from"./PatientFiles-CqjhitHr.js";import{C as re,a as ce}from"./card-body-CkuVqMTE.js";import{S as la}from"./select-DPafIhJF.js";import"./image-CECpK_E2.js";import"./grid-BRKQYmn5.js";import"./DeletePatientFile-DjscT1h3.js";import"./list-DNFH2FwZ.js";import"./split-CzYrjwZo.js";function pa({appointmentID:i}){const[a,n]=C.useState(),c=F(),r="Errortoast",u=async()=>{const f=await R(_.token,`get_invoice/appointment/${i}`),b=f.data;return f.data===null?[]:[{id:b.id,status:b.status,totalAmount:b.total_amount,applied_coupon:b.coupon_title||"N/A","coupon value (%)":b.coupon_value||"N/A",coupon_off_amount:b.coupon_off_amount||0,Date:I(b.invoice_date).format("D MMM YY"),patientID:e.jsxDEV(T,{to:`/patient/${b.patient_id}`,children:b.patient_id},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Invoices/InvoiceByAppointmentID.jsx",lineNumber:41,columnNumber:13},this),appointmentID:e.jsxDEV(T,{to:`/appointment/${b.appointment_id}`,children:b.appointment_id},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Invoices/InvoiceByAppointmentID.jsx",lineNumber:47,columnNumber:13},this),createdAt:I(b.created_at).format("D MMM YY hh:mmA"),paymentID:b.payment_id}]},l=f=>{n(f)},{isLoading:v,data:p,error:h}=M({queryKey:["invoice",i],queryFn:u}),{handleSearchChange:P,filteredData:x}=xe(p);return h&&(c.isActive(r)||c({id:r,title:"oops!.",description:"Something bad happens.",status:"error",duration:2e3,isClosable:!0,position:"top"})),e.jsxDEV(g,{children:v||!p?e.jsxDEV(g,{children:[e.jsxDEV(N,{mb:5,justify:"space-between",children:[e.jsxDEV(d,{w:400,h:8},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Invoices/InvoiceByAppointmentID.jsx",lineNumber:91,columnNumber:13},this),e.jsxDEV(d,{w:50,h:8},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Invoices/InvoiceByAppointmentID.jsx",lineNumber:92,columnNumber:13},this)]},void 0,!0,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Invoices/InvoiceByAppointmentID.jsx",lineNumber:90,columnNumber:11},this),e.jsxDEV(d,{h:300,w:"100%"},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Invoices/InvoiceByAppointmentID.jsx",lineNumber:94,columnNumber:11},this)]},void 0,!0,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Invoices/InvoiceByAppointmentID.jsx",lineNumber:89,columnNumber:9},this):e.jsxDEV(g,{children:[e.jsxDEV(N,{mb:5,justify:"space-between",align:"center",children:e.jsxDEV(U,{size:"md",placeholder:"Search",w:400,maxW:"50vw",onChange:f=>P(f.target.value)},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Invoices/InvoiceByAppointmentID.jsx",lineNumber:99,columnNumber:13},this)},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Invoices/InvoiceByAppointmentID.jsx",lineNumber:98,columnNumber:11},this),e.jsxDEV(fe,{data:x,onActionClick:e.jsxDEV(ua,{rowData:a,onClick:l},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Invoices/InvoiceByAppointmentID.jsx",lineNumber:104,columnNumber:15},this)},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Invoices/InvoiceByAppointmentID.jsx",lineNumber:102,columnNumber:11},this)]},void 0,!0,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Invoices/InvoiceByAppointmentID.jsx",lineNumber:97,columnNumber:9},this)},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Invoices/InvoiceByAppointmentID.jsx",lineNumber:87,columnNumber:5},this)}const ua=({onClick:i,rowData:a})=>{const n=c=>{const r=window.open(c,"_blank");r&&(r.focus(),r.onload=()=>{r.load(),r.onafterprint=()=>{r.close()}})};return e.jsxDEV(N,{justify:"center",children:e.jsxDEV(ee,{"aria-label":"Download Invoice",size:"sm",variant:"ghost",_hover:{background:"none"},onClick:()=>{i(a),n(`${ue}/invoice/generatePDF/${a.id}`)},icon:e.jsxDEV(ke,{fontSize:18,color:pe.colors.blue[500]},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Invoices/InvoiceByAppointmentID.jsx",lineNumber:147,columnNumber:11},void 0)},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Invoices/InvoiceByAppointmentID.jsx",lineNumber:135,columnNumber:7},void 0)},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Invoices/InvoiceByAppointmentID.jsx",lineNumber:134,columnNumber:5},void 0)},ha=(i,a)=>{switch(i){case"Credited":return e.jsxDEV(L,{colorScheme:"green",fontSize:12,letterSpacing:.5,p:"5px",size:"sm",children:a("transactions.index.badge.credited")},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Transaction/TransactionByAppID.jsx",lineNumber:19,columnNumber:9},void 0);case"Debited":return e.jsxDEV(L,{colorScheme:"red",fontSize:12,letterSpacing:.5,p:"5px",children:a("transactions.index.badge.debited")},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Transaction/TransactionByAppID.jsx",lineNumber:30,columnNumber:9},void 0);default:return e.jsxDEV(L,{colorScheme:"yellow",fontSize:12,letterSpacing:.5,p:"5px",children:a("transactions.index.badge.na")},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Transaction/TransactionByAppID.jsx",lineNumber:41,columnNumber:9},void 0)}};function ba({appointmentID:i}){const[a,n]=C.useState(),{t:c}=K(),r=F(),u="Errortoast",l=async()=>{const b=await R(_.token,`get_all_transaction/appointment/${i}`);return b==null?void 0:b.data.map(S=>{const{id:o,user_id:D,patient_id:m,appointment_id:k,payment_transaction_id:s,amount:B,transaction_type:H,is_wallet_txn:G,notes:se,created_at:w,patient_f_name:je,patient_l_name:Fe,user_f_name:Ye,user_l_name:qe}=S;return{id:o,patient:e.jsxDEV(T,{to:`/patient/${m}`,children:`${je} ${Fe}`},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Transaction/TransactionByAppID.jsx",lineNumber:84,columnNumber:11},this),user:D?e.jsxDEV(T,{to:`/user/${D}`,children:`${Ye} ${qe}`},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Transaction/TransactionByAppID.jsx",lineNumber:89,columnNumber:11},this):c("transactions.index.badge.na"),app_ID:e.jsxDEV(T,{to:`/appointment/${k}`,children:k},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Transaction/TransactionByAppID.jsx",lineNumber:94,columnNumber:11},this),txn_ID:s||c("transactions.index.badge.na"),amount:B,txn_type:ha(H,c),wallet_Txn:G==1?c("transactions.index.badge.yes"):c("transactions.index.badge.no"),notes:se||c("transactions.index.badge.na"),createdAt:I(w).format("D MMM YY hh:mmA")}})},v=b=>{n(b)},{isLoading:p,data:h,error:P}=M({queryKey:["transaction",i],queryFn:l}),{handleSearchChange:x,filteredData:f}=xe(h);return P&&(r.isActive(u)||r({id:u,title:c("transactions.index.messages.error.title"),description:c("transactions.index.messages.error.description"),status:"error",duration:2e3,isClosable:!0,position:"top"})),e.jsxDEV(g,{children:p||!h?e.jsxDEV(g,{children:[e.jsxDEV(N,{mb:5,justify:"space-between",children:[e.jsxDEV(d,{w:400,h:8},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Transaction/TransactionByAppID.jsx",lineNumber:139,columnNumber:13},this),e.jsxDEV(d,{w:50,h:8},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Transaction/TransactionByAppID.jsx",lineNumber:143,columnNumber:13},this)]},void 0,!0,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Transaction/TransactionByAppID.jsx",lineNumber:136,columnNumber:11},this),e.jsxDEV(d,{h:300,w:"100%"},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Transaction/TransactionByAppID.jsx",lineNumber:148,columnNumber:11},this)]},void 0,!0,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Transaction/TransactionByAppID.jsx",lineNumber:135,columnNumber:9},this):e.jsxDEV(g,{children:[e.jsxDEV(N,{mb:5,justify:"space-between",align:"center",children:e.jsxDEV(U,{size:"md",placeholder:"Search",w:400,maxW:"50vw",onChange:b=>x(b.target.value)},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Transaction/TransactionByAppID.jsx",lineNumber:159,columnNumber:13},this)},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Transaction/TransactionByAppID.jsx",lineNumber:155,columnNumber:11},this),e.jsxDEV(fe,{data:f,onActionClick:e.jsxDEV(Na,{rowData:a,onClick:v},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Transaction/TransactionByAppID.jsx",lineNumber:170,columnNumber:15},this)},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Transaction/TransactionByAppID.jsx",lineNumber:167,columnNumber:11},this)]},void 0,!0,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Transaction/TransactionByAppID.jsx",lineNumber:154,columnNumber:9},this)},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Transaction/TransactionByAppID.jsx",lineNumber:133,columnNumber:5},this)}const Na=({onClick:i,rowData:a})=>e.jsxDEV(N,{justify:"center",children:e.jsxDEV(ee,{size:"sm",variant:"ghost",_hover:{background:"none"},onClick:()=>{i(a)},icon:e.jsxDEV(ke,{fontSize:18,color:pe.colors.blue[500]},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Transaction/TransactionByAppID.jsx",lineNumber:195,columnNumber:11},void 0)},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Transaction/TransactionByAppID.jsx",lineNumber:185,columnNumber:7},void 0)},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Transaction/TransactionByAppID.jsx",lineNumber:184,columnNumber:5},void 0);function ga({appointmentID:i}){const[a,n]=C.useState(),c=async()=>{const h=await R(_.token,`get_appointment_payment/appintment/${i}`);return h.data===null?[]:(x=>{const{id:f,txn_id:b,invoice_id:z,amount:S,payment_time_stamp:o,payment_method:D,created_at:m,user_id:k,patient_id:s,appointment_id:B,patient_f_name:H,patient_l_name:G,user_f_name:se,user_l_name:w}=x;return[{id:f,"txn ID":b,invoiceID:z,patient:e.jsxDEV(T,{to:`/patient/${s}`,children:`${H} ${G}`},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Payments/PaymentsByAppID.jsx",lineNumber:56,columnNumber:15},this),user:e.jsxDEV(T,{to:`/user/${k}`,children:`${se} ${w}`},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Payments/PaymentsByAppID.jsx",lineNumber:61,columnNumber:15},this),"APP ID":e.jsxDEV(T,{to:`/appointment/${B}`,children:B},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Payments/PaymentsByAppID.jsx",lineNumber:65,columnNumber:15},this),amount:S,"payment Method":D,"Time stamp":I(o).format("D MMM YY hh.mmA"),"created At":I(m).format("D MMM YY hh:mmA")}]})(h.data)},r=h=>{n(h)},{isLoading:u,data:l}=M({queryKey:["payment",i],queryFn:c}),{handleSearchChange:v,filteredData:p}=xe(l);return e.jsxDEV(g,{children:u||!l?e.jsxDEV(g,{children:[e.jsxDEV(N,{mb:5,justify:"space-between",children:[e.jsxDEV(d,{w:400,h:8},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Payments/PaymentsByAppID.jsx",lineNumber:100,columnNumber:13},this),e.jsxDEV(d,{w:50,h:8},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Payments/PaymentsByAppID.jsx",lineNumber:104,columnNumber:13},this)]},void 0,!0,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Payments/PaymentsByAppID.jsx",lineNumber:97,columnNumber:11},this),e.jsxDEV(d,{h:300,w:"100%"},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Payments/PaymentsByAppID.jsx",lineNumber:109,columnNumber:11},this)]},void 0,!0,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Payments/PaymentsByAppID.jsx",lineNumber:96,columnNumber:9},this):e.jsxDEV(g,{children:[e.jsxDEV(N,{mb:5,justify:"space-between",align:"center",children:e.jsxDEV(U,{size:"md",placeholder:"Search",w:400,maxW:"50vw",onChange:h=>v(h.target.value)},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Payments/PaymentsByAppID.jsx",lineNumber:120,columnNumber:13},this)},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Payments/PaymentsByAppID.jsx",lineNumber:116,columnNumber:11},this),e.jsxDEV(fe,{data:p,onActionClick:e.jsxDEV(fa,{rowData:a,onClick:r},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Payments/PaymentsByAppID.jsx",lineNumber:131,columnNumber:15},this)},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Payments/PaymentsByAppID.jsx",lineNumber:128,columnNumber:11},this)]},void 0,!0,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Payments/PaymentsByAppID.jsx",lineNumber:115,columnNumber:9},this)},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Payments/PaymentsByAppID.jsx",lineNumber:94,columnNumber:5},this)}const fa=({onClick:i,rowData:a})=>e.jsxDEV(N,{justify:"center",children:e.jsxDEV(ee,{size:"sm",variant:"ghost",_hover:{background:"none"},onClick:()=>{i(a),aa(`${ue}/invoice/generatePDF/${a.invoiceID}`)},icon:e.jsxDEV(ke,{fontSize:18,color:pe.colors.blue[500]},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Payments/PaymentsByAppID.jsx",lineNumber:157,columnNumber:11},void 0)},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Payments/PaymentsByAppID.jsx",lineNumber:146,columnNumber:7},void 0)},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Payments/PaymentsByAppID.jsx",lineNumber:145,columnNumber:5},void 0),xa=()=>{const i=[];for(let a=0;a<15;a++){const n=I().add(a,"days").format("YYYY-MM-DD");i.push(n)}return i},De=i=>{const a=I(i,"YYYY-MM-DD");return{month:a.format("MMM"),date:a.format("DD"),year:a.format("ddd")}},ja=i=>I(i,"YYYYMMDD").format("dddd"),Pa={spaceBetween:20,centeredSlides:!1,loop:!1,slidesPerView:7.5,breakpoints:{1024:{spaceBetween:5,slidesPerView:7.5},768:{spaceBetween:5,slidesPerView:6.5},640:{spaceBetween:5,slidesPerView:5.5},320:{spaceBetween:5,slidesPerView:5.5}}},wa=async i=>{const a=await $(_.token,"appointment_rescheduled",i);if(a.response!==200)throw new Error(a.message);return a};function va({data:i,isOpen:a,onClose:n}){const{t:c}=K(),[r,u]=C.useState(),[l,v]=C.useState(),p=ae(),h=F(),P=async()=>(await R(_.token,`get_doctor_time_interval/${i.doct_id}/${ja(r)}`)).data,{isLoading:x,data:f}=M({queryKey:["timeslotes",r,i.doct_id],queryFn:P,enabled:!!r}),b=async()=>(await R(_.token,`get_booked_time_slots?doct_id=${i.doct_id}&date=${I(r).format("YYYY-MM-DD")}&type=OPD`)).data,{isLoading:z,data:S}=M({queryKey:["bookedslotes",r,i.doct_id],queryFn:b,enabled:!!r,staleTime:0,cacheTime:0,refetchOnWindowFocus:!0,refetchOnReconnect:!0}),o=m=>{let k=!0;return S==null||S.forEach(s=>{s.time_slots===m.time_start&&s.date===r&&(k=!1)}),k},D=O({mutationFn:async()=>{let m={id:i.id,date:r,time_slots:l.time_start};await wa(m)},onSuccess:()=>{u(),v(),E(h,"success","Success"),p.invalidateQueries({queryKey:["appointments"]}),p.invalidateQueries({queryKey:["appointment",i.id]}),p.invalidateQueries({queryKey:["bookedslotes",r,i.doct_id]}),p.invalidateQueries({queryKey:["timeslotes",r,i.doct_id]}),n()},onError:m=>{E(h,"error",m.message)}});return x||z||D.isPending?e.jsxDEV(ie,{},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Appointments/RescheduleAppointment.jsx",lineNumber:158,columnNumber:12},this):e.jsxDEV(Ce,{isOpen:a,onClose:n,isCentered:!0,size:"xl",children:[e.jsxDEV(he,{},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Appointments/RescheduleAppointment.jsx",lineNumber:166,columnNumber:7},this),e.jsxDEV(Be,{children:[e.jsxDEV(be,{fontSize:"md",py:3,children:c("appointments.reschedule.title")},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Appointments/RescheduleAppointment.jsx",lineNumber:168,columnNumber:9},this),e.jsxDEV(Re,{top:2},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Appointments/RescheduleAppointment.jsx",lineNumber:173,columnNumber:9},this),e.jsxDEV(Z,{mt:0},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Appointments/RescheduleAppointment.jsx",lineNumber:174,columnNumber:9},this),e.jsxDEV(Ne,{children:[e.jsxDEV(g,{maxW:"100%",overflow:"hidden",children:[" ",e.jsxDEV(sa,{...Pa,style:{cursor:"grab",overflow:"hidden",maxWidth:"100%"},children:xa().map((m,k)=>e.jsxDEV(na,{children:e.jsxDEV(g,{onClick:()=>{u(I(m).format("YYYY-MM-DD"))},children:e.jsxDEV(g,{bg:r===I(m).format("YYYY-MM-DD")?"green.500":"blue.500",mr:3,borderRadius:5,color:"#fff",p:1,cursor:"pointer",children:[e.jsxDEV(Q,{fontSize:"xs",fontWeight:"bold",color:"gray.100",textAlign:"center",m:0,children:De(m).month},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Appointments/RescheduleAppointment.jsx",lineNumber:202,columnNumber:23},this),e.jsxDEV(Q,{fontSize:"sm",fontWeight:"700",color:"gray.100",textAlign:"center",m:0,children:De(m).date},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Appointments/RescheduleAppointment.jsx",lineNumber:210,columnNumber:23},this),e.jsxDEV(Q,{fontSize:"xs",fontWeight:"bold",color:"gray.100",textAlign:"center",m:0,children:De(m).year},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Appointments/RescheduleAppointment.jsx",lineNumber:218,columnNumber:23},this)]},void 0,!0,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Appointments/RescheduleAppointment.jsx",lineNumber:191,columnNumber:21},this)},k,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Appointments/RescheduleAppointment.jsx",lineNumber:185,columnNumber:19},this)},k,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Appointments/RescheduleAppointment.jsx",lineNumber:184,columnNumber:17},this))},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Appointments/RescheduleAppointment.jsx",lineNumber:180,columnNumber:13},this)]},void 0,!0,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Appointments/RescheduleAppointment.jsx",lineNumber:176,columnNumber:11},this),e.jsxDEV(g,{children:r?e.jsxDEV(g,{mt:5,border:"1px solid",borderColor:"gray.200",p:2,borderRadius:4,children:[e.jsxDEV(Q,{textAlign:"left",fontWeight:600,fontSize:16,mb:1,children:c("appointments.timeSlots.available")},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Appointments/RescheduleAppointment.jsx",lineNumber:240,columnNumber:17},this),f!=null&&f.length?e.jsxDEV(g,{mt:2,children:e.jsxDEV(ma,{columns:[3,4,5],spacing:2,children:f==null?void 0:f.map((m,k)=>e.jsxDEV(A,{size:"sm",fontSize:"xs",fontWeight:600,colorScheme:o(m)?m===l?"blue":"green":"red",variant:"solid",onClick:()=>{o(m)&&v(m)},isDisabled:!o(m),_disabled:{backgroundColor:"red.500"},children:[m.time_start," - ",m.time_end]},k,!0,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Appointments/RescheduleAppointment.jsx",lineNumber:255,columnNumber:25},this))},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Appointments/RescheduleAppointment.jsx",lineNumber:250,columnNumber:21},this)},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Appointments/RescheduleAppointment.jsx",lineNumber:249,columnNumber:19},this):e.jsxDEV(Q,{color:"red.400",fontWeight:700,fontSize:"sm",children:c("appointments.timeSlots.noAvailable")},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Appointments/RescheduleAppointment.jsx",lineNumber:284,columnNumber:19},this)]},void 0,!0,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Appointments/RescheduleAppointment.jsx",lineNumber:234,columnNumber:15},this):""},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Appointments/RescheduleAppointment.jsx",lineNumber:232,columnNumber:11},this)]},void 0,!0,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Appointments/RescheduleAppointment.jsx",lineNumber:175,columnNumber:9},this),e.jsxDEV(ge,{children:[e.jsxDEV(A,{colorScheme:"gray",mr:3,onClick:n,size:"sm",children:c("appointments.buttons.close")},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Appointments/RescheduleAppointment.jsx",lineNumber:299,columnNumber:11},this),e.jsxDEV(A,{colorScheme:"blue",size:"sm",onClick:()=>{D.mutate()},children:c("appointments.reschedule.button")},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Appointments/RescheduleAppointment.jsx",lineNumber:306,columnNumber:11},this)]},void 0,!0,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Appointments/RescheduleAppointment.jsx",lineNumber:298,columnNumber:9},this)]},void 0,!0,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Appointments/RescheduleAppointment.jsx",lineNumber:167,columnNumber:7},this)]},void 0,!0,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Appointments/RescheduleAppointment.jsx",lineNumber:161,columnNumber:5},this)}const Da=[{id:1,name:"Cash",icon:e.jsxDEV(He,{},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Appointments/PaymentStatusPaid.jsx",lineNumber:22,columnNumber:11},void 0)},{id:2,name:"Online",icon:e.jsxDEV(_e,{},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Appointments/PaymentStatusPaid.jsx",lineNumber:27,columnNumber:11},void 0)},{id:3,name:"Other",icon:e.jsxDEV(_e,{},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Appointments/PaymentStatusPaid.jsx",lineNumber:32,columnNumber:11},void 0)},{id:4,name:"Wallet",icon:e.jsxDEV(Ge,{},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Appointments/PaymentStatusPaid.jsx",lineNumber:37,columnNumber:11},void 0)},{id:5,name:"UPI",icon:e.jsxDEV(ta,{},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Appointments/PaymentStatusPaid.jsx",lineNumber:42,columnNumber:11},void 0)}],ka=async i=>{const a=await $(_.token,"update_appointment_to_paid",i);if(a.response!==200)throw new Error(a.message);return a};function Aa({id:i,isOpen:a,onClose:n}){const[c,r]=C.useState(),u=F(),l=ae(),v=O({mutationFn:async()=>{let h={appointment_id:i,payment_method:c.name};c?ka(h):E(u,"error","Please Select Payment Mode")},onSuccess:()=>{E(u,"success","Success"),l.invalidateQueries({queryKey:["appointments"]}),l.invalidateQueries({queryKey:["appointment",i]}),l.invalidateQueries({queryKey:["payment",i]}),l.invalidateQueries({queryKey:["transaction",i]}),l.invalidateQueries({queryKey:["invoice",i]}),n()}}),{t:p}=K();return v.isPending?e.jsxDEV(ie,{},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Appointments/PaymentStatusPaid.jsx",lineNumber:89,columnNumber:34},this):e.jsxDEV(Ce,{isOpen:a,onClose:n,isCentered:!0,size:"sm",children:[e.jsxDEV(he,{},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Appointments/PaymentStatusPaid.jsx",lineNumber:96,columnNumber:7},this),e.jsxDEV(Be,{children:[e.jsxDEV(be,{fontSize:"md",py:3,children:p("payments.modal.amountPaid")},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Appointments/PaymentStatusPaid.jsx",lineNumber:98,columnNumber:9},this),e.jsxDEV(Re,{top:2},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Appointments/PaymentStatusPaid.jsx",lineNumber:103,columnNumber:9},this),e.jsxDEV(Z,{mt:0},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Appointments/PaymentStatusPaid.jsx",lineNumber:104,columnNumber:9},this),e.jsxDEV(Ne,{children:e.jsxDEV(oe,{children:[e.jsxDEV(de,{as:A,rightIcon:e.jsxDEV(le,{},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Appointments/PaymentStatusPaid.jsx",lineNumber:109,columnNumber:26},this),w:"full",bg:"transparent",textAlign:"center",pl:0,pt:0,h:8,_hover:{bg:"transparent"},_focus:{bg:"transparent"},borderBottom:"1px solid",borderBottomRadius:0,borderColor:j("gray.200","gray.600"),children:c?e.jsxDEV(N,{gap:3,align:"center",children:[c.icon," ",p(`payments.methods.${c.name.toLowerCase()}`)]},void 0,!0,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Appointments/PaymentStatusPaid.jsx",lineNumber:126,columnNumber:17},this):p("payments.modal.selectMode")},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Appointments/PaymentStatusPaid.jsx",lineNumber:107,columnNumber:13},this),e.jsxDEV(Ae,{children:Da.map(h=>e.jsxDEV(Ee,{onClick:()=>{r(h)},children:e.jsxDEV(N,{gap:3,align:"center",children:[" ",h.icon," ",p(`payments.methods.${h.name.toLowerCase()}`)]},void 0,!0,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Appointments/PaymentStatusPaid.jsx",lineNumber:144,columnNumber:19},this)},h.id,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Appointments/PaymentStatusPaid.jsx",lineNumber:138,columnNumber:17},this))},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Appointments/PaymentStatusPaid.jsx",lineNumber:136,columnNumber:13},this)]},void 0,!0,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Appointments/PaymentStatusPaid.jsx",lineNumber:106,columnNumber:11},this)},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Appointments/PaymentStatusPaid.jsx",lineNumber:105,columnNumber:9},this),e.jsxDEV(ge,{children:[e.jsxDEV(A,{colorScheme:"gray",mr:3,onClick:n,size:"sm",children:p("payments.modal.close")},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Appointments/PaymentStatusPaid.jsx",lineNumber:157,columnNumber:11},this),e.jsxDEV(A,{colorScheme:"blue",size:"sm",onClick:()=>{v.mutate()},children:p("payments.modal.setToPaid")},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Appointments/PaymentStatusPaid.jsx",lineNumber:164,columnNumber:11},this)]},void 0,!0,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Appointments/PaymentStatusPaid.jsx",lineNumber:156,columnNumber:9},this)]},void 0,!0,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Appointments/PaymentStatusPaid.jsx",lineNumber:97,columnNumber:7},this)]},void 0,!0,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Appointments/PaymentStatusPaid.jsx",lineNumber:91,columnNumber:5},this)}function Ea({appointmentID:i,appointmntData:a}){const{t:n}=K(),{hasPermission:c}=Te(),[r,u]=C.useState(),{isOpen:l,onOpen:v,onClose:p}=me(),h=async()=>(await R(_.token,`get_prescription/appointment/${i}`)).data,{isLoading:P,data:x,error:f}=M({queryKey:["prescriptions",i],queryFn:h}),{handleSearchChange:b,filteredData:z}=xe(x);if(f)return e.jsxDEV(Q,{color:"red.500",children:n("prescriptions.prescription.messages.error")},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Prescriptions/Prescription.jsx",lineNumber:42,columnNumber:12},this);const S=o=>{const D=window.open(o,"_blank");D&&(D.focus(),D.onload=()=>{D.load(),D.onafterprint=()=>{D.close()}})};return e.jsxDEV(g,{children:[P?e.jsxDEV(g,{children:[e.jsxDEV(N,{mb:5,justify:"space-between",children:[e.jsxDEV(d,{w:400,h:8},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Prescriptions/Prescription.jsx",lineNumber:66,columnNumber:13},this),e.jsxDEV(d,{w:200,h:8},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Prescriptions/Prescription.jsx",lineNumber:70,columnNumber:13},this)]},void 0,!0,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Prescriptions/Prescription.jsx",lineNumber:63,columnNumber:11},this),e.jsxDEV(d,{h:10,w:"100%",mt:2},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Prescriptions/Prescription.jsx",lineNumber:75,columnNumber:11},this),e.jsxDEV(d,{h:10,w:"100%",mt:2},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Prescriptions/Prescription.jsx",lineNumber:80,columnNumber:11},this),e.jsxDEV(d,{h:10,w:"100%",mt:2},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Prescriptions/Prescription.jsx",lineNumber:85,columnNumber:11},this),e.jsxDEV(d,{h:10,w:"100%",mt:2},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Prescriptions/Prescription.jsx",lineNumber:90,columnNumber:11},this),e.jsxDEV(d,{h:10,w:"100%",mt:2},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Prescriptions/Prescription.jsx",lineNumber:95,columnNumber:11},this),e.jsxDEV(d,{h:10,w:"100%",mt:2},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Prescriptions/Prescription.jsx",lineNumber:100,columnNumber:11},this),e.jsxDEV(d,{h:10,w:"100%",mt:2},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Prescriptions/Prescription.jsx",lineNumber:105,columnNumber:11},this),e.jsxDEV(d,{h:10,w:"100%",mt:2},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Prescriptions/Prescription.jsx",lineNumber:110,columnNumber:11},this),e.jsxDEV(d,{h:10,w:"100%",mt:2},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Prescriptions/Prescription.jsx",lineNumber:115,columnNumber:11},this),e.jsxDEV(d,{h:10,w:"100%",mt:2},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Prescriptions/Prescription.jsx",lineNumber:120,columnNumber:11},this)]},void 0,!0,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Prescriptions/Prescription.jsx",lineNumber:62,columnNumber:9},this):e.jsxDEV(g,{p:5,children:[e.jsxDEV(N,{mb:4,alignItems:"center",justify:"space-between",children:[e.jsxDEV(U,{placeholder:n("prescriptions.prescription.search"),width:"300px",mr:2,icon:e.jsxDEV(Ze,{},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Prescriptions/Prescription.jsx",lineNumber:133,columnNumber:21},this),onChange:o=>b(o.target.value),size:"sm"},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Prescriptions/Prescription.jsx",lineNumber:129,columnNumber:13},this),c("PRESCRIPTION_ADD")&&e.jsxDEV(A,{colorScheme:"blue",size:"sm",as:T,to:`/add-prescription/?appointmentID=${i}&patientID=${a==null?void 0:a.patient_id}`,children:n("prescriptions.prescription.buttons.newPrescription")},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Prescriptions/Prescription.jsx",lineNumber:139,columnNumber:15},this)]},void 0,!0,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Prescriptions/Prescription.jsx",lineNumber:128,columnNumber:11},this),e.jsxDEV(g,{borderWidth:"1px",borderRadius:"lg",overflow:"scroll",maxW:"100%",children:e.jsxDEV(ra,{variant:"simple",children:[e.jsxDEV(ca,{children:e.jsxDEV(ve,{children:[e.jsxDEV(J,{children:n("prescriptions.prescription.table.patient")},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Prescriptions/Prescription.jsx",lineNumber:152,columnNumber:19},this),e.jsxDEV(J,{children:n("prescriptions.prescription.table.doctor")},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Prescriptions/Prescription.jsx",lineNumber:153,columnNumber:19},this),e.jsxDEV(J,{children:n("prescriptions.prescription.table.date")},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Prescriptions/Prescription.jsx",lineNumber:154,columnNumber:19},this),e.jsxDEV(J,{children:n("prescriptions.prescription.table.pulseRate")},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Prescriptions/Prescription.jsx",lineNumber:155,columnNumber:19},this),e.jsxDEV(J,{children:n("prescriptions.prescription.table.temperature")},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Prescriptions/Prescription.jsx",lineNumber:156,columnNumber:19},this),e.jsxDEV(J,{children:n("prescriptions.prescription.table.action")},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Prescriptions/Prescription.jsx",lineNumber:157,columnNumber:19},this)]},void 0,!0,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Prescriptions/Prescription.jsx",lineNumber:151,columnNumber:17},this)},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Prescriptions/Prescription.jsx",lineNumber:150,columnNumber:15},this),e.jsxDEV(oa,{children:x.length>0?z.map(o=>e.jsxDEV(ve,{children:[e.jsxDEV(W,{children:`${o.patient_f_name} ${o.patient_l_name}`},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Prescriptions/Prescription.jsx",lineNumber:164,columnNumber:23},this),e.jsxDEV(W,{children:`${a.doct_f_name} ${a.doct_l_name}`},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Prescriptions/Prescription.jsx",lineNumber:165,columnNumber:23},this),e.jsxDEV(W,{children:o.date},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Prescriptions/Prescription.jsx",lineNumber:166,columnNumber:23},this),e.jsxDEV(W,{children:o.pulse_rate},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Prescriptions/Prescription.jsx",lineNumber:167,columnNumber:23},this),e.jsxDEV(W,{children:o.temperature},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Prescriptions/Prescription.jsx",lineNumber:168,columnNumber:23},this),e.jsxDEV(W,{children:e.jsxDEV(N,{alignItems:"center",children:[" ",e.jsxDEV(ee,{as:X,"aria-label":"Filter",icon:e.jsxDEV(Le,{fontSize:22},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Prescriptions/Prescription.jsx",lineNumber:176,columnNumber:35},this),colorScheme:"whatsapp",size:"sm",variant:"ghost",target:"_blank",rel:"noopener noreferrer",onClick:()=>{S(`${ue}/prescription/generatePDF/${o.id}`)}},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Prescriptions/Prescription.jsx",lineNumber:173,columnNumber:27},this),c("PRESCRIPTION_UPDATE")&&e.jsxDEV(ee,{as:T,"aria-label":"Filter",icon:e.jsxDEV(ia,{fontSize:24},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Prescriptions/Prescription.jsx",lineNumber:192,columnNumber:37},this),colorScheme:"blue",size:"sm",variant:"ghost",to:`/prescription/${o==null?void 0:o.id}/?appointmentID=${o==null?void 0:o.appointment_id}&patientID=${o==null?void 0:o.patient_id}`},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Prescriptions/Prescription.jsx",lineNumber:189,columnNumber:29},this),e.jsxDEV(ee,{"aria-label":"Filter",icon:e.jsxDEV(Ke,{fontSize:20},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Prescriptions/Prescription.jsx",lineNumber:201,columnNumber:35},this),colorScheme:"red",size:"sm",variant:"ghost",onClick:()=>{v(),u(o)}},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Prescriptions/Prescription.jsx",lineNumber:199,columnNumber:27},this)," "]},void 0,!0,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Prescriptions/Prescription.jsx",lineNumber:171,columnNumber:25},this)},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Prescriptions/Prescription.jsx",lineNumber:170,columnNumber:23},this)]},o.id,!0,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Prescriptions/Prescription.jsx",lineNumber:163,columnNumber:21},this)):e.jsxDEV(ve,{children:e.jsxDEV(W,{colSpan:7,children:e.jsxDEV(Q,{align:"center",children:n("prescriptions.prescription.messages.noData")},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Prescriptions/Prescription.jsx",lineNumber:217,columnNumber:23},this)},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Prescriptions/Prescription.jsx",lineNumber:216,columnNumber:21},this)},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Prescriptions/Prescription.jsx",lineNumber:215,columnNumber:19},this)},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Prescriptions/Prescription.jsx",lineNumber:160,columnNumber:15},this)]},void 0,!0,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Prescriptions/Prescription.jsx",lineNumber:149,columnNumber:13},this)},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Prescriptions/Prescription.jsx",lineNumber:144,columnNumber:11},this)]},void 0,!0,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Prescriptions/Prescription.jsx",lineNumber:127,columnNumber:9},this),l&&e.jsxDEV(ea,{isOpen:l,onClose:p,data:r},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Prescriptions/Prescription.jsx",lineNumber:228,columnNumber:9},this)]},void 0,!0,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Prescriptions/Prescription.jsx",lineNumber:60,columnNumber:5},this)}let Se=["Pending","Confirmed","Rejected","Visited"],Va=["Pending","Confirmed","Rejected","Completed"];const ya=i=>i==="OPD"?Se:i==="Video Consultant"?Va:Se,Ua=i=>{switch(i){case"Emergency":return e.jsxDEV(L,{colorScheme:"red",p:"5px",px:10,children:i},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:49,columnNumber:9},void 0);case"OPD":return e.jsxDEV(L,{colorScheme:"green",p:"5px",px:10,children:i},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:58,columnNumber:9},void 0);default:return e.jsxDEV(L,{colorScheme:"green",p:"5px",px:10,children:i},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:67,columnNumber:9},void 0)}},_a=async i=>{const a=await $(_.token,"update_appointment",i);if(a.response!==200)throw new Error(a.message);return a},$e=async i=>{const a=await $(_.token,"update_appointment_status",i);if(a.response!==200)throw new Error(a.message);return a},Sa=async i=>{const a=await $(_.token,"appointment_reject_and_refund",i);if(a.response!==200)throw new Error(a.message);return a},Ia=async i=>{const a=await $(_.token,"appointment_cancellation_and_refund",i);if(a.response!==200)throw new Error(a.message);return a};function li(){const{register:i,handleSubmit:a}=Xe(),{id:n}=ze(),c=F(),r=We(),u=ae(),[l,v]=C.useState(null),{isOpen:p,onOpen:h,onClose:P}=me(),{hasPermission:x}=Te(),{isOpen:f,onOpen:b,onClose:z}=me(),{isOpen:S,onOpen:o,onClose:D}=me(),{t:m}=K(),k=async()=>{const w=await R(_.token,`get_appointment/${n}`);return v(w.data.status),w.data},{data:s,isLoading:B}=M({queryKey:["appointment",n],queryFn:k}),H=O({mutationFn:async w=>{await _a(w)},onSuccess:()=>{u.invalidateQueries("appointments"),u.invalidateQueries("main-appointments"),u.invalidateQueries(["appointment",n])},onError:w=>{E(c,"error",w.message)}}),G=O({mutationFn:async w=>{await $e(w)},onSuccess:()=>{u.invalidateQueries("appointments"),u.invalidateQueries("main-appointments"),u.invalidateQueries(["appointment",n])},onError:w=>{E(c,"error",w.message)}}),se=w=>{H.mutate({...w,status:l})};return B||H.isPending||G.isPending?e.jsxDEV(ie,{},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:188,columnNumber:12},this):e.jsxDEV(g,{children:[" ",e.jsxDEV(N,{justify:"space-between",alignItems:"center",children:[e.jsxDEV(N,{justify:"space-between",alignItems:"center",gap:5,children:[e.jsxDEV(ne,{as:"h1",size:"md",children:[m("appointments.update.details")," #",n]},void 0,!0,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:200,columnNumber:11},this),te(s==null?void 0:s.status),e.jsxDEV(L,{colorScheme:"gray",p:"5px",px:5,children:[m("appointments.update.source")," - ",s.source]},void 0,!0,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:206,columnNumber:11},this),s.type==="Video Consultant"?s.meeting_link&&e.jsxDEV(A,{rightIcon:e.jsxDEV(Qe,{},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:215,columnNumber:30},this),size:"sm",variant:"outline",cursor:"pointer",as:X,href:s.meeting_link,isExternal:!0,color:"teal",children:m("appointments.update.buttons.joinMeeting")},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:214,columnNumber:17},this):null,e.jsxDEV(A,{rightIcon:e.jsxDEV(Je,{},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:228,columnNumber:24},this),size:"sm",variant:"link",cursor:"pointer",as:X,href:`${ue}/consultation_report/${n}`,isExternal:!0,children:m("appointments.update.buttons.printReport")},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:227,columnNumber:11},this)]},void 0,!0,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:196,columnNumber:9},this),e.jsxDEV(A,{w:120,size:"sm",variant:j("blackButton","gray"),onClick:()=>{r(-1)},children:m("common.back")},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:239,columnNumber:9},this)]},void 0,!0,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:193,columnNumber:7},this),e.jsxDEV(Ve,{colorScheme:"blue",mt:3,children:[e.jsxDEV(ye,{children:[e.jsxDEV(Y,{children:"Overview"},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:253,columnNumber:11},this),x("PRESCRIPTION_VIEW")&&e.jsxDEV(Y,{children:"Prescriptions"},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:254,columnNumber:50},this),x("APPOINTMENT_INVOICE_VIEW")&&e.jsxDEV(Y,{children:"Invoice"},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:255,columnNumber:57},this),x("ALL_TRANSACTION_VIEW")&&e.jsxDEV(Y,{children:"Transaction"},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:256,columnNumber:53},this),x("APPOINTMENT_PAYMENTS_VIEW")&&e.jsxDEV(Y,{children:"Payments"},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:257,columnNumber:58},this),x("FILE_VIEW")&&e.jsxDEV(Y,{children:"Patient Files"},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:258,columnNumber:42},this)]},void 0,!0,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:252,columnNumber:9},this),e.jsxDEV(Ue,{children:[e.jsxDEV(q,{children:e.jsxDEV(g,{children:[e.jsxDEV("form",{onSubmit:a(se),children:[e.jsxDEV(N,{gap:8,children:[e.jsxDEV(g,{w:"55%",children:[" ",e.jsxDEV(re,{mt:5,bg:j("white","gray.700"),children:e.jsxDEV(ce,{p:3,as:"form",children:[" ",e.jsxDEV(N,{align:"center",gap:5,children:[" ",e.jsxDEV(ne,{as:"h3",size:"sm",children:m("appointments.update.patientDetails")},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:279,columnNumber:27},this),e.jsxDEV(X,{to:`/patient/${s.patient_id}`,as:T,children:e.jsxDEV(Pe,{fontSize:20},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:287,columnNumber:29},this)},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:284,columnNumber:27},this)]},void 0,!0,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:275,columnNumber:25},this),e.jsxDEV(Z,{mt:2,mb:5},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:290,columnNumber:25},this),e.jsxDEV(N,{gap:5,children:[e.jsxDEV(y,{children:[e.jsxDEV(V,{fontSize:"sm",mb:0,color:j("gray.600","gray.300"),children:m("appointments.update.labels.patientFirstName")},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:296,columnNumber:29},this),e.jsxDEV(U,{size:"sm",isReadOnly:!0,fontWeight:600,variant:"flushed",defaultValue:s.patient_f_name},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:302,columnNumber:29},this)]},void 0,!0,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:295,columnNumber:27},this),e.jsxDEV(y,{children:[e.jsxDEV(V,{fontSize:"sm",mb:0,color:j("gray.600","gray.300"),children:m("appointments.update.labels.patientLastName")},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:312,columnNumber:29},this),e.jsxDEV(U,{size:"sm",isReadOnly:!0,fontWeight:600,variant:"flushed",defaultValue:s.patient_l_name},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:318,columnNumber:29},this)]},void 0,!0,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:311,columnNumber:27},this)]},void 0,!0,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:294,columnNumber:25},this),e.jsxDEV(N,{gap:5,mt:2,children:[e.jsxDEV(y,{id:"doct_specialization",size:"sm",children:[e.jsxDEV(V,{fontSize:"sm",mb:0,color:j("gray.600","gray.300"),children:m("appointments.update.labels.phone")},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:333,columnNumber:29},this),e.jsxDEV(U,{size:"sm",isReadOnly:!0,fontWeight:600,variant:"flushed",defaultValue:s.patient_phone},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:339,columnNumber:29},this)]},void 0,!0,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:330,columnNumber:27},this),e.jsxDEV(y,{id:"dept_title",size:"sm",children:[e.jsxDEV(V,{fontSize:"sm",mb:0,color:j("gray.600","gray.300"),children:m("appointments.update.labels.gender")},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:351,columnNumber:29},this),e.jsxDEV(U,{size:"sm",isReadOnly:!0,fontWeight:600,variant:"flushed",defaultValue:s.patient_gender},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:357,columnNumber:29},this)]},void 0,!0,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:348,columnNumber:27},this)]},void 0,!0,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:327,columnNumber:25},this)]},void 0,!0,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:271,columnNumber:23},this)},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:268,columnNumber:21},this)]},void 0,!0,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:266,columnNumber:19},this)," ",e.jsxDEV(g,{w:"45%",children:[" ",e.jsxDEV(re,{mt:5,bg:j("white","gray.700"),children:e.jsxDEV(ce,{p:3,as:"form",children:[" ",e.jsxDEV(N,{alignItems:"center",gap:5,children:[e.jsxDEV(ne,{as:"h3",size:"sm",children:m("appointments.update.doctorDetails")},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:381,columnNumber:27},this)," ",e.jsxDEV(X,{to:`/doctor/${s.doct_id}`,as:T,children:e.jsxDEV(Pe,{fontSize:20},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:389,columnNumber:29},this)},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:386,columnNumber:27},this)]},void 0,!0,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:378,columnNumber:25},this),e.jsxDEV(Z,{mt:2,mb:5},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:392,columnNumber:25},this),e.jsxDEV(N,{gap:5,children:[e.jsxDEV(y,{children:[e.jsxDEV(V,{fontSize:"sm",mb:0,color:j("gray.600","gray.300"),children:m("appointments.update.labels.doctorFirstName")},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:398,columnNumber:29},this),e.jsxDEV(U,{size:"sm",isReadOnly:!0,fontWeight:600,variant:"flushed",defaultValue:s.doct_f_name},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:404,columnNumber:29},this)]},void 0,!0,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:397,columnNumber:27},this),e.jsxDEV(y,{children:[e.jsxDEV(V,{fontSize:"sm",mb:0,color:j("gray.600","gray.300"),children:m("appointments.update.labels.doctorLastName")},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:414,columnNumber:29},this),e.jsxDEV(U,{size:"sm",isReadOnly:!0,fontWeight:600,variant:"flushed",defaultValue:s.doct_l_name},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:420,columnNumber:29},this)]},void 0,!0,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:413,columnNumber:27},this)]},void 0,!0,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:396,columnNumber:25},this),e.jsxDEV(N,{gap:5,mt:2,children:[e.jsxDEV(y,{id:"doct_specialization",size:"sm",children:[e.jsxDEV(V,{fontSize:"sm",mb:0,color:j("gray.600","gray.300"),children:"Doctor Specialization"},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:435,columnNumber:29},this),e.jsxDEV(U,{size:"sm",isReadOnly:!0,fontWeight:600,variant:"flushed",defaultValue:s.doct_specialization},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:441,columnNumber:29},this)]},void 0,!0,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:432,columnNumber:27},this),e.jsxDEV(y,{id:"dept_title",size:"sm",children:[e.jsxDEV(V,{fontSize:"sm",mb:0,color:j("gray.600","gray.300"),children:"Department"},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:453,columnNumber:29},this),e.jsxDEV(U,{size:"sm",isReadOnly:!0,fontWeight:600,variant:"flushed",defaultValue:s.dept_title},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:459,columnNumber:29},this)]},void 0,!0,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:450,columnNumber:27},this)]},void 0,!0,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:429,columnNumber:25},this)]},void 0,!0,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:374,columnNumber:23},this)},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:371,columnNumber:21},this)]},void 0,!0,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:369,columnNumber:19},this)," "]},void 0,!0,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:265,columnNumber:17},this),e.jsxDEV(N,{gap:8,children:[e.jsxDEV(g,{w:"45%",children:[" ",e.jsxDEV(re,{mt:5,bg:j("white","gray.700"),children:e.jsxDEV(ce,{p:3,as:"form",children:[" ",e.jsxDEV(ne,{as:"h3",size:"sm",children:["Appointment Details -"," "]},void 0,!0,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:482,columnNumber:25},this)," ",e.jsxDEV(Z,{mt:2,mb:5},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:487,columnNumber:25},this),e.jsxDEV(N,{gap:5,children:[e.jsxDEV(y,{children:[e.jsxDEV(V,{fontSize:"sm",mb:0,color:j("gray.600","gray.300"),children:"Appointment Date"},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:493,columnNumber:29},this),e.jsxDEV(U,{size:"sm",fontWeight:600,variant:"flushed",value:I(s==null?void 0:s.date).format("DD-MM-YYYY"),onClick:()=>{if((s==null?void 0:s.status)=="Confirmed"||(s==null?void 0:s.status)=="Pending"||(s==null?void 0:s.status)=="Rescheduled")b();else return},cursor:"pointer"},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:499,columnNumber:29},this)]},void 0,!0,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:492,columnNumber:27},this),e.jsxDEV(y,{children:[e.jsxDEV(V,{fontSize:"sm",mb:0,color:j("gray.600","gray.300"),children:"Appointment Time Slot"},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:522,columnNumber:29},this),e.jsxDEV(U,{size:"sm",fontWeight:600,variant:"flushed",value:I(s==null?void 0:s.time_slots,"hh:mm:ss").format("hh:mm A"),onClick:()=>{if((s==null?void 0:s.status)=="Confirmed"||(s==null?void 0:s.status)=="Pending"||(s==null?void 0:s.status)=="Rescheduled")b();else return},cursor:"pointer"},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:528,columnNumber:29},this)]},void 0,!0,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:521,columnNumber:27},this)]},void 0,!0,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:491,columnNumber:25},this),e.jsxDEV(N,{gap:5,mt:2,children:[e.jsxDEV(y,{id:"status",size:"sm",children:[e.jsxDEV(V,{fontSize:"sm",mb:0,color:j("gray.600","gray.300"),children:"Status"},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:557,columnNumber:29},this),e.jsxDEV(oe,{children:[e.jsxDEV(de,{as:A,rightIcon:e.jsxDEV(le,{},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:566,columnNumber:44},this),bg:"transparent",w:"100%",textAlign:"left",pl:0,pt:0,h:8,_hover:{bg:"transparent"},_focus:{bg:"transparent"},borderBottom:"1px solid",borderBottomRadius:0,borderColor:j("gray.200","gray.600"),children:l?te(l):te(s==null?void 0:s.status)},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:564,columnNumber:31},this),["Pending","Confirmed","Rescheduled"].includes(s==null?void 0:s.status)&&e.jsxDEV(Ae,{children:ya(s.type).map(w=>e.jsxDEV(Ee,{onClick:()=>{if(s.current_cancel_req_status==="Initiated")return E(c,"error","Please Update the Cancellation request first");if(w==="Rejected")h();else{let je={id:n,status:w};G.mutate(je)}},children:e.jsxDEV(g,{display:"flex",alignItems:"center",children:te(w)},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:619,columnNumber:39},this)},w,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:594,columnNumber:37},this))},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:592,columnNumber:33},this)]},void 0,!0,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:563,columnNumber:29},this)]},void 0,!0,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:554,columnNumber:27},this),e.jsxDEV(y,{id:"doct_specialization",size:"sm",children:[e.jsxDEV(V,{fontSize:"sm",mb:0,color:j("gray.600","gray.300"),children:"Appointment Type"},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:633,columnNumber:29},this),e.jsxDEV(oe,{children:e.jsxDEV(de,{as:A,rightIcon:e.jsxDEV(le,{},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:642,columnNumber:44},this),bg:"transparent",w:"100%",textAlign:"left",pl:0,pt:0,h:8,_hover:{bg:"transparent"},_focus:{bg:"transparent"},borderBottom:"1px solid",borderBottomRadius:0,borderColor:j("gray.200","gray.600"),children:Ua(s.type)},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:640,columnNumber:31},this)},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:639,columnNumber:29},this)]},void 0,!0,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:630,columnNumber:27},this)]},void 0,!0,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:551,columnNumber:25},this)]},void 0,!0,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:478,columnNumber:23},this)},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:475,columnNumber:21},this)]},void 0,!0,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:473,columnNumber:19},this)," ",e.jsxDEV(g,{w:"55%",children:[" ",e.jsxDEV(re,{mt:5,bg:j("white","gray.700"),children:e.jsxDEV(ce,{p:3,as:"form",children:[" ",e.jsxDEV(ne,{as:"h3",size:"sm",children:["Other -"," "]},void 0,!0,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:678,columnNumber:25},this)," ",e.jsxDEV(Z,{mt:2,mb:5},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:683,columnNumber:25},this),e.jsxDEV(N,{gap:5,align:"flex-end",children:e.jsxDEV(y,{isRequired:!0,children:[e.jsxDEV(V,{fontSize:"sm",mb:0,color:j("gray.600","gray.300"),children:"Payment Status"},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:691,columnNumber:29},this),e.jsxDEV(la,{placeholder:"Select paymemnt status",variant:"flushed",value:s==null?void 0:s.payment_status,...i("payment_status"),isReadOnly:!0,onChange:w=>{if(w.target.value==="Paid")o();else return},children:["Pending","Not Paid","Unpaid"].includes(s.payment_status)||s.payment_status===null?e.jsxDEV(e.Fragment,{children:[e.jsxDEV("option",{value:"Paid",children:"Paid"},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:714,columnNumber:35},this),e.jsxDEV("option",{value:"Pending",children:"Pending"},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:715,columnNumber:35},this),e.jsxDEV("option",{value:"Not Paid",children:"Not Paid"},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:716,columnNumber:35},this),e.jsxDEV("option",{value:"Refunded",children:"Refunded"},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:717,columnNumber:35},this)]},void 0,!0,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:713,columnNumber:33},this):e.jsxDEV(e.Fragment,{children:e.jsxDEV("option",{value:s.payment_status,children:s.payment_status},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:721,columnNumber:35},this)},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:720,columnNumber:33},this)},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:697,columnNumber:29},this)]},void 0,!0,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:690,columnNumber:27},this)},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:687,columnNumber:25},this),e.jsxDEV(N,{gap:5,mt:2,children:[e.jsxDEV(y,{id:"doct_specialization",size:"sm",children:[e.jsxDEV(V,{fontSize:"sm",mb:0,color:j("gray.600","gray.300"),children:"Meeting ID"},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:752,columnNumber:29},this),e.jsxDEV(U,{...i("meeting_id"),size:"sm",fontWeight:600,variant:"flushed",defaultValue:s.meeting_id},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:758,columnNumber:29},this)]},void 0,!0,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:749,columnNumber:27},this),e.jsxDEV(y,{id:"dept_title",size:"sm",children:[e.jsxDEV(V,{fontSize:"sm",mb:0,color:j("gray.600","gray.300"),display:"Flex",alignItems:"center",gap:2,children:[m("appointments.update.labels.meetingLink"),s.type==="Video Consultant"?s.meeting_link&&e.jsxDEV(X,{href:s.meeting_link,target:"_blank",children:e.jsxDEV(Pe,{fontSize:20,color:pe.colors.teal[500]},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:783,columnNumber:39},this)},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:780,columnNumber:37},this):null]},void 0,!0,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:770,columnNumber:29},this),e.jsxDEV(U,{...i("meeting_link"),size:"sm",fontWeight:600,variant:"flushed",value:s.meeting_link},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:791,columnNumber:29},this)]},void 0,!0,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:767,columnNumber:27},this)]},void 0,!0,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:746,columnNumber:25},this)]},void 0,!0,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:674,columnNumber:23},this)},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:671,columnNumber:21},this)]},void 0,!0,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:669,columnNumber:19},this)," "]},void 0,!0,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:472,columnNumber:17},this)]},void 0,!0,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:264,columnNumber:15},this),e.jsxDEV(Ve,{mt:5,colorScheme:"red",children:[e.jsxDEV(ye,{children:e.jsxDEV(Y,{fontSize:18,fontWeight:600,children:m("appointments.update.cancellationTab")},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:811,columnNumber:19},this)},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:810,columnNumber:17},this),e.jsxDEV(Ue,{children:e.jsxDEV(q,{px:0,children:e.jsxDEV(za,{current_req:s.current_cancel_req_status},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:819,columnNumber:21},this)},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:818,columnNumber:19},this)},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:817,columnNumber:17},this)]},void 0,!0,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:807,columnNumber:15},this)]},void 0,!0,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:263,columnNumber:13},this)},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:262,columnNumber:11},this),x("PRESCRIPTION_VIEW")&&e.jsxDEV(q,{children:e.jsxDEV(Ea,{appointmentID:n,appointmntData:s},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:829,columnNumber:15},this)},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:828,columnNumber:13},this),x("APPOINTMENT_INVOICE_VIEW")&&e.jsxDEV(q,{children:e.jsxDEV(pa,{appointmentID:n},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:837,columnNumber:15},this)},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:836,columnNumber:13},this),x("ALL_TRANSACTION_VIEW")&&e.jsxDEV(q,{children:e.jsxDEV(ba,{appointmentID:n},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:842,columnNumber:15},this)},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:841,columnNumber:13},this),x("APPOINTMENT_PAYMENTS_VIEW")&&e.jsxDEV(q,{children:e.jsxDEV(ga,{appointmentID:n},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:847,columnNumber:15},this)},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:846,columnNumber:13},this),e.jsxDEV(q,{children:e.jsxDEV(da,{id:s.patient_id},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:852,columnNumber:13},this)},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:851,columnNumber:11},this)]},void 0,!0,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:261,columnNumber:9},this)]},void 0,!0,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:249,columnNumber:7},this),e.jsxDEV(Ta,{isOpen:p,onClose:P,id:n,appData:s},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:856,columnNumber:7},this),e.jsxDEV(va,{data:s,isOpen:f,onClose:z},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:862,columnNumber:7},this),e.jsxDEV(Aa,{id:n,isOpen:S,onClose:D},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:867,columnNumber:7},this)]},void 0,!0,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:191,columnNumber:5},this)}function Ie(i){switch(i){case"Initiated":return["Processing","Rejected","Approved"];case"Processing":return["Rejected","Approved"];case"Rejected":return[];case"Approved":return[];default:return[]}}const za=({current_req:i})=>{var z,S;const{id:a}=ze(),n=F(),c=ae(),{isOpen:r,onOpen:u,onClose:l}=me(),[v,p]=C.useState(),h=async()=>{const o=await R(_.token,`get_appointment_cancel_req/appointment/${a}`);return(o==null?void 0:o.data.map(m=>{const{status:k,notes:s,created_at:B}=m;return{Status:we(k),notes:s,"Created At":I(B).format("DD MMM YY hh:mm A")}})).sort((m,k)=>k.id-m.id)},{isLoading:P,data:x}=M({queryKey:["appointment-canc-req",a],queryFn:h}),f=async o=>{let D={appointment_id:a,status:o};try{const m=await $(_.token,"appointment_cancellation",D);m.response===200?E(n,"success","Updated!"):E(n,"error",m.message)}catch(m){E(n,"error",JSON.stringify(m))}};return O({mutationFn:async o=>{f(o)},onSuccess:()=>{c.invalidateQueries(["appointment-canc-req",a]),c.invalidateQueries("appointment",a),c.invalidateQueries("appointments"),c.invalidateQueries("main-appointments")}}).isLoading?e.jsxDEV(ie,{},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:960,columnNumber:34},void 0):e.jsxDEV(g,{children:[P||!x?e.jsxDEV(g,{children:[e.jsxDEV(N,{mb:5,justify:"space-between",children:[e.jsxDEV(d,{w:400,h:8},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:968,columnNumber:13},void 0),e.jsxDEV(d,{w:200,h:8},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:972,columnNumber:13},void 0)]},void 0,!0,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:965,columnNumber:11},void 0),e.jsxDEV(d,{h:10,w:"100%",mt:2},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:977,columnNumber:11},void 0),e.jsxDEV(d,{h:10,w:"100%",mt:2},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:982,columnNumber:11},void 0),e.jsxDEV(d,{h:10,w:"100%",mt:2},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:987,columnNumber:11},void 0),e.jsxDEV(d,{h:10,w:"100%",mt:2},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:992,columnNumber:11},void 0),e.jsxDEV(d,{h:10,w:"100%",mt:2},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:997,columnNumber:11},void 0),e.jsxDEV(d,{h:10,w:"100%",mt:2},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:1002,columnNumber:11},void 0),e.jsxDEV(d,{h:10,w:"100%",mt:2},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:1007,columnNumber:11},void 0),e.jsxDEV(d,{h:10,w:"100%",mt:2},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:1012,columnNumber:11},void 0),e.jsxDEV(d,{h:10,w:"100%",mt:2},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:1017,columnNumber:11},void 0),e.jsxDEV(d,{h:10,w:"100%",mt:2},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:1022,columnNumber:11},void 0),e.jsxDEV(d,{h:10,w:"100%",mt:2},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:1027,columnNumber:11},void 0),e.jsxDEV(d,{h:10,w:"100%",mt:2},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:1032,columnNumber:11},void 0),e.jsxDEV(d,{h:10,w:"100%",mt:2},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:1037,columnNumber:11},void 0)]},void 0,!0,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:964,columnNumber:9},void 0):e.jsxDEV(g,{children:[x.length?e.jsxDEV(N,{mb:5,justify:"space-between",align:"center",children:e.jsxDEV(y,{size:"sm",children:[e.jsxDEV(V,{fontSize:"sm",mb:0,color:j("gray.600","gray.300"),children:t("appointments.update.labels.updateRequestStatus")},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:1051,columnNumber:17},void 0),e.jsxDEV(oe,{children:[e.jsxDEV(de,{as:A,rightIcon:e.jsxDEV(le,{},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:1060,columnNumber:32},void 0),bg:"transparent",w:"300px",textAlign:"left",pl:0,pt:0,h:8,_hover:{bg:"transparent"},_focus:{bg:"transparent"},borderBottom:"1px solid",borderBottomRadius:0,borderColor:j("gray.200","gray.600"),children:we(i)},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:1058,columnNumber:19},void 0),(z=Ie(i))!=null&&z.length?e.jsxDEV(Ae,{children:(S=Ie(i))==null?void 0:S.map(o=>e.jsxDEV(Ee,{onClick:()=>{u(),p(o)},children:e.jsxDEV(g,{display:"flex",alignItems:"center",children:we(o)},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:1093,columnNumber:27},void 0)},o,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:1081,columnNumber:25},void 0))},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:1079,columnNumber:21},void 0):null]},void 0,!0,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:1057,columnNumber:17},void 0)]},void 0,!0,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:1050,columnNumber:15},void 0)},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:1046,columnNumber:13},void 0):null,e.jsxDEV(fe,{minPad:"8px 10px",data:x},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:1107,columnNumber:11},void 0)]},void 0,!0,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:1044,columnNumber:9},void 0),e.jsxDEV(Ca,{isOpen:r,onClose:l,id:a,type:v},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:1114,columnNumber:7},void 0)]},void 0,!0,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:962,columnNumber:5},void 0)},Ta=({isOpen:i,onClose:a,id:n,appData:c})=>{const r=ae(),u=F(),{t:l}=K(),v=O({mutationFn:async p=>{c.source==="Admin"?await $e({id:n,status:"Rejected"}):await Sa(p)},onSuccess:()=>{E(u,"success","Success"),r.invalidateQueries("appointments"),r.invalidateQueries("main-appointments"),r.invalidateQueries(["appointment",n]),a()},onError:p=>{E(u,"error",p.message)}});return v.isPending?e.jsxDEV(ie,{},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:1157,columnNumber:40},void 0):e.jsxDEV(Me,{isOpen:i,onClose:a,isCentered:!0,children:e.jsxDEV(he,{children:e.jsxDEV(Oe,{children:[e.jsxDEV(be,{fontSize:"lg",fontWeight:"bold",children:[l("appointments.update.alerts.reject.title")," , id : ",n]},void 0,!0,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:1167,columnNumber:11},void 0),e.jsxDEV(Ne,{children:l("appointments.update.alerts.reject.message")},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:1171,columnNumber:11},void 0),e.jsxDEV(ge,{children:[e.jsxDEV(A,{onClick:a,size:"sm",children:l("appointments.update.alerts.reject.cancel")},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:1176,columnNumber:13},void 0),e.jsxDEV(A,{colorScheme:"red",onClick:()=>{let p={appointment_id:n};v.mutate(p)},ml:3,size:"sm",children:l("appointments.update.alerts.reject.confirm")},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:1179,columnNumber:13},void 0)]},void 0,!0,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:1175,columnNumber:11},void 0)]},void 0,!0,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:1166,columnNumber:9},void 0)},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:1165,columnNumber:7},void 0)},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:1161,columnNumber:5},void 0)},Ca=({isOpen:i,onClose:a,id:n,type:c})=>{const r=ae(),u=F(),{t:l}=K(),v=async P=>{let x={appointment_id:n,status:P};try{const f=await $(_.token,"appointment_cancellation",x);f.response===200?E(u,"success","Updated!"):E(u,"error",f.message)}catch(f){E(u,"error",JSON.stringify(f))}},p=O({mutationFn:async P=>{await Ia(P)},onSuccess:()=>{r.invalidateQueries("appointments"),r.invalidateQueries("main-appointments"),r.invalidateQueries(["appointment-canc-req",n]),r.invalidateQueries("appointment",n),a()},onError:P=>{E(u,"error",P.message),a()}}),h=O({mutationFn:async P=>{await v(P)},onSuccess:()=>{r.invalidateQueries("appointments"),r.invalidateQueries("main-appointments"),r.invalidateQueries(["appointment-canc-req",n]),r.invalidateQueries("appointment",n),a()},onError:P=>{E(u,"error",P.message),a()}});return p.isPending||h.isPending?e.jsxDEV(ie,{},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:1263,columnNumber:67},void 0):e.jsxDEV(Me,{isOpen:i,onClose:a,isCentered:!0,children:e.jsxDEV(he,{children:e.jsxDEV(Oe,{children:[e.jsxDEV(be,{fontSize:"md",fontWeight:"bold",children:[l("appointments.update.alerts.cancellation.title",{type:c})," , id : ",n]},void 0,!0,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:1273,columnNumber:11},void 0),e.jsxDEV(Ne,{children:l("appointments.update.alerts.cancellation.message",{type:c})},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:1277,columnNumber:11},void 0),e.jsxDEV(ge,{children:[e.jsxDEV(A,{onClick:a,size:"sm",children:l("appointments.update.alerts.cancellation.cancel")},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:1282,columnNumber:13},void 0),e.jsxDEV(A,{colorScheme:"red",onClick:()=>{if(c==="Approved"){let P={appointment_id:n,status:"Approved"};p.mutate(P)}else h.mutate(c)},ml:3,size:"sm",children:l("appointments.update.alerts.cancellation.confirm",{type:c})},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:1285,columnNumber:13},void 0)]},void 0,!0,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:1281,columnNumber:11},void 0)]},void 0,!0,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:1272,columnNumber:9},void 0)},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:1271,columnNumber:7},void 0)},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:1267,columnNumber:5},void 0)};export{li as default};
