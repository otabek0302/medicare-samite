import{r as l,w,U as R,v as e,B as k,y as $,G as h,K as I,N as Q,z as G}from"./index-BqRQ5zR-.js";import{e as q}from"./index-D6RHo-Rw.js";import{u as K}from"./SettingData-CxfeWvqW.js";import{F as W}from"./index-CS1DgOx7.js";import{u as H,N as J,D as X,P as Z,S as y}from"./Dashboard-DfQ9GR_Q.js";import{u as U}from"./HasPermission-BxGNMDGA.js";import{A as ee,D as se,E as ne}from"./Add-BRlVLHCM.js";import{u as ae}from"./index.esm-CDWxJwJY.js";import{F as c,I as re}from"./utils-BcOZwoxx.js";import{u as D,I as P}from"./index-CdSaDTFS.js";import"./createLucideIcon-Ha6tAQX1.js";import"./tr-IqXuou1v.js";import"./image-CynZshwF.js";import"./visually-hidden.style-BiwU0iRL.js";import"./today-D_vLUvRX.js";import"./select-BdYZ_n_k.js";import"./split-CzYrjwZo.js";import"./UsersComboBox-B-um6-vK.js";import"./popover-DbwkstBv.js";import"./Users-BxCA8Sbm.js";import"./IsdModal-DYnTCngq.js";import"./input-group-D9TmQQ8n.js";import"./input-addon-Cb0INng4.js";const F=50,me=(n,s)=>{const r=(n-1)*s,a=r+s-1;return{startIndex:r,endIndex:a}},ie=n=>n==null?void 0:n.map(s=>{const{id:r,user_id:a,f_name:o,l_name:i,phone:f,gender:b,dob:d,created_at:x,user_f_name:p,user_l_name:u,user_phone:N}=s;return{id:r,user_id:a,"Member name":`${o} ${i}`,"Member Phone":f,"parent Name":`${p} ${u}`,"parent Phone":N,gender:b,dateOfBirth:d?h(d).format("DD MMM YYYY"):"N/A",createdAt:h(x).format("DD MMM YYYY hh:mm a")}}),Ve=()=>{const{hasPermission:n}=U(),[s,r]=l.useState(null),[a,o]=l.useState(1),[i,f]=l.useState(""),b=H(i,1e3),{t:d}=w(),{startIndex:x,endIndex:p}=me(a,F),{isOpen:u,onOpen:N,onClose:V}=D(),{isOpen:j,onOpen:A,onClose:C}=D(),{isOpen:E,onOpen:S,onClose:v}=D(),g=ae(),O=R(),_=l.useRef(null),{isLoading:Y,data:t,error:M}=K({queryKey:["family-members",a,b],queryFn:async()=>{const m=await Q(G.token,`get_family_member/page?start=${x}&end=${p}`);return{data:m.data,totalRecord:m.total_record}}}),T=m=>o(m);l.useEffect(()=>{_.current&&_.current.scrollIntoView({behavior:"smooth",block:"start"})},[a]),l.useEffect(()=>{M&&!g.isActive("Errortoast")&&g({id:"Errortoast",title:d("familyMembers.index.messages.error"),description:d("familyMembers.index.messages.error"),status:"error",duration:2e3,isClosable:!0,position:"top"})},[M,g]);const z=ie(t==null?void 0:t.data),L=Math.ceil((t==null?void 0:t.totalRecord)/F),B=m=>r(m);return n("FAMILY_VIEW")?e.jsxDEV(k,{children:[Y||!t?e.jsxDEV(te,{},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Family-Members/Index.jsx",lineNumber:114,columnNumber:9},void 0):e.jsxDEV(k,{children:[e.jsxDEV(c,{mb:5,justify:"space-between",align:"center",children:[e.jsxDEV(re,{size:"md",placeholder:"Search",w:400,maxW:"50vw",onChange:m=>f(m.target.value),value:i},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Family-Members/Index.jsx",lineNumber:121,columnNumber:13},void 0),e.jsxDEV($,{size:"sm",colorScheme:"blue",onClick:N,isDisabled:!n("FAMILY_ADD"),children:d("familyMembers.index.buttons.add")},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Family-Members/Index.jsx",lineNumber:130,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Family-Members/Index.jsx",lineNumber:117,columnNumber:11},void 0),e.jsxDEV(X,{minPad:"1px 20px",data:z,onActionClick:e.jsxDEV(oe,{onClick:B,navigate:O,rowData:s,DeleteonOpen:A,EditonOpen:S},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Family-Members/Index.jsx",lineNumber:142,columnNumber:15},void 0)},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Family-Members/Index.jsx",lineNumber:138,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Family-Members/Index.jsx",lineNumber:116,columnNumber:9},void 0),e.jsxDEV(c,{justify:"center",mt:4,children:e.jsxDEV(Z,{currentPage:a,onPageChange:T,totalPages:L},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Family-Members/Index.jsx",lineNumber:156,columnNumber:9},void 0)},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Family-Members/Index.jsx",lineNumber:153,columnNumber:7},void 0),u&&e.jsxDEV(ee,{isOpen:u,onClose:V},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Family-Members/Index.jsx",lineNumber:164,columnNumber:9},void 0),j&&e.jsxDEV(se,{isOpen:j,onClose:C,data:s},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Family-Members/Index.jsx",lineNumber:171,columnNumber:9},void 0),E&&e.jsxDEV(ne,{isOpen:E,onClose:v,data:s},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Family-Members/Index.jsx",lineNumber:178,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Family-Members/Index.jsx",lineNumber:112,columnNumber:5},void 0):e.jsxDEV(J,{},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Family-Members/Index.jsx",lineNumber:109,columnNumber:45},void 0)},te=()=>e.jsxDEV(k,{children:[e.jsxDEV(c,{mb:5,justify:"space-between",children:[e.jsxDEV(y,{w:400,h:8},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Family-Members/Index.jsx",lineNumber:191,columnNumber:7},void 0),e.jsxDEV(y,{w:200,h:8},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Family-Members/Index.jsx",lineNumber:192,columnNumber:7},void 0)]},void 0,!0,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Family-Members/Index.jsx",lineNumber:190,columnNumber:5},void 0),Array.from({length:10}).map((n,s)=>e.jsxDEV(y,{h:10,w:"100%",mt:2},s,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Family-Members/Index.jsx",lineNumber:195,columnNumber:7},void 0))]},void 0,!0,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Family-Members/Index.jsx",lineNumber:189,columnNumber:3},void 0),oe=({onClick:n,rowData:s,DeleteonOpen:r,EditonOpen:a})=>{const{hasPermission:o}=U(),{t:i}=w();return e.jsxDEV(c,{justify:"center",children:[e.jsxDEV(P,{"aria-label":i("familyMembers.index.buttons.edit"),isDisabled:!o("FAMILY_UPDATE"),size:"sm",variant:"ghost",_hover:{background:"none"},onClick:()=>{n(s),a()},icon:e.jsxDEV(q,{fontSize:18,color:I.colors.blue[500]},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Family-Members/Index.jsx",lineNumber:216,columnNumber:11},void 0)},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Family-Members/Index.jsx",lineNumber:205,columnNumber:7},void 0),e.jsxDEV(P,{"aria-label":i("familyMembers.index.buttons.delete"),isDisabled:!o("FAMILY_DELETE"),size:"sm",variant:"ghost",_hover:{background:"none"},onClick:()=>{n(s),r()},icon:e.jsxDEV(W,{fontSize:18,color:I.colors.red[500]},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Family-Members/Index.jsx",lineNumber:236,columnNumber:11},void 0)},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Family-Members/Index.jsx",lineNumber:223,columnNumber:7},void 0)]},void 0,!0,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Family-Members/Index.jsx",lineNumber:204,columnNumber:5},void 0)};export{Ve as default};
