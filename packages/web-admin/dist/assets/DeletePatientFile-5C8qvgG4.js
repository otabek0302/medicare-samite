import{w as F,r as f,x as y,v as e,B as p,T as k,Q as T,R as B,y as b,aE as q,z as _,D as A}from"./index-BqRQ5zR-.js";import{a as L}from"./index-CdSaDTFS.js";import{h as O,u as E,M as Q,b as w,a as I,c as V,g as H,d as v,F as J,e as S,f as d}from"./index.esm-CDWxJwJY.js";import{D as j}from"./createLucideIcon-Ha6tAQX1.js";import{d as K,I as U,F as W}from"./utils-BcOZwoxx.js";import{V as G,A as X,a as Y}from"./Dashboard-DfQ9GR_Q.js";function ae({isOpen:x,onClose:n,data:t}){const{t:s}=F(),[c,r]=f.useState(),[l,m]=f.useState(null),{register:u,handleSubmit:P,reset:N}=O(),i=f.useRef(),h=y(),g=E(),C=a=>{a.preventDefault();const o=a.dataTransfer.files[0];m(o)},z=a=>{a.preventDefault()},R=a=>{const o=a.target.files[0];m(o)},M=async a=>{let o={...a,file:l,id:t.id};try{r(!0);const D=await q(_.token,"update_patient_file",o);r(!1),D.response===200?(d(g,"success",s("patients.patientFiles.update.messages.success")),h.invalidateQueries(["patient-files",t.patient_id]),h.invalidateQueries(["all-files"]),N(),m(null),n()):d(g,"error",s("patients.patientFiles.update.messages.error"))}catch(D){r(!1),d(g,"error",JSON.stringify(D))}};return e.jsxDEV(Q,{isOpen:x,onClose:n,isCentered:!0,size:"lg",scrollBehavior:"inside",children:[e.jsxDEV(w,{},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Patients/UpdatePatientFiles.jsx",lineNumber:79,columnNumber:7},this),e.jsxDEV(I,{as:"form",onSubmit:P(M),children:[e.jsxDEV(V,{fontSize:18,py:2,children:s("patients.patientFiles.update.title")},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Patients/UpdatePatientFiles.jsx",lineNumber:81,columnNumber:9},this),e.jsxDEV(H,{},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Patients/UpdatePatientFiles.jsx",lineNumber:84,columnNumber:9},this),e.jsxDEV(j,{},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Patients/UpdatePatientFiles.jsx",lineNumber:85,columnNumber:9},this),e.jsxDEV(v,{children:e.jsxDEV(p,{pb:3,children:[e.jsxDEV(K,{isRequired:!0,children:[e.jsxDEV(J,{children:s("patients.patientFiles.update.form.title.label")},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Patients/UpdatePatientFiles.jsx",lineNumber:89,columnNumber:15},this),e.jsxDEV(U,{defaultValue:t==null?void 0:t.file_name,placeholder:s("patients.patientFiles.update.form.title.placeholder"),...u("file_name",{required:!0})},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Patients/UpdatePatientFiles.jsx",lineNumber:90,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Patients/UpdatePatientFiles.jsx",lineNumber:88,columnNumber:13},this),e.jsxDEV(p,{mt:5,p:4,border:"2px dashed",borderColor:"gray.300",borderRadius:"md",onDrop:C,onDragOver:z,onClick:()=>{i.current&&i.current.click()},cursor:"pointer",children:l?e.jsxDEV(p,{position:"relative",children:[e.jsxDEV(k,{children:[s("patients.patientFiles.update.form.file.selectedFile"),": ",l.name]},void 0,!0,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Patients/UpdatePatientFiles.jsx",lineNumber:104,columnNumber:19},this),e.jsxDEV(T,{position:"absolute",right:-2,top:-2,size:"sm",onClick:()=>{m(null)}},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Patients/UpdatePatientFiles.jsx",lineNumber:106,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Patients/UpdatePatientFiles.jsx",lineNumber:102,columnNumber:17},this):e.jsxDEV(p,{children:[e.jsxDEV(G,{children:e.jsxDEV(U,{ref:i,type:"file",onChange:R,accept:".jpeg, .svg, .png , .jpg",mb:4},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Patients/UpdatePatientFiles.jsx",lineNumber:115,columnNumber:21},this)},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Patients/UpdatePatientFiles.jsx",lineNumber:114,columnNumber:19},this),e.jsxDEV(B,{children:[" ",e.jsxDEV(L,{fontSize:32},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Patients/UpdatePatientFiles.jsx",lineNumber:127,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Patients/UpdatePatientFiles.jsx",lineNumber:125,columnNumber:19},this),e.jsxDEV(k,{textAlign:"center",mt:3,children:[e.jsxDEV("b",{children:s("patients.patientFiles.update.form.file.choose")},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Patients/UpdatePatientFiles.jsx",lineNumber:133,columnNumber:21},this)," ",s("patients.patientFiles.update.form.file.dragHere")]},void 0,!0,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Patients/UpdatePatientFiles.jsx",lineNumber:129,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Patients/UpdatePatientFiles.jsx",lineNumber:113,columnNumber:17},this)},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Patients/UpdatePatientFiles.jsx",lineNumber:93,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Patients/UpdatePatientFiles.jsx",lineNumber:87,columnNumber:11},this)},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Patients/UpdatePatientFiles.jsx",lineNumber:86,columnNumber:9},this),e.jsxDEV(j,{},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Patients/UpdatePatientFiles.jsx",lineNumber:140,columnNumber:9},this),e.jsxDEV(S,{py:3,children:[e.jsxDEV(b,{colorScheme:"gray",mr:3,onClick:n,size:"sm",children:s("patients.patientFiles.update.form.close")},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Patients/UpdatePatientFiles.jsx",lineNumber:142,columnNumber:11},this),e.jsxDEV(b,{variant:"solid",size:"sm",colorScheme:"blue",type:"submit",isLoading:c,children:s("patients.patientFiles.update.form.update")},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Patients/UpdatePatientFiles.jsx",lineNumber:149,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Patients/UpdatePatientFiles.jsx",lineNumber:141,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Patients/UpdatePatientFiles.jsx",lineNumber:80,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Patients/UpdatePatientFiles.jsx",lineNumber:78,columnNumber:5},this)}function ne({isOpen:x,onClose:n,data:t}){const{t:s}=F(),c=E(),r=f.useRef(),l=y(),[m,u]=f.useState(),P=async()=>{let N={id:t.id};try{u(!0);const i=await A(_.token,"delete_patient_file",N);u(!1),i.response===200?(d(c,"success","Patient File Deleted"),l.invalidateQueries({queryKey:["patient-files",t.patient_id]}),l.invalidateQueries({queryKey:["all-files"]}),n()):d(c,"error",i.message)}catch(i){u(!1),d(c,"error",JSON.stringify(i))}};return e.jsxDEV(X,{isOpen:x,onClose:n,leastDestructiveRef:r,isCentered:!0,children:e.jsxDEV(w,{children:e.jsxDEV(Y,{children:[e.jsxDEV(V,{fontSize:"lg",fontWeight:"semi-bold",children:e.jsxDEV(W,{children:[s("patientFiles.delete.title")," ( ",e.jsxDEV("b",{children:t==null?void 0:t.file_name},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Patients/DeletePatientFile.jsx",lineNumber:50,columnNumber:50},this)," )"]},void 0,!0,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Patients/DeletePatientFile.jsx",lineNumber:49,columnNumber:13},this)},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Patients/DeletePatientFile.jsx",lineNumber:48,columnNumber:11},this),e.jsxDEV(v,{children:s("patientFiles.delete.body")},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Patients/DeletePatientFile.jsx",lineNumber:54,columnNumber:11},this),e.jsxDEV(S,{children:[e.jsxDEV(b,{ref:r,onClick:n,colorScheme:"gray",size:"sm",children:s("patientFiles.delete.buttons.cancel")},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Patients/DeletePatientFile.jsx",lineNumber:60,columnNumber:13},this),e.jsxDEV(b,{colorScheme:"red",onClick:P,ml:3,size:"sm",isLoading:m,children:s("patientFiles.delete.buttons.delete")},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Patients/DeletePatientFile.jsx",lineNumber:64,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Patients/DeletePatientFile.jsx",lineNumber:58,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Patients/DeletePatientFile.jsx",lineNumber:47,columnNumber:9},this)},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Patients/DeletePatientFile.jsx",lineNumber:46,columnNumber:7},this)},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Patients/DeletePatientFile.jsx",lineNumber:45,columnNumber:5},this)}export{ne as D,ae as U};
