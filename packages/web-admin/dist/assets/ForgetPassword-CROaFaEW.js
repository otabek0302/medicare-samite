import{f as h,g as N,h as x,j as i,c as w,a as j,l as f,I as E,v as e,z as F,y as u,U as v}from"./index-DPnYdkUz.js";import{u as C,h as y,f as P,M as k,b as D,a as M,c as S,g as V,d as I,F as _,e as A}from"./index.esm-7HBFntiH.js";import{u as z}from"./useMutation-VqWrDSyY.js";import{e as b,d as Z,I as R}from"./utils-CbOPTj9R.js";const[B,T]=w({name:"FormErrorStylesContext",errorMessage:`useFormErrorStyles returned is 'undefined'. Seems you forgot to wrap the components in "<FormError />" `}),g=h((a,s)=>{const o=N("FormError",a),n=x(a),r=b();return r!=null&&r.isInvalid?i.jsx(B,{value:o,children:i.jsx(j.div,{...r==null?void 0:r.getErrorMessageProps(n,s),className:f("chakra-form__error-message",a.className),__css:{display:"flex",alignItems:"center",...o.text}})}):null});g.displayName="FormErrorMessage";const q=h((a,s)=>{const o=T(),n=b();if(!(n!=null&&n.isInvalid))return null;const r=f("chakra-form__error-icon",a.className);return i.jsx(E,{ref:s,"aria-hidden":!0,...a,__css:o.icon,className:r,children:i.jsx("path",{fill:"currentColor",d:"M11.983,0a12.206,12.206,0,0,0-8.51,3.653A11.8,11.8,0,0,0,0,12.207,11.779,11.779,0,0,0,11.8,24h.214A12.111,12.111,0,0,0,24,11.791h0A11.766,11.766,0,0,0,11.983,0ZM10.5,16.542a1.476,1.476,0,0,1,1.449-1.53h.027a1.527,1.527,0,0,1,1.523,1.47,1.475,1.475,0,0,1-1.449,1.53h-.027A1.529,1.529,0,0,1,10.5,16.542ZM11,12.5v-6a1,1,0,0,1,2,0v6a1,1,0,1,1-2,0Z"})})});q.displayName="FormErrorIcon";const L=async a=>{const s=await v("","forget_password",a);if(s.response!==200)throw new Error(s.message);return s},$=({isOpen:a,onClose:s})=>{var l;const o=C(),{register:n,handleSubmit:r,formState:{errors:t},reset:d}=y(),c=z({mutationFn:async m=>{await L(m)},onError:m=>{P(o,"error",m.message)},onSuccess:()=>{o({title:"Email Sent",description:"Your password has been sent to your email address. Please check your email.",status:"success",duration:3e3,isClosable:!0,position:"top"}),d(),s()}}),p=async m=>{c.mutate(m)};return e.jsxDEV(k,{isOpen:a,onClose:s,isCentered:!0,children:[e.jsxDEV(D,{},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Components/ForgetPassword.jsx",lineNumber:71,columnNumber:7},void 0),e.jsxDEV(M,{children:[e.jsxDEV(S,{children:"Forgot Password"},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Components/ForgetPassword.jsx",lineNumber:73,columnNumber:9},void 0),e.jsxDEV(V,{},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Components/ForgetPassword.jsx",lineNumber:74,columnNumber:9},void 0),e.jsxDEV(I,{children:e.jsxDEV("form",{onSubmit:r(p),children:[e.jsxDEV(Z,{isInvalid:t.email,children:[e.jsxDEV(_,{children:"Email your email address"},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Components/ForgetPassword.jsx",lineNumber:78,columnNumber:15},void 0),e.jsxDEV(R,{defaultValue:((l=F)==null?void 0:l.email)||"",type:"email",placeholder:"Enter your email",...n("email",{required:"Email is required",pattern:{value:/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/,message:"Invalid email address"}}),size:"sm",borderRadius:2},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Components/ForgetPassword.jsx",lineNumber:79,columnNumber:15},void 0),e.jsxDEV(g,{children:t.email&&t.email.message},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Components/ForgetPassword.jsx",lineNumber:93,columnNumber:15},void 0)]},void 0,!0,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Components/ForgetPassword.jsx",lineNumber:77,columnNumber:13},void 0),e.jsxDEV(A,{children:[e.jsxDEV(u,{colorScheme:"teal",type:"submit",isLoading:c.isPending,size:"sm",children:"Submit"},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Components/ForgetPassword.jsx",lineNumber:98,columnNumber:15},void 0),e.jsxDEV(u,{ml:3,onClick:()=>{d(),s()},size:"sm",children:"Cancel"},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Components/ForgetPassword.jsx",lineNumber:105,columnNumber:15},void 0)]},void 0,!0,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Components/ForgetPassword.jsx",lineNumber:97,columnNumber:13},void 0)]},void 0,!0,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Components/ForgetPassword.jsx",lineNumber:76,columnNumber:11},void 0)},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Components/ForgetPassword.jsx",lineNumber:75,columnNumber:9},void 0)]},void 0,!0,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Components/ForgetPassword.jsx",lineNumber:72,columnNumber:7},void 0)]},void 0,!0,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Components/ForgetPassword.jsx",lineNumber:67,columnNumber:5},void 0)};export{$ as F};
