import{r as C,v as e,B as N,K as pe,L as ue,N as R,z as S,G as v,M as T,w as K,x as se,_ as ne,T as Q,y as _,aE as $,J as h,aF as ze,U as We,H as ie}from"./index-BqRQ5zR-.js";import{d as Qe}from"./index-BmdWZ28f.js";import{u as Te,B as Le,i as Ke,j as ke}from"./HasPermission-BxGNMDGA.js";import{u as M}from"./SettingData-CxfeWvqW.js";import{u as O}from"./useMutation-9OMn6k9Q.js";import{g as He,h as Ge,i as Je}from"./index-CS1DgOx7.js";import{u as F,M as Ce,b as fe,a as Be,c as be,g as Re,d as xe,e as Ne,f as w,L as X,h as Xe,F as A}from"./index.esm-CDWxJwJY.js";import{S as o,D as ge,k as Ze,l as es,j as me,b as Ae,c as Ee,d as Y,e as Ve,f as q,A as Me,a as Oe}from"./Dashboard-DfQ9GR_Q.js";import{g as je}from"./CancellationReqBadge-B7S29pPS.js";import{T as Ue,p as ss}from"./printPDF-BaKTq-fa.js";import{u as De}from"./UseSearchFilter-HwQh-PCQ.js";import{F as x,I as V,d as E}from"./utils-BcOZwoxx.js";import{I as ee,u as te,A as ns}from"./index-CdSaDTFS.js";import{B as L}from"./visually-hidden.style-BiwU0iRL.js";import{S as as,a as is,b as ts}from"./swiper-react-C_zwIgSk.js";import{D as Z}from"./createLucideIcon-Ha6tAQX1.js";import{H as ms}from"./index-BAkshktL.js";import{d as Se}from"./index-BtYTPNwU.js";import{M as ce,a as oe,C as le,b as _e,c as we}from"./chevron-down-HmQIZ2wx.js";import{T as rs,a as ds,b as ye,c as J,d as cs,e as W}from"./tr-IqXuou1v.js";import{P as os}from"./PatientFiles-C1J6_L6U.js";import{C as re,a as de}from"./card-body-DyktQENp.js";import{S as ls}from"./select-BdYZ_n_k.js";import"./image-CynZshwF.js";import"./grid-DgSVtHSd.js";import"./DeletePatientFile-5C8qvgG4.js";import"./list-ALK3mONr.js";import"./split-CzYrjwZo.js";function ps({appointmentID:n}){const[s,i]=C.useState(),d=F(),r="Errortoast",u=async()=>{const g=await R(S.token,`get_invoice/appointment/${n}`),b=g.data;return g.data===null?[]:[{id:b.id,status:b.status,totalAmount:b.total_amount,applied_coupon:b.coupon_title||"N/A","coupon value (%)":b.coupon_value||"N/A",coupon_off_amount:b.coupon_off_amount||0,Date:v(b.invoice_date).format("D MMM YY"),patientID:e.jsxDEV(T,{to:`/patient/${b.patient_id}`,children:b.patient_id},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Invoices/InvoiceByAppointmentID.jsx",lineNumber:41,columnNumber:13},this),appointmentID:e.jsxDEV(T,{to:`/appointment/${b.appointment_id}`,children:b.appointment_id},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Invoices/InvoiceByAppointmentID.jsx",lineNumber:47,columnNumber:13},this),createdAt:v(b.created_at).format("D MMM YY hh:mmA"),paymentID:b.payment_id}]},l=g=>{i(g)},{isLoading:y,data:p,error:f}=M({queryKey:["invoice",n],queryFn:u}),{handleSearchChange:k,filteredData:D}=De(p);return f&&(d.isActive(r)||d({id:r,title:"oops!.",description:"Something bad happens.",status:"error",duration:2e3,isClosable:!0,position:"top"})),e.jsxDEV(N,{children:y||!p?e.jsxDEV(N,{children:[e.jsxDEV(x,{mb:5,justify:"space-between",children:[e.jsxDEV(o,{w:400,h:8},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Invoices/InvoiceByAppointmentID.jsx",lineNumber:91,columnNumber:13},this),e.jsxDEV(o,{w:50,h:8},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Invoices/InvoiceByAppointmentID.jsx",lineNumber:92,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Invoices/InvoiceByAppointmentID.jsx",lineNumber:90,columnNumber:11},this),e.jsxDEV(o,{h:300,w:"100%"},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Invoices/InvoiceByAppointmentID.jsx",lineNumber:94,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Invoices/InvoiceByAppointmentID.jsx",lineNumber:89,columnNumber:9},this):e.jsxDEV(N,{children:[e.jsxDEV(x,{mb:5,justify:"space-between",align:"center",children:e.jsxDEV(V,{size:"md",placeholder:"Search",w:400,maxW:"50vw",onChange:g=>k(g.target.value)},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Invoices/InvoiceByAppointmentID.jsx",lineNumber:99,columnNumber:13},this)},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Invoices/InvoiceByAppointmentID.jsx",lineNumber:98,columnNumber:11},this),e.jsxDEV(ge,{data:D,onActionClick:e.jsxDEV(us,{rowData:s,onClick:l},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Invoices/InvoiceByAppointmentID.jsx",lineNumber:104,columnNumber:15},this)},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Invoices/InvoiceByAppointmentID.jsx",lineNumber:102,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Invoices/InvoiceByAppointmentID.jsx",lineNumber:97,columnNumber:9},this)},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Invoices/InvoiceByAppointmentID.jsx",lineNumber:87,columnNumber:5},this)}const us=({onClick:n,rowData:s})=>{const i=d=>{const r=window.open(d,"_blank");r&&(r.focus(),r.onload=()=>{r.load(),r.onafterprint=()=>{r.close()}})};return e.jsxDEV(x,{justify:"center",children:e.jsxDEV(ee,{"aria-label":"Download Invoice",size:"sm",variant:"ghost",_hover:{background:"none"},onClick:()=>{n(s),i(`${ue}/invoice/generatePDF/${s.id}`)},icon:e.jsxDEV(Ue,{fontSize:18,color:pe.colors.blue[500]},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Invoices/InvoiceByAppointmentID.jsx",lineNumber:147,columnNumber:11},void 0)},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Invoices/InvoiceByAppointmentID.jsx",lineNumber:135,columnNumber:7},void 0)},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Invoices/InvoiceByAppointmentID.jsx",lineNumber:134,columnNumber:5},void 0)},fs=(n,s)=>{switch(n){case"Credited":return e.jsxDEV(L,{colorScheme:"green",fontSize:12,letterSpacing:.5,p:"5px",size:"sm",children:s("transactions.index.badge.credited")},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Transaction/TransactionByAppID.jsx",lineNumber:19,columnNumber:9},void 0);case"Debited":return e.jsxDEV(L,{colorScheme:"red",fontSize:12,letterSpacing:.5,p:"5px",children:s("transactions.index.badge.debited")},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Transaction/TransactionByAppID.jsx",lineNumber:30,columnNumber:9},void 0);default:return e.jsxDEV(L,{colorScheme:"yellow",fontSize:12,letterSpacing:.5,p:"5px",children:s("transactions.index.badge.na")},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Transaction/TransactionByAppID.jsx",lineNumber:41,columnNumber:9},void 0)}};function bs({appointmentID:n}){const[s,i]=C.useState(),{t:d}=K(),r=F(),u="Errortoast",l=async()=>{const b=await R(S.token,`get_all_transaction/appointment/${n}`);return b==null?void 0:b.data.map(I=>{const{id:c,user_id:P,patient_id:m,appointment_id:U,payment_transaction_id:a,amount:B,transaction_type:H,is_wallet_txn:G,notes:ae,created_at:j,patient_f_name:he,patient_l_name:Fe,user_f_name:Ye,user_l_name:qe}=I;return{id:c,patient:e.jsxDEV(T,{to:`/patient/${m}`,children:`${he} ${Fe}`},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Transaction/TransactionByAppID.jsx",lineNumber:84,columnNumber:11},this),user:P?e.jsxDEV(T,{to:`/user/${P}`,children:`${Ye} ${qe}`},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Transaction/TransactionByAppID.jsx",lineNumber:89,columnNumber:11},this):d("transactions.index.badge.na"),app_ID:e.jsxDEV(T,{to:`/appointment/${U}`,children:U},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Transaction/TransactionByAppID.jsx",lineNumber:94,columnNumber:11},this),txn_ID:a||d("transactions.index.badge.na"),amount:B,txn_type:fs(H,d),wallet_Txn:G==1?d("transactions.index.badge.yes"):d("transactions.index.badge.no"),notes:ae||d("transactions.index.badge.na"),createdAt:v(j).format("D MMM YY hh:mmA")}})},y=b=>{i(b)},{isLoading:p,data:f,error:k}=M({queryKey:["transaction",n],queryFn:l}),{handleSearchChange:D,filteredData:g}=De(f);return k&&(r.isActive(u)||r({id:u,title:d("transactions.index.messages.error.title"),description:d("transactions.index.messages.error.description"),status:"error",duration:2e3,isClosable:!0,position:"top"})),e.jsxDEV(N,{children:p||!f?e.jsxDEV(N,{children:[e.jsxDEV(x,{mb:5,justify:"space-between",children:[e.jsxDEV(o,{w:400,h:8},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Transaction/TransactionByAppID.jsx",lineNumber:139,columnNumber:13},this),e.jsxDEV(o,{w:50,h:8},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Transaction/TransactionByAppID.jsx",lineNumber:143,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Transaction/TransactionByAppID.jsx",lineNumber:136,columnNumber:11},this),e.jsxDEV(o,{h:300,w:"100%"},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Transaction/TransactionByAppID.jsx",lineNumber:148,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Transaction/TransactionByAppID.jsx",lineNumber:135,columnNumber:9},this):e.jsxDEV(N,{children:[e.jsxDEV(x,{mb:5,justify:"space-between",align:"center",children:e.jsxDEV(V,{size:"md",placeholder:"Search",w:400,maxW:"50vw",onChange:b=>D(b.target.value)},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Transaction/TransactionByAppID.jsx",lineNumber:159,columnNumber:13},this)},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Transaction/TransactionByAppID.jsx",lineNumber:155,columnNumber:11},this),e.jsxDEV(ge,{data:g,onActionClick:e.jsxDEV(xs,{rowData:s,onClick:y},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Transaction/TransactionByAppID.jsx",lineNumber:170,columnNumber:15},this)},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Transaction/TransactionByAppID.jsx",lineNumber:167,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Transaction/TransactionByAppID.jsx",lineNumber:154,columnNumber:9},this)},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Transaction/TransactionByAppID.jsx",lineNumber:133,columnNumber:5},this)}const xs=({onClick:n,rowData:s})=>e.jsxDEV(x,{justify:"center",children:e.jsxDEV(ee,{size:"sm",variant:"ghost",_hover:{background:"none"},onClick:()=>{n(s)},icon:e.jsxDEV(Ue,{fontSize:18,color:pe.colors.blue[500]},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Transaction/TransactionByAppID.jsx",lineNumber:195,columnNumber:11},void 0)},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Transaction/TransactionByAppID.jsx",lineNumber:185,columnNumber:7},void 0)},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Transaction/TransactionByAppID.jsx",lineNumber:184,columnNumber:5},void 0);function Ns({appointmentID:n}){const[s,i]=C.useState(),d=async()=>{const f=await R(S.token,`get_appointment_payment/appintment/${n}`);return f.data===null?[]:(D=>{const{id:g,txn_id:b,invoice_id:z,amount:I,payment_time_stamp:c,payment_method:P,created_at:m,user_id:U,patient_id:a,appointment_id:B,patient_f_name:H,patient_l_name:G,user_f_name:ae,user_l_name:j}=D;return[{id:g,"txn ID":b,invoiceID:z,patient:e.jsxDEV(T,{to:`/patient/${a}`,children:`${H} ${G}`},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Payments/PaymentsByAppID.jsx",lineNumber:56,columnNumber:15},this),user:e.jsxDEV(T,{to:`/user/${U}`,children:`${ae} ${j}`},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Payments/PaymentsByAppID.jsx",lineNumber:61,columnNumber:15},this),"APP ID":e.jsxDEV(T,{to:`/appointment/${B}`,children:B},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Payments/PaymentsByAppID.jsx",lineNumber:65,columnNumber:15},this),amount:I,"payment Method":P,"Time stamp":v(c).format("D MMM YY hh.mmA"),"created At":v(m).format("D MMM YY hh:mmA")}]})(f.data)},r=f=>{i(f)},{isLoading:u,data:l}=M({queryKey:["payment",n],queryFn:d}),{handleSearchChange:y,filteredData:p}=De(l);return e.jsxDEV(N,{children:u||!l?e.jsxDEV(N,{children:[e.jsxDEV(x,{mb:5,justify:"space-between",children:[e.jsxDEV(o,{w:400,h:8},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Payments/PaymentsByAppID.jsx",lineNumber:100,columnNumber:13},this),e.jsxDEV(o,{w:50,h:8},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Payments/PaymentsByAppID.jsx",lineNumber:104,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Payments/PaymentsByAppID.jsx",lineNumber:97,columnNumber:11},this),e.jsxDEV(o,{h:300,w:"100%"},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Payments/PaymentsByAppID.jsx",lineNumber:109,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Payments/PaymentsByAppID.jsx",lineNumber:96,columnNumber:9},this):e.jsxDEV(N,{children:[e.jsxDEV(x,{mb:5,justify:"space-between",align:"center",children:e.jsxDEV(V,{size:"md",placeholder:"Search",w:400,maxW:"50vw",onChange:f=>y(f.target.value)},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Payments/PaymentsByAppID.jsx",lineNumber:120,columnNumber:13},this)},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Payments/PaymentsByAppID.jsx",lineNumber:116,columnNumber:11},this),e.jsxDEV(ge,{data:p,onActionClick:e.jsxDEV(gs,{rowData:s,onClick:r},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Payments/PaymentsByAppID.jsx",lineNumber:131,columnNumber:15},this)},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Payments/PaymentsByAppID.jsx",lineNumber:128,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Payments/PaymentsByAppID.jsx",lineNumber:115,columnNumber:9},this)},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Payments/PaymentsByAppID.jsx",lineNumber:94,columnNumber:5},this)}const gs=({onClick:n,rowData:s})=>e.jsxDEV(x,{justify:"center",children:e.jsxDEV(ee,{size:"sm",variant:"ghost",_hover:{background:"none"},onClick:()=>{n(s),ss(`${ue}/invoice/generatePDF/${s.invoiceID}`)},icon:e.jsxDEV(Ue,{fontSize:18,color:pe.colors.blue[500]},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Payments/PaymentsByAppID.jsx",lineNumber:157,columnNumber:11},void 0)},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Payments/PaymentsByAppID.jsx",lineNumber:146,columnNumber:7},void 0)},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Payments/PaymentsByAppID.jsx",lineNumber:145,columnNumber:5},void 0),Ds=()=>{const n=[];for(let s=0;s<15;s++){const i=v().add(s,"days").format("YYYY-MM-DD");n.push(i)}return n},Pe=n=>{const s=v(n,"YYYY-MM-DD");return{month:s.format("MMM"),date:s.format("DD"),year:s.format("ddd")}},hs=n=>v(n,"YYYYMMDD").format("dddd"),ks={spaceBetween:20,centeredSlides:!1,loop:!1,slidesPerView:7.5,breakpoints:{1024:{spaceBetween:5,slidesPerView:7.5},768:{spaceBetween:5,slidesPerView:6.5},640:{spaceBetween:5,slidesPerView:5.5},320:{spaceBetween:5,slidesPerView:5.5}}},js=async n=>{const s=await $(S.token,"appointment_rescheduled",n);if(s.response!==200)throw new Error(s.message);return s};function ys({data:n,isOpen:s,onClose:i}){const{t:d}=K(),[r,u]=C.useState(),[l,y]=C.useState(),p=se(),f=F(),k=async()=>(await R(S.token,`get_doctor_time_interval/${n.doct_id}/${hs(r)}`)).data,{isLoading:D,data:g}=M({queryKey:["timeslotes",r,n.doct_id],queryFn:k,enabled:!!r}),b=async()=>(await R(S.token,`get_booked_time_slots?doct_id=${n.doct_id}&date=${v(r).format("YYYY-MM-DD")}&type=OPD`)).data,{isLoading:z,data:I}=M({queryKey:["bookedslotes",r,n.doct_id],queryFn:b,enabled:!!r,staleTime:0,cacheTime:0,refetchOnWindowFocus:!0,refetchOnReconnect:!0}),c=m=>{let U=!0;return I==null||I.forEach(a=>{a.time_slots===m.time_start&&a.date===r&&(U=!1)}),U},P=O({mutationFn:async()=>{let m={id:n.id,date:r,time_slots:l.time_start};await js(m)},onSuccess:()=>{u(),y(),w(f,"success","Success"),p.invalidateQueries({queryKey:["appointments"]}),p.invalidateQueries({queryKey:["appointment",n.id]}),p.invalidateQueries({queryKey:["bookedslotes",r,n.doct_id]}),p.invalidateQueries({queryKey:["timeslotes",r,n.doct_id]}),i()},onError:m=>{w(f,"error",m.message)}});return D||z||P.isPending?e.jsxDEV(ne,{},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Appointments/RescheduleAppointment.jsx",lineNumber:158,columnNumber:12},this):e.jsxDEV(Ce,{isOpen:s,onClose:i,isCentered:!0,size:"xl",children:[e.jsxDEV(fe,{},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Appointments/RescheduleAppointment.jsx",lineNumber:166,columnNumber:7},this),e.jsxDEV(Be,{children:[e.jsxDEV(be,{fontSize:"md",py:3,children:d("appointments.reschedule.title")},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Appointments/RescheduleAppointment.jsx",lineNumber:168,columnNumber:9},this),e.jsxDEV(Re,{top:2},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Appointments/RescheduleAppointment.jsx",lineNumber:173,columnNumber:9},this),e.jsxDEV(Z,{mt:0},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Appointments/RescheduleAppointment.jsx",lineNumber:174,columnNumber:9},this),e.jsxDEV(xe,{children:[e.jsxDEV(N,{maxW:"100%",overflow:"hidden",children:[" ",e.jsxDEV(as,{...ks,style:{cursor:"grab",overflow:"hidden",maxWidth:"100%"},children:Ds().map((m,U)=>e.jsxDEV(is,{children:e.jsxDEV(N,{onClick:()=>{u(v(m).format("YYYY-MM-DD"))},children:e.jsxDEV(N,{bg:r===v(m).format("YYYY-MM-DD")?"green.500":"blue.500",mr:3,borderRadius:5,color:"#fff",p:1,cursor:"pointer",children:[e.jsxDEV(Q,{fontSize:"xs",fontWeight:"bold",color:"gray.100",textAlign:"center",m:0,children:Pe(m).month},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Appointments/RescheduleAppointment.jsx",lineNumber:202,columnNumber:23},this),e.jsxDEV(Q,{fontSize:"sm",fontWeight:"700",color:"gray.100",textAlign:"center",m:0,children:Pe(m).date},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Appointments/RescheduleAppointment.jsx",lineNumber:210,columnNumber:23},this),e.jsxDEV(Q,{fontSize:"xs",fontWeight:"bold",color:"gray.100",textAlign:"center",m:0,children:Pe(m).year},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Appointments/RescheduleAppointment.jsx",lineNumber:218,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Appointments/RescheduleAppointment.jsx",lineNumber:191,columnNumber:21},this)},U,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Appointments/RescheduleAppointment.jsx",lineNumber:185,columnNumber:19},this)},U,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Appointments/RescheduleAppointment.jsx",lineNumber:184,columnNumber:17},this))},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Appointments/RescheduleAppointment.jsx",lineNumber:180,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Appointments/RescheduleAppointment.jsx",lineNumber:176,columnNumber:11},this),e.jsxDEV(N,{children:r?e.jsxDEV(N,{mt:5,border:"1px solid",borderColor:"gray.200",p:2,borderRadius:4,children:[e.jsxDEV(Q,{textAlign:"left",fontWeight:600,fontSize:16,mb:1,children:d("appointments.timeSlots.available")},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Appointments/RescheduleAppointment.jsx",lineNumber:240,columnNumber:17},this),g!=null&&g.length?e.jsxDEV(N,{mt:2,children:e.jsxDEV(ts,{columns:[3,4,5],spacing:2,children:g==null?void 0:g.map((m,U)=>e.jsxDEV(_,{size:"sm",fontSize:"xs",fontWeight:600,colorScheme:c(m)?m===l?"blue":"green":"red",variant:"solid",onClick:()=>{c(m)&&y(m)},isDisabled:!c(m),_disabled:{backgroundColor:"red.500"},children:[m.time_start," - ",m.time_end]},U,!0,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Appointments/RescheduleAppointment.jsx",lineNumber:255,columnNumber:25},this))},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Appointments/RescheduleAppointment.jsx",lineNumber:250,columnNumber:21},this)},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Appointments/RescheduleAppointment.jsx",lineNumber:249,columnNumber:19},this):e.jsxDEV(Q,{color:"red.400",fontWeight:700,fontSize:"sm",children:d("appointments.timeSlots.noAvailable")},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Appointments/RescheduleAppointment.jsx",lineNumber:284,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Appointments/RescheduleAppointment.jsx",lineNumber:234,columnNumber:15},this):""},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Appointments/RescheduleAppointment.jsx",lineNumber:232,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Appointments/RescheduleAppointment.jsx",lineNumber:175,columnNumber:9},this),e.jsxDEV(Ne,{children:[e.jsxDEV(_,{colorScheme:"gray",mr:3,onClick:i,size:"sm",children:d("appointments.buttons.close")},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Appointments/RescheduleAppointment.jsx",lineNumber:299,columnNumber:11},this),e.jsxDEV(_,{colorScheme:"blue",size:"sm",onClick:()=>{P.mutate()},children:d("appointments.reschedule.button")},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Appointments/RescheduleAppointment.jsx",lineNumber:306,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Appointments/RescheduleAppointment.jsx",lineNumber:298,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Appointments/RescheduleAppointment.jsx",lineNumber:167,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Appointments/RescheduleAppointment.jsx",lineNumber:161,columnNumber:5},this)}const Ps=[{id:1,name:"Cash",icon:e.jsxDEV(He,{},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Appointments/PaymentStatusPaid.jsx",lineNumber:22,columnNumber:11},void 0)},{id:2,name:"Online",icon:e.jsxDEV(Se,{},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Appointments/PaymentStatusPaid.jsx",lineNumber:27,columnNumber:11},void 0)},{id:3,name:"Other",icon:e.jsxDEV(Se,{},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Appointments/PaymentStatusPaid.jsx",lineNumber:32,columnNumber:11},void 0)},{id:4,name:"Wallet",icon:e.jsxDEV(Ge,{},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Appointments/PaymentStatusPaid.jsx",lineNumber:37,columnNumber:11},void 0)},{id:5,name:"UPI",icon:e.jsxDEV(ms,{},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Appointments/PaymentStatusPaid.jsx",lineNumber:42,columnNumber:11},void 0)}],Us=async n=>{const s=await $(S.token,"update_appointment_to_paid",n);if(s.response!==200)throw new Error(s.message);return s};function _s({id:n,isOpen:s,onClose:i}){const[d,r]=C.useState(),u=F(),l=se(),y=O({mutationFn:async()=>{let f={appointment_id:n,payment_method:d.name};d?Us(f):w(u,"error","Please Select Payment Mode")},onSuccess:()=>{w(u,"success","Success"),l.invalidateQueries({queryKey:["appointments"]}),l.invalidateQueries({queryKey:["appointment",n]}),l.invalidateQueries({queryKey:["payment",n]}),l.invalidateQueries({queryKey:["transaction",n]}),l.invalidateQueries({queryKey:["invoice",n]}),i()}}),{t:p}=K();return y.isPending?e.jsxDEV(ne,{},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Appointments/PaymentStatusPaid.jsx",lineNumber:89,columnNumber:34},this):e.jsxDEV(Ce,{isOpen:s,onClose:i,isCentered:!0,size:"sm",children:[e.jsxDEV(fe,{},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Appointments/PaymentStatusPaid.jsx",lineNumber:96,columnNumber:7},this),e.jsxDEV(Be,{children:[e.jsxDEV(be,{fontSize:"md",py:3,children:p("payments.modal.amountPaid")},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Appointments/PaymentStatusPaid.jsx",lineNumber:98,columnNumber:9},this),e.jsxDEV(Re,{top:2},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Appointments/PaymentStatusPaid.jsx",lineNumber:103,columnNumber:9},this),e.jsxDEV(Z,{mt:0},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Appointments/PaymentStatusPaid.jsx",lineNumber:104,columnNumber:9},this),e.jsxDEV(xe,{children:e.jsxDEV(ce,{children:[e.jsxDEV(oe,{as:_,rightIcon:e.jsxDEV(le,{},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Appointments/PaymentStatusPaid.jsx",lineNumber:109,columnNumber:26},this),w:"full",bg:"transparent",textAlign:"center",pl:0,pt:0,h:8,_hover:{bg:"transparent"},_focus:{bg:"transparent"},borderBottom:"1px solid",borderBottomRadius:0,borderColor:h("gray.200","gray.600"),children:d?e.jsxDEV(x,{gap:3,align:"center",children:[d.icon," ",p(`payments.methods.${d.name.toLowerCase()}`)]},void 0,!0,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Appointments/PaymentStatusPaid.jsx",lineNumber:126,columnNumber:17},this):p("payments.modal.selectMode")},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Appointments/PaymentStatusPaid.jsx",lineNumber:107,columnNumber:13},this),e.jsxDEV(_e,{children:Ps.map(f=>e.jsxDEV(we,{onClick:()=>{r(f)},children:e.jsxDEV(x,{gap:3,align:"center",children:[" ",f.icon," ",p(`payments.methods.${f.name.toLowerCase()}`)]},void 0,!0,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Appointments/PaymentStatusPaid.jsx",lineNumber:144,columnNumber:19},this)},f.id,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Appointments/PaymentStatusPaid.jsx",lineNumber:138,columnNumber:17},this))},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Appointments/PaymentStatusPaid.jsx",lineNumber:136,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Appointments/PaymentStatusPaid.jsx",lineNumber:106,columnNumber:11},this)},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Appointments/PaymentStatusPaid.jsx",lineNumber:105,columnNumber:9},this),e.jsxDEV(Ne,{children:[e.jsxDEV(_,{colorScheme:"gray",mr:3,onClick:i,size:"sm",children:p("payments.modal.close")},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Appointments/PaymentStatusPaid.jsx",lineNumber:157,columnNumber:11},this),e.jsxDEV(_,{colorScheme:"blue",size:"sm",onClick:()=>{y.mutate()},children:p("payments.modal.setToPaid")},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Appointments/PaymentStatusPaid.jsx",lineNumber:164,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Appointments/PaymentStatusPaid.jsx",lineNumber:156,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Appointments/PaymentStatusPaid.jsx",lineNumber:97,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Appointments/PaymentStatusPaid.jsx",lineNumber:91,columnNumber:5},this)}function ws({appointmentID:n,appointmntData:s}){const{t:i}=K(),{hasPermission:d}=Te(),[r,u]=C.useState(),{isOpen:l,onOpen:y,onClose:p}=te(),f=async()=>(await R(S.token,`get_prescription/appointment/${n}`)).data,{isLoading:k,data:D,error:g}=M({queryKey:["prescriptions",n],queryFn:f}),{handleSearchChange:b,filteredData:z}=De(D);if(g)return e.jsxDEV(Q,{color:"red.500",children:i("prescriptions.prescription.messages.error")},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Prescriptions/Prescription.jsx",lineNumber:42,columnNumber:12},this);const I=c=>{const P=window.open(c,"_blank");P&&(P.focus(),P.onload=()=>{P.load(),P.onafterprint=()=>{P.close()}})};return e.jsxDEV(N,{children:[k?e.jsxDEV(N,{children:[e.jsxDEV(x,{mb:5,justify:"space-between",children:[e.jsxDEV(o,{w:400,h:8},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Prescriptions/Prescription.jsx",lineNumber:66,columnNumber:13},this),e.jsxDEV(o,{w:200,h:8},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Prescriptions/Prescription.jsx",lineNumber:70,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Prescriptions/Prescription.jsx",lineNumber:63,columnNumber:11},this),e.jsxDEV(o,{h:10,w:"100%",mt:2},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Prescriptions/Prescription.jsx",lineNumber:75,columnNumber:11},this),e.jsxDEV(o,{h:10,w:"100%",mt:2},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Prescriptions/Prescription.jsx",lineNumber:80,columnNumber:11},this),e.jsxDEV(o,{h:10,w:"100%",mt:2},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Prescriptions/Prescription.jsx",lineNumber:85,columnNumber:11},this),e.jsxDEV(o,{h:10,w:"100%",mt:2},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Prescriptions/Prescription.jsx",lineNumber:90,columnNumber:11},this),e.jsxDEV(o,{h:10,w:"100%",mt:2},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Prescriptions/Prescription.jsx",lineNumber:95,columnNumber:11},this),e.jsxDEV(o,{h:10,w:"100%",mt:2},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Prescriptions/Prescription.jsx",lineNumber:100,columnNumber:11},this),e.jsxDEV(o,{h:10,w:"100%",mt:2},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Prescriptions/Prescription.jsx",lineNumber:105,columnNumber:11},this),e.jsxDEV(o,{h:10,w:"100%",mt:2},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Prescriptions/Prescription.jsx",lineNumber:110,columnNumber:11},this),e.jsxDEV(o,{h:10,w:"100%",mt:2},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Prescriptions/Prescription.jsx",lineNumber:115,columnNumber:11},this),e.jsxDEV(o,{h:10,w:"100%",mt:2},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Prescriptions/Prescription.jsx",lineNumber:120,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Prescriptions/Prescription.jsx",lineNumber:62,columnNumber:9},this):e.jsxDEV(N,{p:5,children:[e.jsxDEV(x,{mb:4,alignItems:"center",justify:"space-between",children:[e.jsxDEV(V,{placeholder:i("prescriptions.prescription.search"),width:"300px",mr:2,icon:e.jsxDEV(Ze,{},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Prescriptions/Prescription.jsx",lineNumber:133,columnNumber:21},this),onChange:c=>b(c.target.value),size:"sm"},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Prescriptions/Prescription.jsx",lineNumber:129,columnNumber:13},this),d("PRESCRIPTION_ADD")&&e.jsxDEV(_,{colorScheme:"blue",size:"sm",as:T,to:`/add-prescription/?appointmentID=${n}&patientID=${s==null?void 0:s.patient_id}`,children:i("prescriptions.prescription.buttons.newPrescription")},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Prescriptions/Prescription.jsx",lineNumber:139,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Prescriptions/Prescription.jsx",lineNumber:128,columnNumber:11},this),e.jsxDEV(N,{borderWidth:"1px",borderRadius:"lg",overflow:"scroll",maxW:"100%",children:e.jsxDEV(rs,{variant:"simple",children:[e.jsxDEV(ds,{children:e.jsxDEV(ye,{children:[e.jsxDEV(J,{children:i("prescriptions.prescription.table.patient")},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Prescriptions/Prescription.jsx",lineNumber:152,columnNumber:19},this),e.jsxDEV(J,{children:i("prescriptions.prescription.table.doctor")},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Prescriptions/Prescription.jsx",lineNumber:153,columnNumber:19},this),e.jsxDEV(J,{children:i("prescriptions.prescription.table.date")},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Prescriptions/Prescription.jsx",lineNumber:154,columnNumber:19},this),e.jsxDEV(J,{children:i("prescriptions.prescription.table.pulseRate")},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Prescriptions/Prescription.jsx",lineNumber:155,columnNumber:19},this),e.jsxDEV(J,{children:i("prescriptions.prescription.table.temperature")},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Prescriptions/Prescription.jsx",lineNumber:156,columnNumber:19},this),e.jsxDEV(J,{children:i("prescriptions.prescription.table.action")},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Prescriptions/Prescription.jsx",lineNumber:157,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Prescriptions/Prescription.jsx",lineNumber:151,columnNumber:17},this)},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Prescriptions/Prescription.jsx",lineNumber:150,columnNumber:15},this),e.jsxDEV(cs,{children:D.length>0?z.map(c=>e.jsxDEV(ye,{children:[e.jsxDEV(W,{children:`${c.patient_f_name} ${c.patient_l_name}`},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Prescriptions/Prescription.jsx",lineNumber:164,columnNumber:23},this),e.jsxDEV(W,{children:`${s.doct_f_name} ${s.doct_l_name}`},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Prescriptions/Prescription.jsx",lineNumber:165,columnNumber:23},this),e.jsxDEV(W,{children:c.date},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Prescriptions/Prescription.jsx",lineNumber:166,columnNumber:23},this),e.jsxDEV(W,{children:c.pulse_rate},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Prescriptions/Prescription.jsx",lineNumber:167,columnNumber:23},this),e.jsxDEV(W,{children:c.temperature},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Prescriptions/Prescription.jsx",lineNumber:168,columnNumber:23},this),e.jsxDEV(W,{children:e.jsxDEV(x,{alignItems:"center",children:[" ",e.jsxDEV(ee,{as:X,"aria-label":"Filter",icon:e.jsxDEV(Le,{fontSize:22},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Prescriptions/Prescription.jsx",lineNumber:176,columnNumber:35},this),colorScheme:"whatsapp",size:"sm",variant:"ghost",target:"_blank",rel:"noopener noreferrer",onClick:()=>{I(`${ue}/prescription/generatePDF/${c.id}`)}},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Prescriptions/Prescription.jsx",lineNumber:173,columnNumber:27},this),d("PRESCRIPTION_UPDATE")&&e.jsxDEV(ee,{as:T,"aria-label":"Filter",icon:e.jsxDEV(ns,{fontSize:24},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Prescriptions/Prescription.jsx",lineNumber:192,columnNumber:37},this),colorScheme:"blue",size:"sm",variant:"ghost",to:`/prescription/${c==null?void 0:c.id}/?appointmentID=${c==null?void 0:c.appointment_id}&patientID=${c==null?void 0:c.patient_id}`},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Prescriptions/Prescription.jsx",lineNumber:189,columnNumber:29},this),e.jsxDEV(ee,{"aria-label":"Filter",icon:e.jsxDEV(Ke,{fontSize:20},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Prescriptions/Prescription.jsx",lineNumber:201,columnNumber:35},this),colorScheme:"red",size:"sm",variant:"ghost",onClick:()=>{y(),u(c)}},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Prescriptions/Prescription.jsx",lineNumber:199,columnNumber:27},this)," "]},void 0,!0,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Prescriptions/Prescription.jsx",lineNumber:171,columnNumber:25},this)},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Prescriptions/Prescription.jsx",lineNumber:170,columnNumber:23},this)]},c.id,!0,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Prescriptions/Prescription.jsx",lineNumber:163,columnNumber:21},this)):e.jsxDEV(ye,{children:e.jsxDEV(W,{colSpan:7,children:e.jsxDEV(Q,{align:"center",children:i("prescriptions.prescription.messages.noData")},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Prescriptions/Prescription.jsx",lineNumber:217,columnNumber:23},this)},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Prescriptions/Prescription.jsx",lineNumber:216,columnNumber:21},this)},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Prescriptions/Prescription.jsx",lineNumber:215,columnNumber:19},this)},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Prescriptions/Prescription.jsx",lineNumber:160,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Prescriptions/Prescription.jsx",lineNumber:149,columnNumber:13},this)},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Prescriptions/Prescription.jsx",lineNumber:144,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Prescriptions/Prescription.jsx",lineNumber:127,columnNumber:9},this),l&&e.jsxDEV(es,{isOpen:l,onClose:p,data:r},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Prescriptions/Prescription.jsx",lineNumber:228,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Prescriptions/Prescription.jsx",lineNumber:60,columnNumber:5},this)}let Ie=["Pending","Confirmed","Rejected","Visited"],As=["Pending","Confirmed","Rejected","Completed"];const Es=n=>n==="OPD"?Ie:n==="Video Consultant"?As:Ie,Vs=n=>{switch(n){case"Emergency":return e.jsxDEV(L,{colorScheme:"red",p:"5px",px:10,children:n},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:49,columnNumber:9},void 0);case"OPD":return e.jsxDEV(L,{colorScheme:"green",p:"5px",px:10,children:n},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:58,columnNumber:9},void 0);default:return e.jsxDEV(L,{colorScheme:"green",p:"5px",px:10,children:n},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:67,columnNumber:9},void 0)}},Ss=async n=>{const s=await $(S.token,"update_appointment",n);if(s.response!==200)throw new Error(s.message);return s},$e=async n=>{const s=await $(S.token,"update_appointment_status",n);if(s.response!==200)throw new Error(s.message);return s},Is=async n=>{const s=await $(S.token,"appointment_reject_and_refund",n);if(s.response!==200)throw new Error(s.message);return s},vs=async n=>{const s=await $(S.token,"appointment_cancellation_and_refund",n);if(s.response!==200)throw new Error(s.message);return s};function pn(){const{register:n,handleSubmit:s}=Xe(),{id:i}=ze(),d=F(),r=We(),u=se(),[l,y]=C.useState(null),{isOpen:p,onOpen:f,onClose:k}=te(),{hasPermission:D}=Te(),{isOpen:g,onOpen:b,onClose:z}=te(),{isOpen:I,onOpen:c,onClose:P}=te(),{t:m}=K(),U=async()=>{const j=await R(S.token,`get_appointment/${i}`);return y(j.data.status),j.data},{data:a,isLoading:B}=M({queryKey:["appointment",i],queryFn:U}),H=O({mutationFn:async j=>{await Ss(j)},onSuccess:()=>{u.invalidateQueries("appointments"),u.invalidateQueries("main-appointments"),u.invalidateQueries(["appointment",i])},onError:j=>{w(d,"error",j.message)}}),G=O({mutationFn:async j=>{await $e(j)},onSuccess:()=>{u.invalidateQueries("appointments"),u.invalidateQueries("main-appointments"),u.invalidateQueries(["appointment",i])},onError:j=>{w(d,"error",j.message)}}),ae=j=>{H.mutate({...j,status:l})};return B||H.isPending||G.isPending?e.jsxDEV(ne,{},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:188,columnNumber:12},this):e.jsxDEV(N,{children:[" ",e.jsxDEV(x,{justify:"space-between",alignItems:"center",children:[e.jsxDEV(x,{justify:"space-between",alignItems:"center",gap:5,children:[e.jsxDEV(ie,{as:"h1",size:"md",children:[m("appointments.update.details")," #",i]},void 0,!0,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:200,columnNumber:11},this),me(a==null?void 0:a.status),e.jsxDEV(L,{colorScheme:"gray",p:"5px",px:5,children:[m("appointments.update.source")," - ",a.source]},void 0,!0,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:206,columnNumber:11},this),a.type==="Video Consultant"?a.meeting_link&&e.jsxDEV(_,{rightIcon:e.jsxDEV(Qe,{},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:215,columnNumber:30},this),size:"sm",variant:"outline",cursor:"pointer",as:X,href:a.meeting_link,isExternal:!0,color:"teal",children:m("appointments.update.buttons.joinMeeting")},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:214,columnNumber:17},this):null,e.jsxDEV(_,{rightIcon:e.jsxDEV(Je,{},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:228,columnNumber:24},this),size:"sm",variant:"link",cursor:"pointer",as:X,href:`${ue}/consultation_report/${i}`,isExternal:!0,children:m("appointments.update.buttons.printReport")},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:227,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:196,columnNumber:9},this),e.jsxDEV(_,{w:120,size:"sm",variant:h("blackButton","gray"),onClick:()=>{r(-1)},children:m("common.back")},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:239,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:193,columnNumber:7},this),e.jsxDEV(Ae,{colorScheme:"blue",mt:3,children:[e.jsxDEV(Ee,{children:[e.jsxDEV(Y,{children:"Overview"},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:253,columnNumber:11},this),D("PRESCRIPTION_VIEW")&&e.jsxDEV(Y,{children:"Prescriptions"},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:254,columnNumber:50},this),D("APPOINTMENT_INVOICE_VIEW")&&e.jsxDEV(Y,{children:"Invoice"},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:255,columnNumber:57},this),D("ALL_TRANSACTION_VIEW")&&e.jsxDEV(Y,{children:"Transaction"},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:256,columnNumber:53},this),D("APPOINTMENT_PAYMENTS_VIEW")&&e.jsxDEV(Y,{children:"Payments"},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:257,columnNumber:58},this),D("FILE_VIEW")&&e.jsxDEV(Y,{children:"Patient Files"},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:258,columnNumber:42},this)]},void 0,!0,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:252,columnNumber:9},this),e.jsxDEV(Ve,{children:[e.jsxDEV(q,{children:e.jsxDEV(N,{children:[e.jsxDEV("form",{onSubmit:s(ae),children:[e.jsxDEV(x,{gap:8,children:[e.jsxDEV(N,{w:"55%",children:[" ",e.jsxDEV(re,{mt:5,bg:h("white","gray.700"),children:e.jsxDEV(de,{p:3,as:"form",children:[" ",e.jsxDEV(x,{align:"center",gap:5,children:[" ",e.jsxDEV(ie,{as:"h3",size:"sm",children:m("appointments.update.patientDetails")},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:279,columnNumber:27},this),e.jsxDEV(X,{to:`/patient/${a.patient_id}`,as:T,children:e.jsxDEV(ke,{fontSize:20},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:287,columnNumber:29},this)},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:284,columnNumber:27},this)]},void 0,!0,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:275,columnNumber:25},this),e.jsxDEV(Z,{mt:2,mb:5},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:290,columnNumber:25},this),e.jsxDEV(x,{gap:5,children:[e.jsxDEV(E,{children:[e.jsxDEV(A,{fontSize:"sm",mb:0,color:h("gray.600","gray.300"),children:m("appointments.update.labels.patientFirstName")},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:296,columnNumber:29},this),e.jsxDEV(V,{size:"sm",isReadOnly:!0,fontWeight:600,variant:"flushed",defaultValue:a.patient_f_name},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:302,columnNumber:29},this)]},void 0,!0,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:295,columnNumber:27},this),e.jsxDEV(E,{children:[e.jsxDEV(A,{fontSize:"sm",mb:0,color:h("gray.600","gray.300"),children:m("appointments.update.labels.patientLastName")},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:312,columnNumber:29},this),e.jsxDEV(V,{size:"sm",isReadOnly:!0,fontWeight:600,variant:"flushed",defaultValue:a.patient_l_name},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:318,columnNumber:29},this)]},void 0,!0,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:311,columnNumber:27},this)]},void 0,!0,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:294,columnNumber:25},this),e.jsxDEV(x,{gap:5,mt:2,children:[e.jsxDEV(E,{id:"doct_specialization",size:"sm",children:[e.jsxDEV(A,{fontSize:"sm",mb:0,color:h("gray.600","gray.300"),children:m("appointments.update.labels.phone")},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:333,columnNumber:29},this),e.jsxDEV(V,{size:"sm",isReadOnly:!0,fontWeight:600,variant:"flushed",defaultValue:a.patient_phone},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:339,columnNumber:29},this)]},void 0,!0,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:330,columnNumber:27},this),e.jsxDEV(E,{id:"dept_title",size:"sm",children:[e.jsxDEV(A,{fontSize:"sm",mb:0,color:h("gray.600","gray.300"),children:m("appointments.update.labels.gender")},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:351,columnNumber:29},this),e.jsxDEV(V,{size:"sm",isReadOnly:!0,fontWeight:600,variant:"flushed",defaultValue:a.patient_gender},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:357,columnNumber:29},this)]},void 0,!0,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:348,columnNumber:27},this)]},void 0,!0,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:327,columnNumber:25},this)]},void 0,!0,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:271,columnNumber:23},this)},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:268,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:266,columnNumber:19},this)," ",e.jsxDEV(N,{w:"45%",children:[" ",e.jsxDEV(re,{mt:5,bg:h("white","gray.700"),children:e.jsxDEV(de,{p:3,as:"form",children:[" ",e.jsxDEV(x,{alignItems:"center",gap:5,children:[e.jsxDEV(ie,{as:"h3",size:"sm",children:m("appointments.update.doctorDetails")},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:381,columnNumber:27},this)," ",e.jsxDEV(X,{to:`/doctor/${a.doct_id}`,as:T,children:e.jsxDEV(ke,{fontSize:20},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:389,columnNumber:29},this)},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:386,columnNumber:27},this)]},void 0,!0,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:378,columnNumber:25},this),e.jsxDEV(Z,{mt:2,mb:5},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:392,columnNumber:25},this),e.jsxDEV(x,{gap:5,children:[e.jsxDEV(E,{children:[e.jsxDEV(A,{fontSize:"sm",mb:0,color:h("gray.600","gray.300"),children:m("appointments.update.labels.doctorFirstName")},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:398,columnNumber:29},this),e.jsxDEV(V,{size:"sm",isReadOnly:!0,fontWeight:600,variant:"flushed",defaultValue:a.doct_f_name},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:404,columnNumber:29},this)]},void 0,!0,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:397,columnNumber:27},this),e.jsxDEV(E,{children:[e.jsxDEV(A,{fontSize:"sm",mb:0,color:h("gray.600","gray.300"),children:m("appointments.update.labels.doctorLastName")},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:414,columnNumber:29},this),e.jsxDEV(V,{size:"sm",isReadOnly:!0,fontWeight:600,variant:"flushed",defaultValue:a.doct_l_name},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:420,columnNumber:29},this)]},void 0,!0,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:413,columnNumber:27},this)]},void 0,!0,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:396,columnNumber:25},this),e.jsxDEV(x,{gap:5,mt:2,children:[e.jsxDEV(E,{id:"doct_specialization",size:"sm",children:[e.jsxDEV(A,{fontSize:"sm",mb:0,color:h("gray.600","gray.300"),children:"Doctor Specialization"},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:435,columnNumber:29},this),e.jsxDEV(V,{size:"sm",isReadOnly:!0,fontWeight:600,variant:"flushed",defaultValue:a.doct_specialization},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:441,columnNumber:29},this)]},void 0,!0,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:432,columnNumber:27},this),e.jsxDEV(E,{id:"dept_title",size:"sm",children:[e.jsxDEV(A,{fontSize:"sm",mb:0,color:h("gray.600","gray.300"),children:"Department"},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:453,columnNumber:29},this),e.jsxDEV(V,{size:"sm",isReadOnly:!0,fontWeight:600,variant:"flushed",defaultValue:a.dept_title},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:459,columnNumber:29},this)]},void 0,!0,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:450,columnNumber:27},this)]},void 0,!0,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:429,columnNumber:25},this)]},void 0,!0,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:374,columnNumber:23},this)},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:371,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:369,columnNumber:19},this)," "]},void 0,!0,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:265,columnNumber:17},this),e.jsxDEV(x,{gap:8,children:[e.jsxDEV(N,{w:"45%",children:[" ",e.jsxDEV(re,{mt:5,bg:h("white","gray.700"),children:e.jsxDEV(de,{p:3,as:"form",children:[" ",e.jsxDEV(ie,{as:"h3",size:"sm",children:["Appointment Details -"," "]},void 0,!0,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:482,columnNumber:25},this)," ",e.jsxDEV(Z,{mt:2,mb:5},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:487,columnNumber:25},this),e.jsxDEV(x,{gap:5,children:[e.jsxDEV(E,{children:[e.jsxDEV(A,{fontSize:"sm",mb:0,color:h("gray.600","gray.300"),children:"Appointment Date"},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:493,columnNumber:29},this),e.jsxDEV(V,{size:"sm",fontWeight:600,variant:"flushed",value:v(a==null?void 0:a.date).format("DD-MM-YYYY"),onClick:()=>{if((a==null?void 0:a.status)=="Confirmed"||(a==null?void 0:a.status)=="Pending"||(a==null?void 0:a.status)=="Rescheduled")b();else return},cursor:"pointer"},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:499,columnNumber:29},this)]},void 0,!0,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:492,columnNumber:27},this),e.jsxDEV(E,{children:[e.jsxDEV(A,{fontSize:"sm",mb:0,color:h("gray.600","gray.300"),children:"Appointment Time Slot"},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:522,columnNumber:29},this),e.jsxDEV(V,{size:"sm",fontWeight:600,variant:"flushed",value:v(a==null?void 0:a.time_slots,"hh:mm:ss").format("hh:mm A"),onClick:()=>{if((a==null?void 0:a.status)=="Confirmed"||(a==null?void 0:a.status)=="Pending"||(a==null?void 0:a.status)=="Rescheduled")b();else return},cursor:"pointer"},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:528,columnNumber:29},this)]},void 0,!0,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:521,columnNumber:27},this)]},void 0,!0,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:491,columnNumber:25},this),e.jsxDEV(x,{gap:5,mt:2,children:[e.jsxDEV(E,{id:"status",size:"sm",children:[e.jsxDEV(A,{fontSize:"sm",mb:0,color:h("gray.600","gray.300"),children:"Status"},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:557,columnNumber:29},this),e.jsxDEV(ce,{children:[e.jsxDEV(oe,{as:_,rightIcon:e.jsxDEV(le,{},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:566,columnNumber:44},this),bg:"transparent",w:"100%",textAlign:"left",pl:0,pt:0,h:8,_hover:{bg:"transparent"},_focus:{bg:"transparent"},borderBottom:"1px solid",borderBottomRadius:0,borderColor:h("gray.200","gray.600"),children:l?me(l):me(a==null?void 0:a.status)},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:564,columnNumber:31},this),["Pending","Confirmed","Rescheduled"].includes(a==null?void 0:a.status)&&e.jsxDEV(_e,{children:Es(a.type).map(j=>e.jsxDEV(we,{onClick:()=>{if(a.current_cancel_req_status==="Initiated")return w(d,"error","Please Update the Cancellation request first");if(j==="Rejected")f();else{let he={id:i,status:j};G.mutate(he)}},children:e.jsxDEV(N,{display:"flex",alignItems:"center",children:me(j)},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:619,columnNumber:39},this)},j,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:594,columnNumber:37},this))},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:592,columnNumber:33},this)]},void 0,!0,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:563,columnNumber:29},this)]},void 0,!0,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:554,columnNumber:27},this),e.jsxDEV(E,{id:"doct_specialization",size:"sm",children:[e.jsxDEV(A,{fontSize:"sm",mb:0,color:h("gray.600","gray.300"),children:"Appointment Type"},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:633,columnNumber:29},this),e.jsxDEV(ce,{children:e.jsxDEV(oe,{as:_,rightIcon:e.jsxDEV(le,{},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:642,columnNumber:44},this),bg:"transparent",w:"100%",textAlign:"left",pl:0,pt:0,h:8,_hover:{bg:"transparent"},_focus:{bg:"transparent"},borderBottom:"1px solid",borderBottomRadius:0,borderColor:h("gray.200","gray.600"),children:Vs(a.type)},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:640,columnNumber:31},this)},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:639,columnNumber:29},this)]},void 0,!0,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:630,columnNumber:27},this)]},void 0,!0,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:551,columnNumber:25},this)]},void 0,!0,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:478,columnNumber:23},this)},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:475,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:473,columnNumber:19},this)," ",e.jsxDEV(N,{w:"55%",children:[" ",e.jsxDEV(re,{mt:5,bg:h("white","gray.700"),children:e.jsxDEV(de,{p:3,as:"form",children:[" ",e.jsxDEV(ie,{as:"h3",size:"sm",children:["Other -"," "]},void 0,!0,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:678,columnNumber:25},this)," ",e.jsxDEV(Z,{mt:2,mb:5},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:683,columnNumber:25},this),e.jsxDEV(x,{gap:5,align:"flex-end",children:e.jsxDEV(E,{isRequired:!0,children:[e.jsxDEV(A,{fontSize:"sm",mb:0,color:h("gray.600","gray.300"),children:"Payment Status"},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:691,columnNumber:29},this),e.jsxDEV(ls,{placeholder:"Select paymemnt status",variant:"flushed",value:a==null?void 0:a.payment_status,...n("payment_status"),isReadOnly:!0,onChange:j=>{if(j.target.value==="Paid")c();else return},children:["Pending","Not Paid","Unpaid"].includes(a.payment_status)||a.payment_status===null?e.jsxDEV(e.Fragment,{children:[e.jsxDEV("option",{value:"Paid",children:"Paid"},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:714,columnNumber:35},this),e.jsxDEV("option",{value:"Pending",children:"Pending"},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:715,columnNumber:35},this),e.jsxDEV("option",{value:"Not Paid",children:"Not Paid"},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:716,columnNumber:35},this),e.jsxDEV("option",{value:"Refunded",children:"Refunded"},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:717,columnNumber:35},this)]},void 0,!0,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:713,columnNumber:33},this):e.jsxDEV(e.Fragment,{children:e.jsxDEV("option",{value:a.payment_status,children:a.payment_status},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:721,columnNumber:35},this)},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:720,columnNumber:33},this)},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:697,columnNumber:29},this)]},void 0,!0,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:690,columnNumber:27},this)},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:687,columnNumber:25},this),e.jsxDEV(x,{gap:5,mt:2,children:[e.jsxDEV(E,{id:"doct_specialization",size:"sm",children:[e.jsxDEV(A,{fontSize:"sm",mb:0,color:h("gray.600","gray.300"),children:"Meeting ID"},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:752,columnNumber:29},this),e.jsxDEV(V,{...n("meeting_id"),size:"sm",fontWeight:600,variant:"flushed",defaultValue:a.meeting_id},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:758,columnNumber:29},this)]},void 0,!0,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:749,columnNumber:27},this),e.jsxDEV(E,{id:"dept_title",size:"sm",children:[e.jsxDEV(A,{fontSize:"sm",mb:0,color:h("gray.600","gray.300"),display:"Flex",alignItems:"center",gap:2,children:[m("appointments.update.labels.meetingLink"),a.type==="Video Consultant"?a.meeting_link&&e.jsxDEV(X,{href:a.meeting_link,target:"_blank",children:e.jsxDEV(ke,{fontSize:20,color:pe.colors.teal[500]},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:783,columnNumber:39},this)},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:780,columnNumber:37},this):null]},void 0,!0,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:770,columnNumber:29},this),e.jsxDEV(V,{...n("meeting_link"),size:"sm",fontWeight:600,variant:"flushed",value:a.meeting_link},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:791,columnNumber:29},this)]},void 0,!0,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:767,columnNumber:27},this)]},void 0,!0,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:746,columnNumber:25},this)]},void 0,!0,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:674,columnNumber:23},this)},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:671,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:669,columnNumber:19},this)," "]},void 0,!0,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:472,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:264,columnNumber:15},this),e.jsxDEV(Ae,{mt:5,colorScheme:"red",children:[e.jsxDEV(Ee,{children:e.jsxDEV(Y,{fontSize:18,fontWeight:600,children:m("appointments.update.cancellationTab")},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:811,columnNumber:19},this)},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:810,columnNumber:17},this),e.jsxDEV(Ve,{children:e.jsxDEV(q,{px:0,children:e.jsxDEV(zs,{current_req:a.current_cancel_req_status},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:819,columnNumber:21},this)},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:818,columnNumber:19},this)},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:817,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:807,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:263,columnNumber:13},this)},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:262,columnNumber:11},this),D("PRESCRIPTION_VIEW")&&e.jsxDEV(q,{children:e.jsxDEV(ws,{appointmentID:i,appointmntData:a},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:829,columnNumber:15},this)},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:828,columnNumber:13},this),D("APPOINTMENT_INVOICE_VIEW")&&e.jsxDEV(q,{children:e.jsxDEV(ps,{appointmentID:i},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:837,columnNumber:15},this)},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:836,columnNumber:13},this),D("ALL_TRANSACTION_VIEW")&&e.jsxDEV(q,{children:e.jsxDEV(bs,{appointmentID:i},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:842,columnNumber:15},this)},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:841,columnNumber:13},this),D("APPOINTMENT_PAYMENTS_VIEW")&&e.jsxDEV(q,{children:e.jsxDEV(Ns,{appointmentID:i},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:847,columnNumber:15},this)},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:846,columnNumber:13},this),e.jsxDEV(q,{children:e.jsxDEV(os,{id:a.patient_id},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:852,columnNumber:13},this)},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:851,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:261,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:249,columnNumber:7},this),e.jsxDEV(Ts,{isOpen:p,onClose:k,id:i,appData:a},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:856,columnNumber:7},this),e.jsxDEV(ys,{data:a,isOpen:g,onClose:z},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:862,columnNumber:7},this),e.jsxDEV(_s,{id:i,isOpen:I,onClose:P},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:867,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:191,columnNumber:5},this)}function ve(n){switch(n){case"Initiated":return["Processing","Rejected","Approved"];case"Processing":return["Rejected","Approved"];case"Rejected":return[];case"Approved":return[];default:return[]}}const zs=({current_req:n})=>{var z,I;const{id:s}=ze(),i=F(),d=se(),{isOpen:r,onOpen:u,onClose:l}=te(),[y,p]=C.useState(),f=async()=>{const c=await R(S.token,`get_appointment_cancel_req/appointment/${s}`);return(c==null?void 0:c.data.map(m=>{const{status:U,notes:a,created_at:B}=m;return{Status:je(U),notes:a,"Created At":v(B).format("DD MMM YY hh:mm A")}})).sort((m,U)=>U.id-m.id)},{isLoading:k,data:D}=M({queryKey:["appointment-canc-req",s],queryFn:f}),g=async c=>{let P={appointment_id:s,status:c};try{const m=await $(S.token,"appointment_cancellation",P);m.response===200?w(i,"success","Updated!"):w(i,"error",m.message)}catch(m){w(i,"error",JSON.stringify(m))}};return O({mutationFn:async c=>{g(c)},onSuccess:()=>{d.invalidateQueries(["appointment-canc-req",s]),d.invalidateQueries("appointment",s),d.invalidateQueries("appointments"),d.invalidateQueries("main-appointments")}}).isLoading?e.jsxDEV(ne,{},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:960,columnNumber:34},void 0):e.jsxDEV(N,{children:[k||!D?e.jsxDEV(N,{children:[e.jsxDEV(x,{mb:5,justify:"space-between",children:[e.jsxDEV(o,{w:400,h:8},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:968,columnNumber:13},void 0),e.jsxDEV(o,{w:200,h:8},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:972,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:965,columnNumber:11},void 0),e.jsxDEV(o,{h:10,w:"100%",mt:2},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:977,columnNumber:11},void 0),e.jsxDEV(o,{h:10,w:"100%",mt:2},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:982,columnNumber:11},void 0),e.jsxDEV(o,{h:10,w:"100%",mt:2},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:987,columnNumber:11},void 0),e.jsxDEV(o,{h:10,w:"100%",mt:2},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:992,columnNumber:11},void 0),e.jsxDEV(o,{h:10,w:"100%",mt:2},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:997,columnNumber:11},void 0),e.jsxDEV(o,{h:10,w:"100%",mt:2},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:1002,columnNumber:11},void 0),e.jsxDEV(o,{h:10,w:"100%",mt:2},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:1007,columnNumber:11},void 0),e.jsxDEV(o,{h:10,w:"100%",mt:2},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:1012,columnNumber:11},void 0),e.jsxDEV(o,{h:10,w:"100%",mt:2},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:1017,columnNumber:11},void 0),e.jsxDEV(o,{h:10,w:"100%",mt:2},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:1022,columnNumber:11},void 0),e.jsxDEV(o,{h:10,w:"100%",mt:2},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:1027,columnNumber:11},void 0),e.jsxDEV(o,{h:10,w:"100%",mt:2},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:1032,columnNumber:11},void 0),e.jsxDEV(o,{h:10,w:"100%",mt:2},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:1037,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:964,columnNumber:9},void 0):e.jsxDEV(N,{children:[D.length?e.jsxDEV(x,{mb:5,justify:"space-between",align:"center",children:e.jsxDEV(E,{size:"sm",children:[e.jsxDEV(A,{fontSize:"sm",mb:0,color:h("gray.600","gray.300"),children:t("appointments.update.labels.updateRequestStatus")},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:1051,columnNumber:17},void 0),e.jsxDEV(ce,{children:[e.jsxDEV(oe,{as:_,rightIcon:e.jsxDEV(le,{},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:1060,columnNumber:32},void 0),bg:"transparent",w:"300px",textAlign:"left",pl:0,pt:0,h:8,_hover:{bg:"transparent"},_focus:{bg:"transparent"},borderBottom:"1px solid",borderBottomRadius:0,borderColor:h("gray.200","gray.600"),children:je(n)},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:1058,columnNumber:19},void 0),(z=ve(n))!=null&&z.length?e.jsxDEV(_e,{children:(I=ve(n))==null?void 0:I.map(c=>e.jsxDEV(we,{onClick:()=>{u(),p(c)},children:e.jsxDEV(N,{display:"flex",alignItems:"center",children:je(c)},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:1093,columnNumber:27},void 0)},c,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:1081,columnNumber:25},void 0))},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:1079,columnNumber:21},void 0):null]},void 0,!0,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:1057,columnNumber:17},void 0)]},void 0,!0,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:1050,columnNumber:15},void 0)},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:1046,columnNumber:13},void 0):null,e.jsxDEV(ge,{minPad:"8px 10px",data:D},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:1107,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:1044,columnNumber:9},void 0),e.jsxDEV(Cs,{isOpen:r,onClose:l,id:s,type:y},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:1114,columnNumber:7},void 0)]},void 0,!0,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:962,columnNumber:5},void 0)},Ts=({isOpen:n,onClose:s,id:i,appData:d})=>{const r=se(),u=F(),{t:l}=K(),y=O({mutationFn:async p=>{d.source==="Admin"?await $e({id:i,status:"Rejected"}):await Is(p)},onSuccess:()=>{w(u,"success","Success"),r.invalidateQueries("appointments"),r.invalidateQueries("main-appointments"),r.invalidateQueries(["appointment",i]),s()},onError:p=>{w(u,"error",p.message)}});return y.isPending?e.jsxDEV(ne,{},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:1157,columnNumber:40},void 0):e.jsxDEV(Me,{isOpen:n,onClose:s,isCentered:!0,children:e.jsxDEV(fe,{children:e.jsxDEV(Oe,{children:[e.jsxDEV(be,{fontSize:"lg",fontWeight:"bold",children:[l("appointments.update.alerts.reject.title")," , id : ",i]},void 0,!0,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:1167,columnNumber:11},void 0),e.jsxDEV(xe,{children:l("appointments.update.alerts.reject.message")},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:1171,columnNumber:11},void 0),e.jsxDEV(Ne,{children:[e.jsxDEV(_,{onClick:s,size:"sm",children:l("appointments.update.alerts.reject.cancel")},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:1176,columnNumber:13},void 0),e.jsxDEV(_,{colorScheme:"red",onClick:()=>{let p={appointment_id:i};y.mutate(p)},ml:3,size:"sm",children:l("appointments.update.alerts.reject.confirm")},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:1179,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:1175,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:1166,columnNumber:9},void 0)},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:1165,columnNumber:7},void 0)},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:1161,columnNumber:5},void 0)},Cs=({isOpen:n,onClose:s,id:i,type:d})=>{const r=se(),u=F(),{t:l}=K(),y=async k=>{let D={appointment_id:i,status:k};try{const g=await $(S.token,"appointment_cancellation",D);g.response===200?w(u,"success","Updated!"):w(u,"error",g.message)}catch(g){w(u,"error",JSON.stringify(g))}},p=O({mutationFn:async k=>{await vs(k)},onSuccess:()=>{r.invalidateQueries("appointments"),r.invalidateQueries("main-appointments"),r.invalidateQueries(["appointment-canc-req",i]),r.invalidateQueries("appointment",i),s()},onError:k=>{w(u,"error",k.message),s()}}),f=O({mutationFn:async k=>{await y(k)},onSuccess:()=>{r.invalidateQueries("appointments"),r.invalidateQueries("main-appointments"),r.invalidateQueries(["appointment-canc-req",i]),r.invalidateQueries("appointment",i),s()},onError:k=>{w(u,"error",k.message),s()}});return p.isPending||f.isPending?e.jsxDEV(ne,{},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:1263,columnNumber:67},void 0):e.jsxDEV(Me,{isOpen:n,onClose:s,isCentered:!0,children:e.jsxDEV(fe,{children:e.jsxDEV(Oe,{children:[e.jsxDEV(be,{fontSize:"md",fontWeight:"bold",children:[l("appointments.update.alerts.cancellation.title",{type:d})," , id : ",i]},void 0,!0,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:1273,columnNumber:11},void 0),e.jsxDEV(xe,{children:l("appointments.update.alerts.cancellation.message",{type:d})},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:1277,columnNumber:11},void 0),e.jsxDEV(Ne,{children:[e.jsxDEV(_,{onClick:s,size:"sm",children:l("appointments.update.alerts.cancellation.cancel")},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:1282,columnNumber:13},void 0),e.jsxDEV(_,{colorScheme:"red",onClick:()=>{if(d==="Approved"){let k={appointment_id:i,status:"Approved"};p.mutate(k)}else f.mutate(d)},ml:3,size:"sm",children:l("appointments.update.alerts.cancellation.confirm",{type:d})},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:1285,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:1281,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:1272,columnNumber:9},void 0)},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:1271,columnNumber:7},void 0)},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Appointments/Update.jsx",lineNumber:1267,columnNumber:5},void 0)};export{pn as default};
