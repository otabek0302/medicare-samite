import{N as L,z as R,w as y,r as D,v as e,B as k,T as se,x as I,_ as ge,y as p,aE as G,S as xe,D as ae,K as J}from"./index-BqRQ5zR-.js";import{F as me}from"./index-CS1DgOx7.js";import{e as pe}from"./index-D6RHo-Rw.js";import{u as O}from"./SettingData-CxfeWvqW.js";import{C as ie,A as te,a as le,N as oe,S as V,D as de,b as Ne,c as De,d as re,e as ke,f as ne}from"./Dashboard-DfQ9GR_Q.js";import{h as H,u as w,f,M as Y,b as q,a as X,c as T,g as Z,d as F,F as z,e as Q}from"./index.esm-CDWxJwJY.js";import{u as he}from"./useMutation-9OMn6k9Q.js";import{I as B,F as U,d as v}from"./utils-BcOZwoxx.js";import{G as je}from"./grid-DgSVtHSd.js";import{D as A}from"./createLucideIcon-Ha6tAQX1.js";import{u as ce}from"./UseSearchFilter-HwQh-PCQ.js";import{u as M}from"./HasPermission-BxGNMDGA.js";import{U as Re}from"./UsersComboBox-B-um6-vK.js";import{u as ye}from"./Users-BxCA8Sbm.js";import{S as Ue}from"./select-BdYZ_n_k.js";import{u as P,I as $}from"./index-CdSaDTFS.js";import"./tr-IqXuou1v.js";import"./image-CynZshwF.js";import"./visually-hidden.style-BiwU0iRL.js";import"./popover-DbwkstBv.js";import"./split-CzYrjwZo.js";const _e=async()=>(await L(R.token,"get_permisssion")).data,Ee=()=>{const{isLoading:r,data:i,error:n}=O({queryKey:["all-permissions"],queryFn:_e});return{allPermissionsData:i,allPermissionsLoading:r,allPermissionsError:n}},Pe=({selectedPermissions:r,setSelectedPermissions:i})=>{const{t:n}=y(),{allPermissionsData:s}=Ee(),[m,l]=D.useState(""),u=a=>{i(o=>o.includes(a)?o.filter(c=>c!==a):[...o,a])},d=s==null?void 0:s.filter(a=>a.name.toLowerCase().includes(m.toLowerCase()));return e.jsxDEV(k,{children:[e.jsxDEV(B,{placeholder:n("roles.permissions.search.placeholder"),value:m,onChange:a=>l(a.target.value),mb:4},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Roles/RolePermissions.jsx",lineNumber:34,columnNumber:7},void 0),e.jsxDEV(je,{templateColumns:"repeat(3, 1fr)",gap:6,children:[e.jsxDEV(ie,{size:"md",fontSize:"sm",isChecked:(r==null?void 0:r.length)===(s==null?void 0:s.length),onChange:()=>{let a=s.map(o=>o.id);r.length===s.length?i([]):i(a)},children:e.jsxDEV(se,{fontSize:"xs",fontWeight:600,children:n("roles.permissions.all")},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Roles/RolePermissions.jsx",lineNumber:47,columnNumber:11},void 0)},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Roles/RolePermissions.jsx",lineNumber:37,columnNumber:9},void 0),d==null?void 0:d.map(a=>e.jsxDEV(ie,{size:"md",fontSize:"sm",isChecked:r.includes(a.id),onChange:()=>u(a.id),children:e.jsxDEV(se,{fontSize:"xs",fontWeight:600,children:a.name},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Roles/RolePermissions.jsx",lineNumber:61,columnNumber:13},void 0)},a.id,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Roles/RolePermissions.jsx",lineNumber:55,columnNumber:11},void 0))]},void 0,!0,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Roles/RolePermissions.jsx",lineNumber:36,columnNumber:7},void 0)]},void 0,!0,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Roles/RolePermissions.jsx",lineNumber:32,columnNumber:5},void 0)},we=r=>r!=null&&r.length?r==null?void 0:r.map(n=>n.permission_id):[],Ve=async r=>{const i=await xe(R.token,"assign_permission_to_tole",r);if(i.response!==200)throw new Error(i.message);return i};function Ae({isOpen:r,onClose:i,data:n}){const{t:s}=y(),[m,l]=D.useState(),{register:u,handleSubmit:d,reset:a}=H(),o=I(),[c,t]=D.useState(),b=w(),h=async()=>(await L(R.token,`get_role_permisssion/role/${n.id}`)).data,{data:N,isLoading:_}=O({queryKey:["permissions",n.id],queryFn:h});D.useEffect(()=>{t(we(N)),a({role_name:n==null?void 0:n.name})},[N,n.name,a]);const g=async x=>{let S={...x,id:n.id};try{l(!0);const j=await G(R.token,"update_role",S);l(!1),j.response===200?(f(b,"success",s("roles.update.messages.success.role")),o.invalidateQueries("roles"),a(),i()):f(b,"error",j.message)}catch(j){l(!1),f(b,"error",JSON.stringify(j))}},E=he({mutationFn:async()=>{let x={role_id:n.id,permission_ids:(c==null?void 0:c.join(","))||""};await Ve(x)},onError:x=>{f(b,"error",x.message)},onSuccess:()=>{f(b,"success",s("roles.update.messages.success.permissions")),o.invalidateQueries("roles"),o.invalidateQueries(["permissions",n.id]),i()}});return _?e.jsxDEV(ge,{},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Roles/Update.jsx",lineNumber:111,columnNumber:36},this):e.jsxDEV(Y,{isOpen:r,onClose:i,isCentered:!0,size:"3xl",scrollBehavior:"inside",children:[e.jsxDEV(q,{},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Roles/Update.jsx",lineNumber:120,columnNumber:7},this),e.jsxDEV(X,{children:[e.jsxDEV(T,{fontSize:18,py:2,children:s("roles.update.title")},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Roles/Update.jsx",lineNumber:122,columnNumber:9},this),e.jsxDEV(Z,{},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Roles/Update.jsx",lineNumber:127,columnNumber:9},this),e.jsxDEV(A,{},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Roles/Update.jsx",lineNumber:128,columnNumber:9},this),e.jsxDEV(F,{children:e.jsxDEV(k,{pb:3,children:[e.jsxDEV(U,{as:"form",onSubmit:d(g),align:"flex-end",gap:5,children:[" ",e.jsxDEV(v,{isRequired:!0,children:[e.jsxDEV(z,{children:s("roles.update.form.title.label")},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Roles/Update.jsx",lineNumber:138,columnNumber:17},this),e.jsxDEV(B,{size:"sm",borderRadius:6,defaultValue:n==null?void 0:n.name,placeholder:s("roles.update.form.title.placeholder"),...u("role_name",{required:!0})},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Roles/Update.jsx",lineNumber:139,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Roles/Update.jsx",lineNumber:137,columnNumber:15},this),e.jsxDEV(p,{w:48,variant:"solid",size:"sm",colorScheme:"blue",type:"submit",isLoading:m,children:s("roles.update.buttons.updateTitle")},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Roles/Update.jsx",lineNumber:147,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Roles/Update.jsx",lineNumber:131,columnNumber:13},this),e.jsxDEV(v,{mt:5,children:[e.jsxDEV(z,{children:s("roles.update.form.permissions.label")},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Roles/Update.jsx",lineNumber:159,columnNumber:15},this),e.jsxDEV(Pe,{selectedPermissions:c,setSelectedPermissions:t,onClose:i,role_id:n.id},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Roles/Update.jsx",lineNumber:161,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Roles/Update.jsx",lineNumber:158,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Roles/Update.jsx",lineNumber:130,columnNumber:11},this)},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Roles/Update.jsx",lineNumber:129,columnNumber:9},this),e.jsxDEV(A,{},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Roles/Update.jsx",lineNumber:171,columnNumber:9},this),e.jsxDEV(Q,{py:3,children:[e.jsxDEV(p,{w:"50",variant:"solid",size:"sm",colorScheme:"blue",mr:5,isLoading:E.isPending,onClick:()=>{E.mutate()},children:s("roles.update.buttons.updatePermissions")},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Roles/Update.jsx",lineNumber:173,columnNumber:11},this),e.jsxDEV(p,{colorScheme:"gray",mr:3,onClick:i,size:"sm",children:s("roles.update.buttons.close")},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Roles/Update.jsx",lineNumber:183,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Roles/Update.jsx",lineNumber:172,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Roles/Update.jsx",lineNumber:121,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Roles/Update.jsx",lineNumber:114,columnNumber:5},this)}function ue({isOpen:r,onClose:i,data:n}){const{t:s}=y(),[m,l]=D.useState(!1),{register:u,handleSubmit:d,reset:a}=H(),o=I(),c=w(),t=async b=>{let h={...b};try{l(!0);const N=await G(R.token,"add_role",h);l(!1),N.response===200?(f(c,"success",s("roles.add.messages.success")),o.invalidateQueries("roles"),a(),i()):f(c,"error",N.message)}catch(N){l(!1),f(c,"error",JSON.stringify(N))}};return e.jsxDEV(Y,{isOpen:r,onClose:i,isCentered:!0,size:"xl",scrollBehavior:"inside",children:[e.jsxDEV(q,{},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Roles/Add.jsx",lineNumber:55,columnNumber:7},this),e.jsxDEV(X,{as:"form",onSubmit:d(t),children:[e.jsxDEV(T,{fontSize:18,py:2,children:s("roles.add.title")},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Roles/Add.jsx",lineNumber:59,columnNumber:9},this),e.jsxDEV(Z,{},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Roles/Add.jsx",lineNumber:64,columnNumber:9},this),e.jsxDEV(A,{},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Roles/Add.jsx",lineNumber:65,columnNumber:9},this),e.jsxDEV(F,{children:e.jsxDEV(k,{pb:3,children:e.jsxDEV(v,{isRequired:!0,children:[e.jsxDEV(z,{children:s("roles.add.form.title")},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Roles/Add.jsx",lineNumber:69,columnNumber:15},this),e.jsxDEV(B,{defaultValue:n==null?void 0:n.name,placeholder:s("roles.add.form.placeholder"),...u("role_name",{required:!0})},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Roles/Add.jsx",lineNumber:70,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Roles/Add.jsx",lineNumber:68,columnNumber:13},this)},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Roles/Add.jsx",lineNumber:67,columnNumber:11},this)},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Roles/Add.jsx",lineNumber:66,columnNumber:9},this),e.jsxDEV(A,{},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Roles/Add.jsx",lineNumber:78,columnNumber:9},this),e.jsxDEV(Q,{py:3,children:[e.jsxDEV(p,{colorScheme:"gray",mr:3,onClick:i,size:"sm",children:s("roles.add.buttons.close")},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Roles/Add.jsx",lineNumber:80,columnNumber:11},this),e.jsxDEV(p,{variant:"solid",size:"sm",colorScheme:"blue",type:"submit",isLoading:m,children:s("roles.add.buttons.submit")},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Roles/Add.jsx",lineNumber:87,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Roles/Add.jsx",lineNumber:79,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Roles/Add.jsx",lineNumber:56,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Roles/Add.jsx",lineNumber:49,columnNumber:5},this)}function Se({isOpen:r,onClose:i,data:n}){const{t:s}=y(),m=w(),l=D.useRef(),u=I(),[d,a]=D.useState(),o=async()=>{if(n.name==="Doctor"||n.name==="Admin"||n.name==="Front Desk")return f(m,"error",s("roles.delete.messages.cannotDelete"));let c={id:n.id};try{a(!0);const t=await ae(R.token,"delete_role",c);a(!1),t.response===200?(f(m,"success",s("roles.delete.messages.success")),u.invalidateQueries("roles"),i()):f(m,"error",t.message)}catch(t){a(!1),f(m,"error",JSON.stringify(t))}};return e.jsxDEV(te,{isOpen:r,onClose:i,leastDestructiveRef:l.current,isCentered:!0,children:e.jsxDEV(q,{children:e.jsxDEV(le,{children:[e.jsxDEV(T,{fontSize:"lg",fontWeight:"semi-bold",children:[s("roles.delete.title")," ( ",e.jsxDEV("b",{children:n==null?void 0:n.name},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Roles/Delete.jsx",lineNumber:61,columnNumber:41},this)," )"]},void 0,!0,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Roles/Delete.jsx",lineNumber:58,columnNumber:11},this),e.jsxDEV(F,{children:s("roles.delete.messages.confirm")},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Roles/Delete.jsx",lineNumber:64,columnNumber:11},this),e.jsxDEV(Q,{children:[e.jsxDEV(p,{ref:l.current,onClick:i,colorScheme:"gray",size:"sm",children:s("roles.delete.buttons.cancel")},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Roles/Delete.jsx",lineNumber:69,columnNumber:13},this),e.jsxDEV(p,{colorScheme:"red",onClick:o,ml:3,size:"sm",isLoading:d,children:s("roles.delete.buttons.delete")},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Roles/Delete.jsx",lineNumber:76,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Roles/Delete.jsx",lineNumber:68,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Roles/Delete.jsx",lineNumber:57,columnNumber:9},this)},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Roles/Delete.jsx",lineNumber:56,columnNumber:7},this)},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Roles/Delete.jsx",lineNumber:50,columnNumber:5},this)}function fe({isOpen:r,onClose:i,Roles:n}){const{t:s}=y(),[m,l]=D.useState(!1),{hasPermission:u}=M(),{register:d,handleSubmit:a,reset:o}=H(),c=I(),t=w(),{usersData:b}=ye(),[h,N]=D.useState(),_=async g=>{if(!h)return f(t,"error","Please Select User");let E={...g,user_id:h.id};try{l(!0);const x=await G(R.token,"assign_role",E);l(!1),x.response===200?(f(t,"success",s("roles.assign.messages.success")),c.invalidateQueries("roles"),o(),i()):f(t,"error",x.message)}catch(x){l(!1),f(t,"error",JSON.stringify(x))}};return u?e.jsxDEV(Y,{isOpen:r,onClose:i,isCentered:!0,size:"xl",scrollBehavior:"inside",children:[e.jsxDEV(q,{},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Roles/AssignRole.jsx",lineNumber:73,columnNumber:7},this),e.jsxDEV(X,{as:"form",onSubmit:a(_),children:[e.jsxDEV(T,{fontSize:18,py:2,children:s("roles.assign.title")},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Roles/AssignRole.jsx",lineNumber:77,columnNumber:9},this),e.jsxDEV(Z,{},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Roles/AssignRole.jsx",lineNumber:82,columnNumber:9},this),e.jsxDEV(A,{},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Roles/AssignRole.jsx",lineNumber:83,columnNumber:9},this),e.jsxDEV(F,{children:e.jsxDEV(k,{pb:3,children:[e.jsxDEV(v,{isRequired:!0,children:[e.jsxDEV(z,{children:s("roles.assign.form.user")},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Roles/AssignRole.jsx",lineNumber:87,columnNumber:15},this),e.jsxDEV(Re,{name:"user",data:b,setState:N},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Roles/AssignRole.jsx",lineNumber:89,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Roles/AssignRole.jsx",lineNumber:86,columnNumber:13},this),e.jsxDEV(v,{isRequired:!0,mt:5,children:[e.jsxDEV(z,{children:s("roles.assign.form.role")},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Roles/AssignRole.jsx",lineNumber:98,columnNumber:15},this),e.jsxDEV(Ue,{placeholder:s("roles.assign.form.placeholder"),...d("role_id",{required:!0}),children:n==null?void 0:n.map(g=>e.jsxDEV("option",{value:g.id,children:g.name},g.id,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Roles/AssignRole.jsx",lineNumber:103,columnNumber:19},this))},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Roles/AssignRole.jsx",lineNumber:99,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Roles/AssignRole.jsx",lineNumber:95,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Roles/AssignRole.jsx",lineNumber:85,columnNumber:11},this)},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Roles/AssignRole.jsx",lineNumber:84,columnNumber:9},this),e.jsxDEV(A,{},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Roles/AssignRole.jsx",lineNumber:113,columnNumber:9},this),e.jsxDEV(Q,{py:3,children:[e.jsxDEV(p,{colorScheme:"gray",mr:3,onClick:i,size:"sm",children:s("roles.assign.buttons.close")},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Roles/AssignRole.jsx",lineNumber:115,columnNumber:11},this),e.jsxDEV(p,{variant:"solid",size:"sm",colorScheme:"blue",type:"submit",isLoading:m,children:s("roles.assign.buttons.submit")},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Roles/AssignRole.jsx",lineNumber:122,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Roles/AssignRole.jsx",lineNumber:114,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Roles/AssignRole.jsx",lineNumber:74,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Roles/AssignRole.jsx",lineNumber:67,columnNumber:5},this):t({title:s("roles.assign.messages.error"),description:s("roles.assign.messages.errorDescription"),status:"error",duration:2e3,isClosable:!0,position:"top"})}function Ce(){const{isOpen:r,onOpen:i,onClose:n}=P(),[s,m]=D.useState(),{isOpen:l,onOpen:u,onClose:d}=P(),{isOpen:a,onOpen:o,onClose:c}=P(),{isOpen:t,onOpen:b,onClose:h}=P(),N=w(),_="Errortoast",{t:g}=y(),E=async()=>(await L(R.token,"get_roles")).data,x=K=>{m(K)},{isLoading:S,data:j,error:W}=O({queryKey:["roles"],queryFn:E}),{handleSearchChange:C,filteredData:be}=ce(j);W&&(N.isActive(_)||N({id:_,title:g("roles.error.title"),description:g("roles.error.description"),status:"error",duration:2e3,isClosable:!0,position:"top"}));const{hasPermission:ee}=M();return ee("ROLE_VIEW")?e.jsxDEV(k,{children:[S||!j?e.jsxDEV(k,{children:[e.jsxDEV(U,{mb:5,justify:"space-between",children:[e.jsxDEV(V,{w:400,h:8},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Roles/Role.jsx",lineNumber:68,columnNumber:13},this),e.jsxDEV(V,{w:50,h:8},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Roles/Role.jsx",lineNumber:69,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Roles/Role.jsx",lineNumber:67,columnNumber:11},this),e.jsxDEV(V,{h:300,w:"100%"},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Roles/Role.jsx",lineNumber:71,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Roles/Role.jsx",lineNumber:66,columnNumber:9},this):e.jsxDEV(k,{children:[e.jsxDEV(U,{mb:5,justify:"space-between",align:"center",children:[e.jsxDEV(B,{size:"md",placeholder:g("roles.search.placeholder"),w:400,maxW:"50vw",onChange:K=>C(K.target.value)},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Roles/Role.jsx",lineNumber:76,columnNumber:13},this),ee("ROLE_ADD")&&e.jsxDEV(U,{align:"center",gap:5,children:[e.jsxDEV(p,{size:"sm",colorScheme:"teal",onClick:b,children:g("roles.buttons.assignRoleToUser")},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Roles/Role.jsx",lineNumber:79,columnNumber:17},this),e.jsxDEV(p,{size:"sm",colorScheme:"blue",onClick:i,children:g("roles.buttons.addNew")},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Roles/Role.jsx",lineNumber:82,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Roles/Role.jsx",lineNumber:78,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Roles/Role.jsx",lineNumber:75,columnNumber:11},this),e.jsxDEV(de,{data:be,onActionClick:e.jsxDEV(Oe,{onClick:x,DeleteonOpen:u,EditionOpen:o},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Roles/Role.jsx",lineNumber:93,columnNumber:15},this)},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Roles/Role.jsx",lineNumber:89,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Roles/Role.jsx",lineNumber:74,columnNumber:9},this),e.jsxDEV(ue,{isOpen:r,onClose:n,data:j},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Roles/Role.jsx",lineNumber:106,columnNumber:7},this),e.jsxDEV(Se,{isOpen:l,onClose:d,data:s},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Roles/Role.jsx",lineNumber:107,columnNumber:7},this),a&&e.jsxDEV(Ae,{isOpen:a,onClose:c,data:s},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Roles/Role.jsx",lineNumber:109,columnNumber:9},this),t&&e.jsxDEV(fe,{isOpen:t,onClose:h,Roles:j},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Roles/Role.jsx",lineNumber:112,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Roles/Role.jsx",lineNumber:64,columnNumber:5},this):e.jsxDEV(oe,{},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Roles/Role.jsx",lineNumber:61,columnNumber:43},this)}const Oe=({onClick:r,rowData:i,DeleteonOpen:n,EditionOpen:s})=>{const{hasPermission:m}=M();return e.jsxDEV(U,{justify:"center",children:[m("ROLE_UPDATE")&&e.jsxDEV($,{"aria-label":"Edit",isDisabled:(i==null?void 0:i.name)==="Admin"||(i==null?void 0:i.name)==="admin",size:"sm",variant:"ghost",_hover:{background:"none"},onClick:()=>{r(i),s()},icon:e.jsxDEV(pe,{fontSize:18,color:J.colors.blue[500]},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Roles/Role.jsx",lineNumber:137,columnNumber:13},void 0)},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Roles/Role.jsx",lineNumber:124,columnNumber:9},void 0),m("ROLE_DELETE")&&e.jsxDEV($,{"aria-label":"Delete",isDisabled:(i==null?void 0:i.name)==="Admin"||(i==null?void 0:i.name)==="admin",size:"sm",variant:"ghost",_hover:{background:"none"},onClick:()=>{r(i),n()},icon:e.jsxDEV(me,{fontSize:18,color:J.colors.red[500]},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Roles/Role.jsx",lineNumber:158,columnNumber:13},void 0)},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Roles/Role.jsx",lineNumber:145,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Roles/Role.jsx",lineNumber:122,columnNumber:5},void 0)},ze=async()=>(await L(R.token,"get_roles")).data,ve=async()=>{const r=await L(R.token,"get_assign_roles");return r==null?void 0:r.data.map(n=>{const{id:s,user_id:m,role_id:l,role_name:u,f_name:d,l_name:a,phone:o,isd_code:c,updated_at:t,created_at:b}=n;return{id:s,user_id:m,role_id:l,role_name:u,name:`${d} ${a}`,phone:`${o}`,created_at:b,updated_at:t,searchQuery:s+m+l+u+d+a+o+c+t+b}})};function Le(){const{t:r}=y(),{isOpen:i,onOpen:n,onClose:s}=P(),[m,l]=D.useState(),{isOpen:u,onOpen:d,onClose:a}=P(),{isOpen:o,onOpen:c,onClose:t}=P(),b=w(),h="Errortoast",N=C=>{l(C)},{isLoading:_,data:g,error:E}=O({queryKey:["assigned-roles"],queryFn:ve}),{data:x}=O({queryKey:["roles"],queryFn:ze}),{handleSearchChange:S,filteredData:j}=ce(g);E&&(b.isActive(h)||b({id:h,title:r("roles.error.title"),description:r("roles.error.description"),status:"error",duration:2e3,isClosable:!0,position:"top"}));const{hasPermission:W}=M();return W("ROLE_VIEW")?e.jsxDEV(k,{children:[_||!g?e.jsxDEV(k,{children:[e.jsxDEV(U,{mb:5,justify:"space-between",children:[e.jsxDEV(V,{w:400,h:8},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Roles/AssignedUsers.jsx",lineNumber:86,columnNumber:13},this),e.jsxDEV(V,{w:50,h:8},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Roles/AssignedUsers.jsx",lineNumber:87,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Roles/AssignedUsers.jsx",lineNumber:85,columnNumber:11},this),e.jsxDEV(V,{h:300,w:"100%"},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Roles/AssignedUsers.jsx",lineNumber:89,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Roles/AssignedUsers.jsx",lineNumber:84,columnNumber:9},this):e.jsxDEV(k,{children:[e.jsxDEV(U,{mb:5,justify:"space-between",align:"center",children:[e.jsxDEV(B,{size:"md",placeholder:r("roles.search.placeholder"),w:400,maxW:"50vw",onChange:C=>S(C.target.value)},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Roles/AssignedUsers.jsx",lineNumber:94,columnNumber:13},this),W("ROLE_ADD")&&e.jsxDEV(U,{align:"center",gap:5,children:[e.jsxDEV(p,{size:"sm",colorScheme:"teal",onClick:c,children:r("roles.assign.buttons.assign")},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Roles/AssignedUsers.jsx",lineNumber:97,columnNumber:17},this),e.jsxDEV(p,{size:"sm",colorScheme:"blue",onClick:n,children:r("roles.buttons.add")},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Roles/AssignedUsers.jsx",lineNumber:103,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Roles/AssignedUsers.jsx",lineNumber:96,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Roles/AssignedUsers.jsx",lineNumber:93,columnNumber:11},this),e.jsxDEV(de,{data:j,onActionClick:e.jsxDEV(Ie,{onClick:N,DeleteonOpen:d},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Roles/AssignedUsers.jsx",lineNumber:117,columnNumber:15},this)},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Roles/AssignedUsers.jsx",lineNumber:113,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Roles/AssignedUsers.jsx",lineNumber:92,columnNumber:9},this),e.jsxDEV(ue,{isOpen:i,onClose:s,data:m},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Roles/AssignedUsers.jsx",lineNumber:126,columnNumber:7},this),u&&e.jsxDEV(qe,{isOpen:u,onClose:a,data:m},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Roles/AssignedUsers.jsx",lineNumber:132,columnNumber:9},this),o&&e.jsxDEV(fe,{isOpen:o,onClose:t,Roles:x},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Roles/AssignedUsers.jsx",lineNumber:140,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Roles/AssignedUsers.jsx",lineNumber:82,columnNumber:5},this):e.jsxDEV(oe,{},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Roles/AssignedUsers.jsx",lineNumber:79,columnNumber:43},this)}const Ie=({onClick:r,rowData:i,DeleteonOpen:n})=>{const{hasPermission:s}=M(),{t:m}=y();return e.jsxDEV(U,{justify:"center",children:s("ROLE_DELETE")&&e.jsxDEV($,{"aria-label":m("roles.buttons.delete"),size:"sm",variant:"ghost",_hover:{background:"none"},onClick:()=>{r(i),n()},icon:e.jsxDEV(me,{fontSize:18,color:J.colors.red[500]},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Roles/AssignedUsers.jsx",lineNumber:169,columnNumber:13},void 0)},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Roles/AssignedUsers.jsx",lineNumber:157,columnNumber:9},void 0)},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Roles/AssignedUsers.jsx",lineNumber:155,columnNumber:5},void 0)};function qe({isOpen:r,onClose:i,data:n}){const s=w(),m=D.useRef(),l=I(),[u,d]=D.useState(),{t:a}=y(),o=async()=>{let c={id:n.id};try{d(!0);const t=await ae(R.token,"de_assign_role",c);d(!1),t.response===200?(f(s,"success",a("roles.delete.messages.success")),l.invalidateQueries("roles"),i()):f(s,"error",t.message)}catch(t){d(!1),f(s,"error",JSON.stringify(t))}};return e.jsxDEV(te,{isOpen:r,onClose:i,leastDestructiveRef:m,isCentered:!0,children:e.jsxDEV(q,{children:e.jsxDEV(le,{children:[e.jsxDEV(T,{fontSize:"lg",fontWeight:"semi-bold",children:a("roles.delete.messages.confirm")},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Roles/AssignedUsers.jsx",lineNumber:222,columnNumber:11},this),e.jsxDEV(F,{children:a("roles.delete.messages.confirm")},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Roles/AssignedUsers.jsx",lineNumber:228,columnNumber:11},this),e.jsxDEV(Q,{children:[e.jsxDEV(p,{ref:m,onClick:i,colorScheme:"gray",size:"sm",children:a("roles.delete.buttons.cancel")},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Roles/AssignedUsers.jsx",lineNumber:233,columnNumber:13},this),e.jsxDEV(p,{colorScheme:"red",onClick:o,ml:3,size:"sm",isLoading:u,children:a("roles.delete.buttons.delete")},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Roles/AssignedUsers.jsx",lineNumber:241,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Roles/AssignedUsers.jsx",lineNumber:232,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Roles/AssignedUsers.jsx",lineNumber:221,columnNumber:9},this)},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Roles/AssignedUsers.jsx",lineNumber:220,columnNumber:7},this)},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Roles/AssignedUsers.jsx",lineNumber:214,columnNumber:5},this)}function ts(){const{t:r}=y();return e.jsxDEV(k,{children:e.jsxDEV(Ne,{children:[e.jsxDEV(De,{children:[e.jsxDEV(re,{children:r("roles.tabs.roles")},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Roles/Index.jsx",lineNumber:13,columnNumber:11},this),e.jsxDEV(re,{children:r("roles.tabs.assignedUsers")},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Roles/Index.jsx",lineNumber:14,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Roles/Index.jsx",lineNumber:12,columnNumber:9},this),e.jsxDEV(ke,{children:[e.jsxDEV(ne,{p:0,children:e.jsxDEV(k,{mt:5,children:e.jsxDEV(Ce,{},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Roles/Index.jsx",lineNumber:20,columnNumber:15},this)},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Roles/Index.jsx",lineNumber:19,columnNumber:13},this)},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Roles/Index.jsx",lineNumber:18,columnNumber:11},this),e.jsxDEV(ne,{p:0,children:e.jsxDEV(k,{mt:5,children:e.jsxDEV(Le,{},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Roles/Index.jsx",lineNumber:25,columnNumber:15},this)},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Roles/Index.jsx",lineNumber:24,columnNumber:13},this)},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Roles/Index.jsx",lineNumber:23,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Roles/Index.jsx",lineNumber:17,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Roles/Index.jsx",lineNumber:11,columnNumber:7},this)},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Roles/Index.jsx",lineNumber:10,columnNumber:5},this)}export{ts as default};
