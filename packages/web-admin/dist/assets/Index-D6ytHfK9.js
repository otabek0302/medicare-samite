import{w as v,r as j,x as y,v as e,y as I,D as G,z as w,V as K,B as p,L as S,aG as A,O as Y}from"./index-DPnYdkUz.js";import{F as X}from"./index-DJio6C7j.js";import{e as Z}from"./index-Bm_h8oZt.js";import{u as ee}from"./SettingData-o9nA5JFe.js";import{u as O}from"./useMutation-VqWrDSyY.js";import{u as k,b as se,c as ae,d as ie,e as oe,f as u}from"./index.esm-7HBFntiH.js";import{A as re,a as ne,N as te,S as d,D as ce}from"./Dashboard-yaE9KkgM.js";import{u as E}from"./HasPermission-B2qlt3qD.js";import{F as V,I as me,d as T}from"./utils-CbOPTj9R.js";import{u as de,I as _}from"./index-DKSfyVZ9.js";import{S as z}from"./switch-Bs-ckl13.js";import"./createLucideIcon-cf9l0Mkm.js";import"./tr-B7dii5kF.js";import"./image-CECpK_E2.js";import"./visually-hidden.style-CjB5JpNG.js";function le({isOpen:i,onClose:n,data:a}){const{t:c}=v(),t=k(),r=j.useRef(),b=y(),[f,s]=j.useState(!1),m=async()=>{let h={id:a.id};try{s(!0);const o=await G(w.token,"delete_specialization",h);s(!1),o.response===200?(u(t,"success",c("doctors.delete.success")),b.invalidateQueries({queryKey:["doctors"]}),n()):u(t,"error",o.message)}catch(o){s(!1),u(t,"error",JSON.stringify(o))}};return e.jsxDEV(re,{isOpen:i,onClose:n,leastDestructiveRef:r,isCentered:!0,children:e.jsxDEV(se,{children:e.jsxDEV(ne,{children:[e.jsxDEV(ae,{fontSize:"lg",fontWeight:"semi-bold",children:c("doctors.delete.titleWithName",{id:a==null?void 0:a.id,firstName:a==null?void 0:a.f_name,lastName:a==null?void 0:a.l_name})},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Doctors/Delete.jsx",lineNumber:55,columnNumber:11},this),e.jsxDEV(ie,{children:c("doctors.delete.confirmMessage")},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Doctors/Delete.jsx",lineNumber:63,columnNumber:11},this),e.jsxDEV(oe,{children:[e.jsxDEV(I,{ref:r,onClick:n,colorScheme:"gray",size:"sm",children:c("doctors.delete.cancel")},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Doctors/Delete.jsx",lineNumber:68,columnNumber:13},this),e.jsxDEV(I,{colorScheme:"red",onClick:m,ml:3,size:"sm",isLoading:f,children:c("doctors.delete.confirm")},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Doctors/Delete.jsx",lineNumber:75,columnNumber:13},this)]},void 0,!0,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Doctors/Delete.jsx",lineNumber:67,columnNumber:11},this)]},void 0,!0,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Doctors/Delete.jsx",lineNumber:54,columnNumber:9},this)},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Doctors/Delete.jsx",lineNumber:53,columnNumber:7},this)},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Doctors/Delete.jsx",lineNumber:48,columnNumber:5},this)}function Ce(){const{t:i}=v(),{hasPermission:n}=E(),[a,c]=j.useState(),[t,r]=j.useState(),{isOpen:b,onClose:f}=de(),s=K(),m=k(),h="Errortoast",o=async()=>{await i();const l=await Y(w.token,"get_doctor");return l==null?void 0:l.data.map(x=>{const{id:D,user_id:N,image:g,f_name:L,l_name:U,phone:q,email:M,specialization:W,department_name:H,active:J,stop_booking:$}=x;return{id:D,UserID:N,image:g,Name:`${L} ${U}`,phone:q,email:M,specialization:W,dept:H,active:e.jsxDEV(he,{id:N,isActive:J},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Doctors/Index.jsx",lineNumber:60,columnNumber:11},this),"Stop Booking":e.jsxDEV(be,{id:N,isStop_booking:$},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Doctors/Index.jsx",lineNumber:66,columnNumber:11},this)}})},F=l=>{c(l)},{isLoading:R,data:C,error:Q}=ee({queryKey:["doctors"],queryFn:o});Q&&(m.isActive(h)||m({id:h,title:i("doctors.index.errors.title"),description:i("doctors.index.errors.description"),status:"error",duration:2e3,isClosable:!0,position:"top"}));function B(l,P=""){return P?l.filter(x=>{var D;for(const N in x){const g=(D=x[N])==null?void 0:D.toString().toLowerCase();if(g&&g.includes(P.toLowerCase()))return!0}return!1}):l}return n("DOCTOR_VIEW")?e.jsxDEV(p,{children:[R||!C?e.jsxDEV(p,{children:[e.jsxDEV(V,{mb:5,justify:"space-between",children:[e.jsxDEV(d,{w:400,h:8},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Doctors/Index.jsx",lineNumber:126,columnNumber:13},this),e.jsxDEV(d,{w:200,h:8},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Doctors/Index.jsx",lineNumber:130,columnNumber:13},this)]},void 0,!0,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Doctors/Index.jsx",lineNumber:123,columnNumber:11},this),e.jsxDEV(d,{h:10,w:"100%",mt:2},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Doctors/Index.jsx",lineNumber:135,columnNumber:11},this),e.jsxDEV(d,{h:10,w:"100%",mt:2},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Doctors/Index.jsx",lineNumber:140,columnNumber:11},this),e.jsxDEV(d,{h:10,w:"100%",mt:2},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Doctors/Index.jsx",lineNumber:145,columnNumber:11},this),e.jsxDEV(d,{h:10,w:"100%",mt:2},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Doctors/Index.jsx",lineNumber:150,columnNumber:11},this),e.jsxDEV(d,{h:10,w:"100%",mt:2},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Doctors/Index.jsx",lineNumber:155,columnNumber:11},this),e.jsxDEV(d,{h:10,w:"100%",mt:2},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Doctors/Index.jsx",lineNumber:160,columnNumber:11},this),e.jsxDEV(d,{h:10,w:"100%",mt:2},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Doctors/Index.jsx",lineNumber:165,columnNumber:11},this),e.jsxDEV(d,{h:10,w:"100%",mt:2},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Doctors/Index.jsx",lineNumber:170,columnNumber:11},this),e.jsxDEV(d,{h:10,w:"100%",mt:2},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Doctors/Index.jsx",lineNumber:175,columnNumber:11},this),e.jsxDEV(d,{h:10,w:"100%",mt:2},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Doctors/Index.jsx",lineNumber:180,columnNumber:11},this)]},void 0,!0,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Doctors/Index.jsx",lineNumber:122,columnNumber:9},this):e.jsxDEV(p,{children:[e.jsxDEV(V,{mb:5,justify:"space-between",align:"center",children:[e.jsxDEV(me,{size:"md",placeholder:i("doctors.index.search"),w:400,maxW:"50vw",onChange:l=>{r(l.target.value)}},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Doctors/Index.jsx",lineNumber:192,columnNumber:13},this),e.jsxDEV(p,{children:e.jsxDEV(I,{isDisabled:!n("DOCTOR_ADD"),size:"sm",colorScheme:"blue",onClick:()=>{s("/doctors/add")},children:i("doctors.index.addNew")},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Doctors/Index.jsx",lineNumber:202,columnNumber:15},this)},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Doctors/Index.jsx",lineNumber:201,columnNumber:13},this)]},void 0,!0,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Doctors/Index.jsx",lineNumber:188,columnNumber:11},this),e.jsxDEV(ce,{data:B(C,t),onActionClick:e.jsxDEV(ue,{onClick:F,navigate:s,t:i},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Doctors/Index.jsx",lineNumber:216,columnNumber:15},this)},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Doctors/Index.jsx",lineNumber:213,columnNumber:11},this)]},void 0,!0,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Doctors/Index.jsx",lineNumber:187,columnNumber:9},this),e.jsxDEV(le,{isOpen:b,onClose:f,data:a},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Doctors/Index.jsx",lineNumber:226,columnNumber:7},this)]},void 0,!0,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Doctors/Index.jsx",lineNumber:120,columnNumber:5},this):e.jsxDEV(te,{message:i("doctors.index.noPermission")},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Doctors/Index.jsx",lineNumber:117,columnNumber:45},this)}const ue=({onClick:i,rowData:n,DeleteonOpen:a,navigate:c,t})=>{const{hasPermission:r}=E();return e.jsxDEV(V,{justify:"center",children:[e.jsxDEV(_,{isDisabled:!r("DOCTOR_UPDATE"),size:"sm",variant:"ghost",_hover:{background:"none"},onClick:()=>{i(n),c(`/doctor/update/${n.UserID}`)},icon:e.jsxDEV(Z,{fontSize:18,color:S.colors.blue[500]},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Doctors/Index.jsx",lineNumber:251,columnNumber:11},void 0)},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Doctors/Index.jsx",lineNumber:239,columnNumber:7},void 0),e.jsxDEV(_,{isDisabled:!r("DOCTOR_UPDATE"),size:"sm",variant:"ghost",_hover:{background:"none"},onClick:()=>{i(n),a()},icon:e.jsxDEV(X,{fontSize:18,color:S.colors.red[500]},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Doctors/Index.jsx",lineNumber:269,columnNumber:11},void 0)},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Doctors/Index.jsx",lineNumber:257,columnNumber:7},void 0)]},void 0,!0,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Doctors/Index.jsx",lineNumber:238,columnNumber:5},void 0)},he=({id:i,isActive:n})=>{const{t:a}=v(),{hasPermission:c}=E(),t=k(),r=y(),b=async(s,m)=>{let h={id:s,active:m};try{const o=await A(w.token,"update_doctor",h);o.response===200?(u(t,"success",a("doctors.index.success.updated")),r.invalidateQueries("doctors"),r.invalidateQueries(["doctors","dashboard"]),r.invalidateQueries(["doctor",s])):u(t,"error",o.message)}catch(o){u(t,"error",JSON.stringify(o))}},f=O({mutationFn:async s=>{await b(s.id,s.active)}});return e.jsxDEV(T,{display:"flex",alignItems:"center",children:e.jsxDEV(z,{isDisabled:!c("DOCTOR_UPDATE"),defaultChecked:n===1,size:"sm",onChange:s=>{let m=s.target.checked?1:0;f.mutate({id:i,active:m})}},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Doctors/Index.jsx",lineNumber:311,columnNumber:7},void 0)},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Doctors/Index.jsx",lineNumber:308,columnNumber:5},void 0)},be=({id:i,isStop_booking:n})=>{const{t:a}=v(),{hasPermission:c}=E(),t=k(),r=y(),b=async(s,m)=>{let h={id:s,stop_booking:m};try{const o=await A(w.token,"update_doctor",h);o.response===200?(u(t,"success",a("doctors.index.success.updated")),r.invalidateQueries("doctors"),r.invalidateQueries(["doctors","dashboard"]),r.invalidateQueries(["doctor",s])):u(t,"error",o.message)}catch(o){u(t,"error",JSON.stringify(o))}},f=O({mutationFn:async s=>{await b(s.id,s.stop_booking)}});return e.jsxDEV(T,{display:"flex",alignItems:"center",children:e.jsxDEV(z,{isDisabled:!c("DOCTOR_UPDATE"),defaultChecked:n===1,size:"sm",onChange:s=>{let m=s.target.checked?1:0;f.mutate({id:i,stop_booking:m})}},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Doctors/Index.jsx",lineNumber:356,columnNumber:7},void 0)},void 0,!1,{fileName:"/home/chan/medicare-samite/packages/web-admin/src/Pages/Doctors/Index.jsx",lineNumber:353,columnNumber:5},void 0)};export{he as IsActive,be as StopBooking,Ce as default};
