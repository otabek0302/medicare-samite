import{w as h,x as I,v as e,y as x,aE as Q,z as j,r as g,D as W,B as b,K as w,N as H}from"./index-BqRQ5zR-.js";import{F as G}from"./index-CS1DgOx7.js";import{e as Y}from"./index-D6RHo-Rw.js";import{u as J}from"./SettingData-CxfeWvqW.js";import{T as X,A as Z,a as $,N as ee,S as N,D as se}from"./Dashboard-DfQ9GR_Q.js";import{u as ie}from"./UseSearchFilter-HwQh-PCQ.js";import{A as ne}from"./AddMedicine-DfBX6110.js";import{h as ae,u as M,M as re,b as C,a as me,c as S,g as te,d as z,F as _,e as v,f}from"./index.esm-CDWxJwJY.js";import{u as de}from"./useMutation-9OMn6k9Q.js";import{D as ce}from"./createLucideIcon-Ha6tAQX1.js";import{d as P,I as A,F as k}from"./utils-BcOZwoxx.js";import{u as F}from"./HasPermission-BxGNMDGA.js";import{u as D,I as V}from"./index-CdSaDTFS.js";import"./tr-IqXuou1v.js";import"./image-CynZshwF.js";import"./visually-hidden.style-BiwU0iRL.js";const le=async n=>{const i=await Q(j.token,"update_prescribe_medicines",n);if(i.response!==200)throw new Error(i.message);return i};function oe({isOpen:n,onClose:i,data:a}){const{t:s}=h(),{register:r,handleSubmit:d}=ae(),c=M(),l=I(),m=de({mutationFn:async t=>{await le(t)},onSuccess:()=>{l.invalidateQueries({queryKey:["medicines"]}),f(c,"success",s("medicines.update.messages.success")),i()},onError:()=>{f(c,"error",s("medicines.update.messages.error"))}}),o=t=>{m.mutate({...t,id:a.id})};return e.jsxDEV(re,{isOpen:n,onClose:i,isCentered:!0,children:[e.jsxDEV(C,{},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Medicines/UpdateMedicine.jsx",lineNumber:49,columnNumber:7},this),e.jsxDEV(me,{as:"form",onSubmit:d(o),children:[e.jsxDEV(S,{fontSize:"md",children:s("medicines.update.title")},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Medicines/UpdateMedicine.jsx",lineNumber:51,columnNumber:9},this),e.jsxDEV(te,{top:3},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Medicines/UpdateMedicine.jsx",lineNumber:52,columnNumber:9},this),e.jsxDEV(ce,{},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Medicines/UpdateMedicine.jsx",lineNumber:53,columnNumber:9},this),e.jsxDEV(z,{children:[e.jsxDEV(P,{isRequired:!0,children:[e.jsxDEV(_,{fontSize:"sm",children:s("medicines.update.form.name.label")},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Medicines/UpdateMedicine.jsx",lineNumber:56,columnNumber:13},this),e.jsxDEV(A,{size:"md",placeholder:s("medicines.update.form.name.placeholder"),...r("title",{required:!0}),defaultValue:a.title},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Medicines/UpdateMedicine.jsx",lineNumber:57,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Medicines/UpdateMedicine.jsx",lineNumber:55,columnNumber:11},this),e.jsxDEV(P,{mt:3,children:[e.jsxDEV(_,{fontSize:"sm",children:s("medicines.update.form.notes.label")},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Medicines/UpdateMedicine.jsx",lineNumber:65,columnNumber:13},this),e.jsxDEV(X,{size:"md",placeholder:s("medicines.update.form.notes.placeholder"),...r("notes"),defaultValue:a.notes},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Medicines/UpdateMedicine.jsx",lineNumber:66,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Medicines/UpdateMedicine.jsx",lineNumber:64,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Medicines/UpdateMedicine.jsx",lineNumber:54,columnNumber:9},this),e.jsxDEV(v,{children:[e.jsxDEV(x,{colorScheme:"gray",mr:3,onClick:i,size:"sm",children:s("medicines.update.buttons.close")},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Medicines/UpdateMedicine.jsx",lineNumber:76,columnNumber:11},this),e.jsxDEV(x,{colorScheme:"blue",size:"sm",type:"submit",isLoading:m.isPending,children:s("medicines.update.buttons.update")},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Medicines/UpdateMedicine.jsx",lineNumber:83,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Medicines/UpdateMedicine.jsx",lineNumber:75,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Medicines/UpdateMedicine.jsx",lineNumber:50,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Medicines/UpdateMedicine.jsx",lineNumber:48,columnNumber:5},this)}function ue({isOpen:n,onClose:i,data:a}){const{t:s}=h(),r=M(),d=g.useRef(null),c=I(),[l,m]=g.useState(!1),o=async()=>{let t={id:a.id};try{m(!0);const u=await W(j.token,"delete_prescribe_medicines",t);m(!1),u.response===200?(f(r,"success",s("medicines.delete.messages.success")),c.invalidateQueries({queryKey:["medicines"]}),i()):f(r,"error",u.message)}catch{m(!1),f(r,"error",s("medicines.delete.messages.error"))}};return e.jsxDEV(Z,{isOpen:n,onClose:i,leastDestructiveRef:d,isCentered:!0,children:e.jsxDEV(C,{children:e.jsxDEV($,{children:[e.jsxDEV(S,{fontSize:"lg",fontWeight:"semi-bold",children:[s("medicines.delete.title")," ( ",e.jsxDEV("b",{children:a==null?void 0:a.title},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Medicines/DeleteMedicine.jsx",lineNumber:53,columnNumber:45},this)," )"]},void 0,!0,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Medicines/DeleteMedicine.jsx",lineNumber:52,columnNumber:11},this),e.jsxDEV(z,{children:s("medicines.delete.message")},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Medicines/DeleteMedicine.jsx",lineNumber:56,columnNumber:11},this),e.jsxDEV(v,{children:[e.jsxDEV(x,{ref:d,onClick:i,colorScheme:"gray",size:"sm",children:s("medicines.delete.buttons.cancel")},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Medicines/DeleteMedicine.jsx",lineNumber:61,columnNumber:13},this),e.jsxDEV(x,{colorScheme:"red",onClick:o,ml:3,size:"sm",isLoading:l,children:s("medicines.delete.buttons.delete")},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Medicines/DeleteMedicine.jsx",lineNumber:68,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Medicines/DeleteMedicine.jsx",lineNumber:60,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Medicines/DeleteMedicine.jsx",lineNumber:51,columnNumber:9},this)},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Medicines/DeleteMedicine.jsx",lineNumber:50,columnNumber:7},this)},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Medicines/DeleteMedicine.jsx",lineNumber:45,columnNumber:5},this)}function Ve(){const{t:n}=h(),{hasPermission:i}=F(),{isOpen:a,onOpen:s,onClose:r}=D(),[d,c]=g.useState(),{isOpen:l,onOpen:m,onClose:o}=D(),{isOpen:t,onOpen:u,onClose:O}=D(),E=M(),y="Errortoast",T=async()=>(await H(j.token,"get_prescribe_medicines")).data,q=p=>{c(p)},{isLoading:L,data:U,error:B}=J({queryKey:["medicines"],queryFn:T}),{handleSearchChange:R,filteredData:K}=ie(U);return B&&(E.isActive(y)||E({id:y,title:n("medicines.index.messages.error.title"),description:n("medicines.index.messages.error.description"),status:"error",duration:2e3,isClosable:!0,position:"top"})),i("MEDICINE_VIEW")?e.jsxDEV(b,{children:[L||!U?e.jsxDEV(b,{children:[e.jsxDEV(k,{mb:5,justify:"space-between",children:[e.jsxDEV(N,{w:400,h:8},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Medicines/Index.jsx",lineNumber:77,columnNumber:13},this),e.jsxDEV(N,{w:50,h:8},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Medicines/Index.jsx",lineNumber:81,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Medicines/Index.jsx",lineNumber:74,columnNumber:11},this),e.jsxDEV(N,{h:300,w:"100%"},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Medicines/Index.jsx",lineNumber:86,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Medicines/Index.jsx",lineNumber:73,columnNumber:9},this):e.jsxDEV(b,{children:[e.jsxDEV(k,{mb:5,justify:"space-between",align:"center",children:[e.jsxDEV(A,{size:"md",placeholder:n("medicines.index.search.placeholder"),w:400,maxW:"50vw",onChange:p=>R(p.target.value)},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Medicines/Index.jsx",lineNumber:97,columnNumber:13},this),e.jsxDEV(b,{children:e.jsxDEV(x,{size:"sm",colorScheme:"blue",onClick:s,isDisabled:!i("MEDICINE_ADD"),children:n("medicines.index.buttons.addNew")},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Medicines/Index.jsx",lineNumber:105,columnNumber:15},this)},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Medicines/Index.jsx",lineNumber:104,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Medicines/Index.jsx",lineNumber:93,columnNumber:11},this),e.jsxDEV(se,{data:K,onActionClick:e.jsxDEV(fe,{onClick:q,EditonOpen:u,DeleteonOpen:m},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Medicines/Index.jsx",lineNumber:118,columnNumber:15},this),minPad:"8px 8px",imgLast:!1},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Medicines/Index.jsx",lineNumber:114,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Medicines/Index.jsx",lineNumber:92,columnNumber:9},this),e.jsxDEV(ne,{isOpen:a,onClose:r},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Medicines/Index.jsx",lineNumber:130,columnNumber:7},this),t&&e.jsxDEV(oe,{isOpen:t,onClose:O,data:d},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Medicines/Index.jsx",lineNumber:135,columnNumber:9},this),l&&e.jsxDEV(ue,{isOpen:l,onClose:o,data:d},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Medicines/Index.jsx",lineNumber:142,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Medicines/Index.jsx",lineNumber:71,columnNumber:5},this):e.jsxDEV(ee,{},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Medicines/Index.jsx",lineNumber:68,columnNumber:47},this)}const fe=({onClick:n,rowData:i,EditonOpen:a,DeleteonOpen:s})=>{const{hasPermission:r}=F();return e.jsxDEV(k,{justify:"center",children:[e.jsxDEV(V,{"aria-label":"Edit medicine",isDisabled:!r("MEDICINE_UPDATE"),size:"sm",variant:"ghost",_hover:{background:"none"},onClick:()=>{n(i),a()},icon:e.jsxDEV(Y,{fontSize:18,color:w.colors.blue[500]},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Medicines/Index.jsx",lineNumber:170,columnNumber:11},void 0)},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Medicines/Index.jsx",lineNumber:157,columnNumber:7},void 0),e.jsxDEV(V,{"aria-label":"Delete medicine",isDisabled:!r("MEDICINE_DELETE"),size:"sm",variant:"ghost",_hover:{background:"none"},onClick:()=>{n(i),s()},icon:e.jsxDEV(G,{fontSize:18,color:w.colors.red[500]},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Medicines/Index.jsx",lineNumber:189,columnNumber:11},void 0)},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Medicines/Index.jsx",lineNumber:176,columnNumber:7},void 0)]},void 0,!0,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Medicines/Index.jsx",lineNumber:156,columnNumber:5},void 0)};export{Ve as default};
