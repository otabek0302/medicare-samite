import{U as F,r as c,x as R,w as B,v as e,B as L,T as D,y as p,J as b,P as O,Q as T,S as z,z as q}from"./index-BqRQ5zR-.js";import{u as M,f as Q}from"./index-CdSaDTFS.js";import{h as G,u as H,F as a,f as u}from"./index.esm-CDWxJwJY.js";import{I as J}from"./IsdModal-DYnTCngq.js";import{t as K}from"./today-D_vLUvRX.js";import{u as W}from"./HasPermission-BxGNMDGA.js";import{N as $}from"./Dashboard-DfQ9GR_Q.js";import{F as n,d as i,I as m}from"./utils-BcOZwoxx.js";import{C as k,a as j}from"./card-body-DyktQENp.js";import{I as X}from"./input-group-D9TmQQ8n.js";import{I as Y}from"./input-addon-Cb0INng4.js";import{S as Z}from"./select-BdYZ_n_k.js";import{D as ee}from"./createLucideIcon-Ha6tAQX1.js";import{T as se}from"./index-CS1DgOx7.js";import{V as re}from"./v-stack-BMjwQhCU.js";import"./SettingData-CxfeWvqW.js";import"./tr-IqXuou1v.js";import"./image-CynZshwF.js";import"./visually-hidden.style-BiwU0iRL.js";import"./split-CzYrjwZo.js";function je(){const{register:r,handleSubmit:w,reset:y}=G(),x=F(),[P,o]=c.useState(),A=R(),t=H(),[l,N]=c.useState(null),[U,_]=c.useState("+998"),{isOpen:E,onOpen:V,onClose:S}=M(),g=c.useRef(),{t:s}=B(),C=d=>{const f=d.target.files[0];N(f)},v=async d=>{if(d.password!=d.cnfPassword)return u(t,"error","password does not match");let f={image:l,isd_code:U,...d};try{o(!0);const h=await z(q.token,"add_user",f);o(!1),h.response===200?(u(t,"success",s("users.add.messages.success")),A.invalidateQueries({queryKey:["users"]}),y(),x("/users")):u(t,"error",s("users.add.messages.error"))}catch{o(!1),u(t,"error",s("users.add.messages.error"))}},{hasPermission:I}=W();return I("USER_UPDATE")?e.jsxDEV(L,{children:[e.jsxDEV(n,{justify:"space-between",alignItems:"center",children:[e.jsxDEV(D,{fontSize:20,fontWeight:500,children:s("users.add.title")},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Users/AddUser.jsx",lineNumber:75,columnNumber:9},this),e.jsxDEV(p,{w:120,size:"sm",variant:b("blackButton","gray"),onClick:()=>{x(-1)},children:s("users.add.back")},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Users/AddUser.jsx",lineNumber:80,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Users/AddUser.jsx",lineNumber:72,columnNumber:7},this),e.jsxDEV(n,{gap:10,children:[e.jsxDEV(k,{mt:5,bg:b("white","gray.700"),w:"70%",children:e.jsxDEV(j,{p:3,as:"form",onSubmit:w(v),children:[e.jsxDEV(n,{gap:10,children:[e.jsxDEV(i,{children:[e.jsxDEV(a,{children:s("users.add.form.email.label")},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Users/AddUser.jsx",lineNumber:102,columnNumber:17},this),e.jsxDEV(m,{w:250,type:"email",placeholder:s("users.add.form.email.placeholder"),...r("email")},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Users/AddUser.jsx",lineNumber:103,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Users/AddUser.jsx",lineNumber:101,columnNumber:15},this),e.jsxDEV(i,{children:[e.jsxDEV(a,{children:s("users.add.form.password.label")},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Users/AddUser.jsx",lineNumber:112,columnNumber:17},this),e.jsxDEV(m,{type:"password",placeholder:s("users.add.form.password.placeholder"),...r("password")},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Users/AddUser.jsx",lineNumber:113,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Users/AddUser.jsx",lineNumber:111,columnNumber:15},this),e.jsxDEV(i,{children:[e.jsxDEV(a,{children:s("users.add.form.confirmPassword.label")},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Users/AddUser.jsx",lineNumber:120,columnNumber:17},this),e.jsxDEV(m,{type:"password",placeholder:s("users.add.form.confirmPassword.placeholder"),...r("cnfPassword")},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Users/AddUser.jsx",lineNumber:121,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Users/AddUser.jsx",lineNumber:119,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Users/AddUser.jsx",lineNumber:100,columnNumber:13},this),e.jsxDEV(n,{gap:10,mt:5,children:[e.jsxDEV(i,{isRequired:!0,children:[e.jsxDEV(a,{children:s("users.add.form.firstName.label")},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Users/AddUser.jsx",lineNumber:132,columnNumber:17},this),e.jsxDEV(m,{placeholder:s("users.add.form.firstName.placeholder"),...r("f_name",{required:!0})},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Users/AddUser.jsx",lineNumber:133,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Users/AddUser.jsx",lineNumber:131,columnNumber:15},this),e.jsxDEV(i,{isRequired:!0,children:[e.jsxDEV(a,{children:s("users.add.form.lastName.label")},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Users/AddUser.jsx",lineNumber:140,columnNumber:17},this),e.jsxDEV(m,{placeholder:s("users.add.form.lastName.placeholder"),...r("l_name",{required:!0})},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Users/AddUser.jsx",lineNumber:141,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Users/AddUser.jsx",lineNumber:139,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Users/AddUser.jsx",lineNumber:128,columnNumber:13},this),e.jsxDEV(n,{gap:10,mt:5,children:[e.jsxDEV(i,{children:[e.jsxDEV(a,{children:s("users.add.form.phone.label")},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Users/AddUser.jsx",lineNumber:152,columnNumber:17},this),e.jsxDEV(X,{children:[e.jsxDEV(Y,{cursor:"pointer",onClick:d=>{d.stopPropagation(),V()},children:[U," ",e.jsxDEV(Q,{style:{marginLeft:"10px"}},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Users/AddUser.jsx",lineNumber:160,columnNumber:32},this)]},void 0,!0,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Users/AddUser.jsx",lineNumber:154,columnNumber:19},this),e.jsxDEV(m,{type:"tel",placeholder:s("users.add.form.phone.placeholder"),...r("phone",{pattern:/^[+]*[(]{0,1}[0-9]{1,3}[)]{0,1}[-\s\\./0-9]*$/g})},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Users/AddUser.jsx",lineNumber:162,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Users/AddUser.jsx",lineNumber:153,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Users/AddUser.jsx",lineNumber:151,columnNumber:15},this),e.jsxDEV(i,{children:[e.jsxDEV(a,{children:s("users.add.form.dateOfBirth.label")},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Users/AddUser.jsx",lineNumber:172,columnNumber:17},this),e.jsxDEV(m,{max:K(),placeholder:s("users.add.form.dateOfBirth.placeholder"),size:"md",type:"date",...r("dob")},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Users/AddUser.jsx",lineNumber:173,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Users/AddUser.jsx",lineNumber:171,columnNumber:15},this),e.jsxDEV(i,{children:[e.jsxDEV(a,{children:s("users.add.form.gender.label")},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Users/AddUser.jsx",lineNumber:182,columnNumber:17},this),e.jsxDEV(Z,{placeholder:s("users.add.form.gender.placeholder"),...r("gender"),children:[e.jsxDEV("option",{value:"Female",children:s("users.add.form.gender.options.female")},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Users/AddUser.jsx",lineNumber:186,columnNumber:19},this)," ",e.jsxDEV("option",{value:"Male",children:s("users.add.form.gender.options.male")},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Users/AddUser.jsx",lineNumber:187,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Users/AddUser.jsx",lineNumber:183,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Users/AddUser.jsx",lineNumber:181,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Users/AddUser.jsx",lineNumber:148,columnNumber:13},this),e.jsxDEV(p,{w:"100%",mt:10,type:"submit",colorScheme:"green",size:"sm",isLoading:P,children:s("users.add.buttons.add")},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Users/AddUser.jsx",lineNumber:192,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Users/AddUser.jsx",lineNumber:96,columnNumber:11},this)},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Users/AddUser.jsx",lineNumber:92,columnNumber:9},this),e.jsxDEV(k,{mt:5,bg:b("white","gray.700"),w:"25%",h:"fit-content",pb:10,children:e.jsxDEV(j,{p:2,children:[e.jsxDEV(D,{textAlign:"center",children:s("users.add.form.profilePicture.label")},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Users/AddUser.jsx",lineNumber:210,columnNumber:13},this),e.jsxDEV(ee,{},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Users/AddUser.jsx",lineNumber:211,columnNumber:13},this),e.jsxDEV(n,{p:2,justify:"center",mt:5,position:"relative",children:[e.jsxDEV(O,{borderRadius:"50%",h:200,objectFit:"cover",w:200,src:l?URL.createObjectURL(l):"/admin/profilePicturePlaceholder.png"},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Users/AddUser.jsx",lineNumber:217,columnNumber:15},this),l&&e.jsxDEV(se,{label:s("users.add.form.profilePicture.clear"),fontSize:"md",children:e.jsxDEV(T,{colorScheme:"red",variant:"solid",position:"absolute",right:2,onClick:()=>{N(null)}},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Users/AddUser.jsx",lineNumber:232,columnNumber:19},this)},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Users/AddUser.jsx",lineNumber:229,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Users/AddUser.jsx",lineNumber:212,columnNumber:13},this),e.jsxDEV(re,{spacing:4,align:"stretch",mt:10,children:[e.jsxDEV(m,{type:"file",display:"none",ref:g,onChange:C,accept:".jpeg, .svg, .png , .jpg"},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Users/AddUser.jsx",lineNumber:248,columnNumber:15},this),e.jsxDEV(p,{size:"sm",onClick:()=>{g.current.click()},colorScheme:"blue",children:s("users.add.form.profilePicture.upload")},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Users/AddUser.jsx",lineNumber:256,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Users/AddUser.jsx",lineNumber:244,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Users/AddUser.jsx",lineNumber:209,columnNumber:11},this)},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Users/AddUser.jsx",lineNumber:203,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Users/AddUser.jsx",lineNumber:91,columnNumber:7},this),e.jsxDEV(J,{isOpen:E,onClose:S,setisd_code:_},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Users/AddUser.jsx",lineNumber:270,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Users/AddUser.jsx",lineNumber:71,columnNumber:5},this):e.jsxDEV($,{},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Pages/Users/AddUser.jsx",lineNumber:68,columnNumber:45},this)}export{je as default};
