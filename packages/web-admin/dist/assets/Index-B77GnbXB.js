import{r as d,w,V as $,v as e,B as y,y as Q,J as P,L as F,O as q,z as G}from"./index-BFPSIpCx.js";import{e as W}from"./index-xAROFF34.js";import{u as H}from"./SettingData-DvTyOSTZ.js";import{F as J}from"./index-C7DuEf2v.js";import{u as K,N as U,D as X,P as Z,S as g}from"./Dashboard-CmmBgoMl.js";import{u as V}from"./HasPermission-Dz1RX8IC.js";import{A as ee,D as ae,E as se}from"./Add-CiHFBYy-.js";import{u as me}from"./index.esm-Cjy54hoM.js";import{F as u,I as ie}from"./utils-DGMmCGlW.js";import{u as j,I as k}from"./index-CexvglWR.js";import"./createLucideIcon-C1VZi4Qy.js";import"./tr-BasSmpYP.js";import"./image-4nR63Jb_.js";import"./visually-hidden.style-BGGO2DOy.js";import"./today-D_vLUvRX.js";import"./select-OppVOMPE.js";import"./split-CzYrjwZo.js";import"./UsersComboBox-C8RnCPnU.js";import"./popover-CAv5j0af.js";import"./Users-CRtctd-M.js";import"./IsdModal-4LOZauw6.js";import"./input-group-BMKEi_kL.js";import"./input-addon-BqQivygC.js";const v=50,ne=(s,a)=>{const i=(s-1)*a,m=i+a-1;return{startIndex:i,endIndex:m}},re=s=>s==null?void 0:s.map(a=>{const{id:i,user_id:m,f_name:t,l_name:r,phone:b,gender:f,dob:c,created_at:h,user_f_name:x,user_l_name:l,user_phone:p}=a;return{id:i,user_id:m,"Member name":`${t} ${r}`,"Member Phone":b,"parent Name":`${x} ${l}`,"parent Phone":p,gender:f,dateOfBirth:c?P(c).format("DD MMM YYYY"):"N/A",createdAt:P(h).format("DD MMM YYYY hh:mm a")}}),_e=()=>{const{hasPermission:s}=V(),[a,i]=d.useState(null),[m,t]=d.useState(1),[r,b]=d.useState(""),f=K(r,1e3),{t:c}=w(),{startIndex:h,endIndex:x}=ne(m,v),{isOpen:l,onOpen:p,onClose:_}=j(),{isOpen:D,onOpen:A,onClose:C}=j(),{isOpen:E,onOpen:O,onClose:S}=j(),N=me(),Y=$(),M=d.useRef(null),{isLoading:L,data:o,error:I}=H({queryKey:["family-members",m,f],queryFn:async()=>{const n=await q(G.token,`get_family_member/page?start=${h}&end=${x}`);return{data:n.data,totalRecord:n.total_record}}}),T=n=>t(n);d.useEffect(()=>{M.current&&M.current.scrollIntoView({behavior:"smooth",block:"start"})},[m]),d.useEffect(()=>{I&&!N.isActive("Errortoast")&&N({id:"Errortoast",title:c("familyMembers.index.messages.error"),description:c("familyMembers.index.messages.error"),status:"error",duration:2e3,isClosable:!0,position:"top"})},[I,N]);const z=re(o==null?void 0:o.data),B=Math.ceil((o==null?void 0:o.totalRecord)/v),R=n=>i(n);return s("FAMILY_VIEW")?e.jsxDEV(y,{children:[L||!o?e.jsxDEV(oe,{},void 0,!1,{fileName:"/home/chan/medicare-samite/medicare-samite/packages/web-admin/src/Pages/Family-Members/Index.jsx",lineNumber:114,columnNumber:9},void 0):e.jsxDEV(y,{children:[e.jsxDEV(u,{mb:5,justify:"space-between",align:"center",children:[e.jsxDEV(ie,{size:"md",placeholder:"Search",w:400,maxW:"50vw",onChange:n=>b(n.target.value),value:r},void 0,!1,{fileName:"/home/chan/medicare-samite/medicare-samite/packages/web-admin/src/Pages/Family-Members/Index.jsx",lineNumber:121,columnNumber:13},void 0),e.jsxDEV(Q,{size:"sm",colorScheme:"blue",onClick:p,isDisabled:!s("FAMILY_ADD"),children:c("familyMembers.index.buttons.add")},void 0,!1,{fileName:"/home/chan/medicare-samite/medicare-samite/packages/web-admin/src/Pages/Family-Members/Index.jsx",lineNumber:130,columnNumber:13},void 0)]},void 0,!0,{fileName:"/home/chan/medicare-samite/medicare-samite/packages/web-admin/src/Pages/Family-Members/Index.jsx",lineNumber:117,columnNumber:11},void 0),e.jsxDEV(X,{minPad:"1px 20px",data:z,onActionClick:e.jsxDEV(te,{onClick:R,navigate:Y,rowData:a,DeleteonOpen:A,EditonOpen:O},void 0,!1,{fileName:"/home/chan/medicare-samite/medicare-samite/packages/web-admin/src/Pages/Family-Members/Index.jsx",lineNumber:142,columnNumber:15},void 0)},void 0,!1,{fileName:"/home/chan/medicare-samite/medicare-samite/packages/web-admin/src/Pages/Family-Members/Index.jsx",lineNumber:138,columnNumber:11},void 0)]},void 0,!0,{fileName:"/home/chan/medicare-samite/medicare-samite/packages/web-admin/src/Pages/Family-Members/Index.jsx",lineNumber:116,columnNumber:9},void 0),e.jsxDEV(u,{justify:"center",mt:4,children:e.jsxDEV(Z,{currentPage:m,onPageChange:T,totalPages:B},void 0,!1,{fileName:"/home/chan/medicare-samite/medicare-samite/packages/web-admin/src/Pages/Family-Members/Index.jsx",lineNumber:156,columnNumber:9},void 0)},void 0,!1,{fileName:"/home/chan/medicare-samite/medicare-samite/packages/web-admin/src/Pages/Family-Members/Index.jsx",lineNumber:153,columnNumber:7},void 0),l&&e.jsxDEV(ee,{isOpen:l,onClose:_},void 0,!1,{fileName:"/home/chan/medicare-samite/medicare-samite/packages/web-admin/src/Pages/Family-Members/Index.jsx",lineNumber:164,columnNumber:9},void 0),D&&e.jsxDEV(ae,{isOpen:D,onClose:C,data:a},void 0,!1,{fileName:"/home/chan/medicare-samite/medicare-samite/packages/web-admin/src/Pages/Family-Members/Index.jsx",lineNumber:171,columnNumber:9},void 0),E&&e.jsxDEV(se,{isOpen:E,onClose:S,data:a},void 0,!1,{fileName:"/home/chan/medicare-samite/medicare-samite/packages/web-admin/src/Pages/Family-Members/Index.jsx",lineNumber:178,columnNumber:9},void 0)]},void 0,!0,{fileName:"/home/chan/medicare-samite/medicare-samite/packages/web-admin/src/Pages/Family-Members/Index.jsx",lineNumber:112,columnNumber:5},void 0):e.jsxDEV(U,{},void 0,!1,{fileName:"/home/chan/medicare-samite/medicare-samite/packages/web-admin/src/Pages/Family-Members/Index.jsx",lineNumber:109,columnNumber:45},void 0)},oe=()=>e.jsxDEV(y,{children:[e.jsxDEV(u,{mb:5,justify:"space-between",children:[e.jsxDEV(g,{w:400,h:8},void 0,!1,{fileName:"/home/chan/medicare-samite/medicare-samite/packages/web-admin/src/Pages/Family-Members/Index.jsx",lineNumber:191,columnNumber:7},void 0),e.jsxDEV(g,{w:200,h:8},void 0,!1,{fileName:"/home/chan/medicare-samite/medicare-samite/packages/web-admin/src/Pages/Family-Members/Index.jsx",lineNumber:192,columnNumber:7},void 0)]},void 0,!0,{fileName:"/home/chan/medicare-samite/medicare-samite/packages/web-admin/src/Pages/Family-Members/Index.jsx",lineNumber:190,columnNumber:5},void 0),Array.from({length:10}).map((s,a)=>e.jsxDEV(g,{h:10,w:"100%",mt:2},a,!1,{fileName:"/home/chan/medicare-samite/medicare-samite/packages/web-admin/src/Pages/Family-Members/Index.jsx",lineNumber:195,columnNumber:7},void 0))]},void 0,!0,{fileName:"/home/chan/medicare-samite/medicare-samite/packages/web-admin/src/Pages/Family-Members/Index.jsx",lineNumber:189,columnNumber:3},void 0),te=({onClick:s,rowData:a,DeleteonOpen:i,EditonOpen:m})=>{const{hasPermission:t}=V(),{t:r}=w();return e.jsxDEV(u,{justify:"center",children:[e.jsxDEV(k,{"aria-label":r("familyMembers.index.buttons.edit"),isDisabled:!t("FAMILY_UPDATE"),size:"sm",variant:"ghost",_hover:{background:"none"},onClick:()=>{s(a),m()},icon:e.jsxDEV(W,{fontSize:18,color:F.colors.blue[500]},void 0,!1,{fileName:"/home/chan/medicare-samite/medicare-samite/packages/web-admin/src/Pages/Family-Members/Index.jsx",lineNumber:216,columnNumber:11},void 0)},void 0,!1,{fileName:"/home/chan/medicare-samite/medicare-samite/packages/web-admin/src/Pages/Family-Members/Index.jsx",lineNumber:205,columnNumber:7},void 0),e.jsxDEV(k,{"aria-label":r("familyMembers.index.buttons.delete"),isDisabled:!t("FAMILY_DELETE"),size:"sm",variant:"ghost",_hover:{background:"none"},onClick:()=>{s(a),i()},icon:e.jsxDEV(J,{fontSize:18,color:F.colors.red[500]},void 0,!1,{fileName:"/home/chan/medicare-samite/medicare-samite/packages/web-admin/src/Pages/Family-Members/Index.jsx",lineNumber:236,columnNumber:11},void 0)},void 0,!1,{fileName:"/home/chan/medicare-samite/medicare-samite/packages/web-admin/src/Pages/Family-Members/Index.jsx",lineNumber:223,columnNumber:7},void 0)]},void 0,!0,{fileName:"/home/chan/medicare-samite/medicare-samite/packages/web-admin/src/Pages/Family-Members/Index.jsx",lineNumber:204,columnNumber:5},void 0)};export{_e as default};
