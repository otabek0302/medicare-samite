import{r as p,a4 as x,v as i,O as w,z as C}from"./index-BFPSIpCx.js";import{B as g}from"./button-B6N2mjZu.js";import{P as j,a as v,C as k,b as D,c as E,d as M,e as A,f as V,g as f,h as b}from"./popover-CAv5j0af.js";import{u as y}from"./SettingData-DvTyOSTZ.js";function _({data:a,handleChange:c,name:t,defaultId:d,defaultName:r,mainIndex:l}){const[h,u]=p.useState(!1),[s,m]=p.useState(""),{colorMode:n}=x();p.useEffect(()=>{if(d){const e=a==null?void 0:a.find(o=>o.id===d);e&&m(e.title)}else if(r){const e=a==null?void 0:a.find(o=>o.title.toLowerCase()===r.toLowerCase());m(e?e.title:r)}},[d,r,a]);const N=e=>{const o=e.target.value;o===""||o===null||o===void 0?m():m(o)};return i.jsxDEV(j,{open:h,onOpenChange:u,children:[i.jsxDEV(v,{asChild:!0,children:i.jsxDEV(g,{variant:"outline",role:"combobox","aria-expanded":h,className:`w-[100%] h-10 justify-between bg-transparent hover:bg-transparent hover:text-inherit rounded-[6px] capitalize ${n==="dark"?"border-[#ffffff3d]":"border-[#E2e8f0]"}`,children:[s||`Select ${t}`,i.jsxDEV(k,{className:"ml-2 h-4 w-4 shrink-0 "},void 0,!1,{fileName:"/home/chan/medicare-samite/medicare-samite/packages/web-admin/src/Components/MedicineAutocomplete.jsx",lineNumber:73,columnNumber:11},this)]},void 0,!0,{fileName:"/home/chan/medicare-samite/medicare-samite/packages/web-admin/src/Components/MedicineAutocomplete.jsx",lineNumber:65,columnNumber:9},this)},void 0,!1,{fileName:"/home/chan/medicare-samite/medicare-samite/packages/web-admin/src/Components/MedicineAutocomplete.jsx",lineNumber:64,columnNumber:7},this),i.jsxDEV(D,{className:`w-[200px] p-0 max-h-[240px] overflow-y-scroll hideScrollbar ${n==="dark"?"bg-[#2D3748]":"bg-[#ffffff]"}`,children:i.jsxDEV(E,{className:`${n==="dark"?"bg-[#2D3748]":"bg-[#ffffff]"}`,children:[i.jsxDEV(M,{placeholder:`Search ${t}`,onChange:N,colorMode:n,className:n==="dark"?"text-[#fff]":"text-[#000]"},void 0,!1,{fileName:"/home/chan/medicare-samite/medicare-samite/packages/web-admin/src/Components/MedicineAutocomplete.jsx",lineNumber:84,columnNumber:11},this),i.jsxDEV(A,{children:["No ",t," found."]},void 0,!0,{fileName:"/home/chan/medicare-samite/medicare-samite/packages/web-admin/src/Components/MedicineAutocomplete.jsx",lineNumber:91,columnNumber:11},this),i.jsxDEV(V,{children:[s?i.jsxDEV(f,{value:s.toString(),onSelect:e=>{m(e),u(!1),c(l,"medicine_name",s),c(l,"notes","")},className:"dark:text-white capitalize",children:[i.jsxDEV(b,{className:`mr-2 h-4 w-4 ${s.toLowerCase()===s.toLowerCase()?"opacity-100":"opacity-0"}`},void 0,!1,{fileName:"/home/chan/medicare-samite/medicare-samite/packages/web-admin/src/Components/MedicineAutocomplete.jsx",lineNumber:104,columnNumber:17},this),s]},s,!0,{fileName:"/home/chan/medicare-samite/medicare-samite/packages/web-admin/src/Components/MedicineAutocomplete.jsx",lineNumber:94,columnNumber:15},this):null,a==null?void 0:a.map(e=>i.jsxDEV(f,{value:e.title.toString(),onSelect:o=>{m(o),u(!1),c(l,"medicine_name",e.title),c(l,"notes",e.notes)},className:"dark:text-white capitalize",children:[i.jsxDEV(b,{className:`mr-2 h-4 w-4 ${(s==null?void 0:s.toLowerCase())===(e==null?void 0:e.title.toLowerCase())?"opacity-100":"opacity-0"}`},void 0,!1,{fileName:"/home/chan/medicare-samite/medicare-samite/packages/web-admin/src/Components/MedicineAutocomplete.jsx",lineNumber:125,columnNumber:17},this),e==null?void 0:e.title]},e.id,!0,{fileName:"/home/chan/medicare-samite/medicare-samite/packages/web-admin/src/Components/MedicineAutocomplete.jsx",lineNumber:115,columnNumber:15},this))]},void 0,!0,{fileName:"/home/chan/medicare-samite/medicare-samite/packages/web-admin/src/Components/MedicineAutocomplete.jsx",lineNumber:92,columnNumber:11},this)]},void 0,!0,{fileName:"/home/chan/medicare-samite/medicare-samite/packages/web-admin/src/Components/MedicineAutocomplete.jsx",lineNumber:80,columnNumber:9},this)},void 0,!1,{fileName:"/home/chan/medicare-samite/medicare-samite/packages/web-admin/src/Components/MedicineAutocomplete.jsx",lineNumber:76,columnNumber:7},this)]},void 0,!0,{fileName:"/home/chan/medicare-samite/medicare-samite/packages/web-admin/src/Components/MedicineAutocomplete.jsx",lineNumber:61,columnNumber:5},this)}const S=async()=>(await w(C.token,"get_prescribe_medicines")).data,O=()=>{const{isLoading:a,data:c,error:t}=y({queryKey:["medicines"],queryFn:S});return{medicinesData:c,medicinesLoading:a,medicinesError:t}};export{_ as M,O as u};
