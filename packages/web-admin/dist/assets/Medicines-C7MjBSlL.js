import{r as p,a3 as h,v as n,N as k,z as D}from"./index-BqRQ5zR-.js";import{B as w}from"./button-Df1mm21c.js";import{P as C,a as g,C as j,b as y,c as E,d as M,e as _,f as A,g as b,h as x}from"./popover-DbwkstBv.js";import{u as U}from"./SettingData-CxfeWvqW.js";function z({data:s,handleChange:o,name:i,defaultId:d,defaultName:c,mainIndex:l}){const[f,u]=p.useState(!1),[a,r]=p.useState(""),{colorMode:m}=h();p.useEffect(()=>{if(d){const e=s==null?void 0:s.find(t=>t.id===d);e&&r(e.title)}else if(c){const e=s==null?void 0:s.find(t=>t.title.toLowerCase()===c.toLowerCase());r(e?e.title:c)}},[d,c,s]);const N=e=>{const t=e.target.value;t===""||t===null||t===void 0?r():r(t)};return n.jsxDEV(C,{open:f,onOpenChange:u,children:[n.jsxDEV(g,{asChild:!0,children:n.jsxDEV(w,{variant:"outline",role:"combobox","aria-expanded":f,className:`w-[100%] h-10 justify-between bg-transparent hover:bg-transparent hover:text-inherit rounded-[6px] capitalize ${m==="dark"?"border-[#ffffff3d]":"border-[#E2e8f0]"}`,children:[a||`Select ${i}`,n.jsxDEV(j,{className:"ml-2 h-4 w-4 shrink-0 "},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Components/MedicineAutocomplete.jsx",lineNumber:73,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Components/MedicineAutocomplete.jsx",lineNumber:65,columnNumber:9},this)},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Components/MedicineAutocomplete.jsx",lineNumber:64,columnNumber:7},this),n.jsxDEV(y,{className:`w-[200px] p-0 max-h-[240px] overflow-y-scroll hideScrollbar ${m==="dark"?"bg-[#2D3748]":"bg-[#ffffff]"}`,children:n.jsxDEV(E,{className:`${m==="dark"?"bg-[#2D3748]":"bg-[#ffffff]"}`,children:[n.jsxDEV(M,{placeholder:`Search ${i}`,onChange:N,colorMode:m,className:m==="dark"?"text-[#fff]":"text-[#000]"},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Components/MedicineAutocomplete.jsx",lineNumber:84,columnNumber:11},this),n.jsxDEV(_,{children:["No ",i," found."]},void 0,!0,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Components/MedicineAutocomplete.jsx",lineNumber:91,columnNumber:11},this),n.jsxDEV(A,{children:[a?n.jsxDEV(b,{value:a.toString(),onSelect:e=>{r(e),u(!1),o(l,"medicine_name",a),o(l,"notes","")},className:"dark:text-white capitalize",children:[n.jsxDEV(x,{className:`mr-2 h-4 w-4 ${a.toLowerCase()===a.toLowerCase()?"opacity-100":"opacity-0"}`},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Components/MedicineAutocomplete.jsx",lineNumber:104,columnNumber:17},this),a]},a,!0,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Components/MedicineAutocomplete.jsx",lineNumber:94,columnNumber:15},this):null,s==null?void 0:s.map(e=>n.jsxDEV(b,{value:e.title.toString(),onSelect:t=>{r(t),u(!1),o(l,"medicine_name",e.title),o(l,"notes",e.notes)},className:"dark:text-white capitalize",children:[n.jsxDEV(x,{className:`mr-2 h-4 w-4 ${(a==null?void 0:a.toLowerCase())===(e==null?void 0:e.title.toLowerCase())?"opacity-100":"opacity-0"}`},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Components/MedicineAutocomplete.jsx",lineNumber:125,columnNumber:17},this),e==null?void 0:e.title]},e.id,!0,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Components/MedicineAutocomplete.jsx",lineNumber:115,columnNumber:15},this))]},void 0,!0,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Components/MedicineAutocomplete.jsx",lineNumber:92,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Components/MedicineAutocomplete.jsx",lineNumber:80,columnNumber:9},this)},void 0,!1,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Components/MedicineAutocomplete.jsx",lineNumber:76,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/fenix_systems/Desktop/medicare-master/packages/web-admin/src/Components/MedicineAutocomplete.jsx",lineNumber:61,columnNumber:5},this)}const V=async()=>(await k(D.token,"get_prescribe_medicines")).data,P=()=>{const{isLoading:s,data:o,error:i}=U({queryKey:["medicines"],queryFn:V});return{medicinesData:o,medicinesLoading:s,medicinesError:i}};export{z as M,P as u};
